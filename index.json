[{"categories":["é˜…è¯»"],"content":"å‰è¨€ æœ€è¿‘æ‹œè¯»äº†ä¸‹ã€Šé‡æ„ æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ç¬¬äºŒç‰ˆã€‹ä¹¦é‡Œå¤§æ¦‚å¯ä»¥åˆ†ä¸º 4 éƒ¨åˆ†ï¼Œå‰åŠéƒ¨åˆ†ä¸»è¦è®²äº† ä»€ä¹ˆæ˜¯é‡æ„ã€ä¸ºä»€ä¹ˆè¦é‡æ„ã€ä»€ä¹ˆæ—¶å€™é‡æ„ï¼›ååŠéƒ¨åˆ†åˆ™æ˜¯ä½œè€…æ€»ç»“çš„é‡æ„çš„æ‰‹æ³•å’Œä¸€äº›ç›¸åº”çš„å°èŒƒä¾‹ï¼Œè¯»å®Œä¹‹åæ·±æœ‰ä½“ä¼šã€‚ ä»€ä¹ˆæ˜¯é‡æ„ ä¸åŒäºæŠ€æœ¯æ¢å‹ç­‰ä¸“é—¨æŠ½å‡ºæ—¶é—´å¯¹ä»£ç è¿›è¡Œçš„å¤§å‹é‡æ„ã€‚ä¹¦ä¸­æåˆ°çš„é‡æ„æ˜¯å¯¹ä»£ç ç»“æ„çš„ä¸€ç§è°ƒæ•´ï¼Œåœ¨ä¸æ”¹å˜ä»£ç å¤–åœ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œå¯¹ä»£ç åšå‡ºä¿®æ”¹ï¼Œæé«˜å…¶å¯ç†è§£æ€§ã€‚ é‡æ„çš„å…³é”®åœ¨äºè¿ç”¨å¤§é‡å¾®å°ä¸”ä¿è¯è½¯ä»¶è¡Œä¸ºçš„æ­¥éª¤ï¼Œå°†é‡æ„è´¯ç©¿åœ¨é¡¹ç›®çš„æ•´ä¸ªè¿­ä»£å¼€å‘ä¸­ã€‚æ¯ä¸ªå•ç‹¬çš„é‡æ„è¦ä¹ˆå¾ˆå°ï¼Œè¦ä¹ˆç”±è‹¥å¹²å°æ­¥éª¤ç»„æˆã€‚å› æ­¤ä»£ç å¾ˆå°‘è¿›å…¥ä¸å¯å·¥ä½œçš„çŠ¶æ€ï¼Œå³ä½¿é‡æ„æœªå®Œæˆï¼Œä»£ç ä¹Ÿæ—¶åˆ»å¯ä»¥è¿è¡Œã€‚ ä¸ºä»€ä¹ˆè¦é‡æ„ ä»£ç è®¾è®¡ä¸æ˜¯åœ¨ä¸€å¼€å§‹å®Œæˆçš„ï¼Œæœ‰äº›ä»£ç åœ¨ä¸€å¼€å§‹è®¾è®¡çš„æ—¶å€™å¯èƒ½è®¾è®¡çš„å¾ˆæ¼‚äº®ï¼Œå¾ˆå¹²å‡€ã€‚ä½†éšç€æ—¶é—´çš„æ¨ç§»ã€é¡¹ç›®çš„ä¸æ–­è¿­ä»£ã€éœ€æ±‚çš„ä¸æ–­å¢å¤šç­‰ï¼Œæˆ‘ä»¬ä¸æ–­çš„åœ¨è°ƒæ•´ä»£ç ï¼Œå¼€å§‹çš„è®¾è®¡å¯èƒ½ä¸å†èƒ½å¤Ÿæ»¡è¶³ç°æœ‰çš„éœ€æ±‚ï¼Œç„¶åä»£ç å¼€å§‹å˜å¾—è‡ƒè‚¿ã€‚æˆ‘ä»¬å¯ä»¥å€ŸåŠ©é‡æ„ï¼Œä¸æ–­æ”¹è¿›è®¾è®¡ï¼Œå°†å®ƒé‡æ–°åŠ å·¥æˆè®¾è®¡è‰¯å¥½çš„ä»£ç ã€‚ ä»€ä¹ˆæ—¶å€™é‡æ„ ğŸ’¡ æ—¶æ—¶å‹¤æ‹‚æ‹­ï¼Œå‹¿ä½¿æƒ¹å°˜åŸƒ ä½›å®¶æœ‰å¥è‘—åçš„è¯ï¼šæ—¶æ—¶å‹¤æ‹‚æ‹­ï¼Œå‹¿ä½¿æƒ¹å°˜åŸƒã€‚æ„æ€æ˜¯æ—¶æ—¶åˆ»åˆ»ä¸å¿˜å‹¤åŠ æ‹‚æ‹­ï¼Œè«è®©èº«å¿ƒæ²¾æŸ“ä¸–ä¿—çš„å°˜åŸƒã€‚åœ¨ä½œè€…çœ‹æ¥ï¼Œé‡æ„åº”è¯¥æ˜¯è´¯ç©¿åœ¨é¡¹ç›®çš„æ•´ä¸ªè¿­ä»£å¼€å‘ä¸­ï¼Œè€Œä¸æ˜¯å•ç‹¬æŠ½å‡ºä¸€æ®µæ—¶é—´æ¥è¿›è¡Œé‡æ„ã€‚åœ¨æ—¥å¸¸å¼€å‘çš„æ—¶å€™ï¼Œå‹¤åŠ æ‹‚æ‹­ä½ çš„ä»£ç ï¼Œè¯´ç™½äº†å°±æ˜¯å¹³æ—¶å¤šåœ¨æ„ç‚¹ã€‚å°±åƒæ‰“æ‰«æˆ¿é—´ä¸€æ ·ï¼Œçœ‹è§å“ªè„äº†å°±æ‰“æ‰«æ‰“æ‰«ï¼Œè€Œä¸æ˜¯ä¸€ç›´ç´¯ç§¯åˆ°æœ€åå—ä¸äº†æ‰é€‰æ‹©é‡æ–°ç²‰åˆ·ã€‚ ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:0:0","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"ä»£ç ä¸­çš„è‡­å‘³é“ å¯¹äºå¦‚ä½•â€˜åˆ é™¤ä¸€ä¸ªå˜é‡â€™æˆ–â€˜æç‚¼ä¸€æ®µä»£ç â€™å¾ˆå®¹æ˜“ï¼Œæ¯”è¾ƒéš¾çš„æ˜¯â€˜è¯¥åœ¨ä»€ä¹ˆæ—¶å€™åšè¿™äº›åŠ¨ä½œâ€™ã€‚ä½œè€…ç”¨å‘³é“æ¥å½¢å®¹é‡æ„çš„æ—¶æœºï¼Œå½“ä½ è§‰å¾—ä½ çš„ä»£ç å¼€å§‹æ•£å‘å‡ºè‡­å‘³é“æ—¶å€™ï¼Œå°±æ˜¯é‡æ„å®ƒçš„æ—¶å€™ã€‚ä¸‹é¢æ˜¯å‡ ä¸ªå¸¸è§çš„è‡­å‘³é“çš„ä»£ç åœºæ™¯ã€‚ ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:1:0","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"ç¥ç§˜å‘½å å‘½åæ˜¯ç¼–ç¨‹ä¸­æœ€éš¾çš„ä¸¤ä»¶äº‹ä¹‹ä¸€ï¼Œä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œæ”¹åå¯èƒ½æ˜¯æœ€å¸¸è§çš„é‡æ„æ‰‹æ³•åŒ…æ‹¬ï¼šç»™å‡½æ•°æ”¹åï¼Œç»™å˜é‡æ”¹åã€ç»™å­—æ®µå±æ€§æ”¹åç­‰ã€‚åœ¨é¡¹ç›®çš„ç»´æŠ¤ä¸­ï¼ŒæŠŠä¸€äº›åŠ›æ°”èŠ±åœ¨èµ·åå­—æˆ–è€…æ”¹åå­—ä¸Šçš„æ”¶ç›Šè¿˜æ˜¯å¾ˆå¤§çš„ï¼Œä¸€ä¸ªå¥½çš„å‘½åå¯ä»¥å¾ˆå¥½çš„è§£é‡Šä½ çš„ä»£ç åœ¨å¹²ä»€ä¹ˆã€‚å½“ä½ è§‰å¾—æŸä¸ªåå­—ä¸å¯¹åº”çš„ä»£ç ä¸å†å¥‘åˆæ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ç»™ä»–èµ·ä¸ªæ›´å¥½çš„åå­—ã€‚ ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:1:1","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"é‡å¤ä»£ç  å¦‚æœä½ åœ¨ä¸€ä¸ªä»¥ä¸Šçš„åœ°æ–¹çœ‹åˆ°ç›¸åŒçš„ä»£ç ç»“æ„ï¼Œé‚£ä¹ˆå¯ä»¥è‚¯å®šï¼Œè®¾æ³•å°†å®ƒä»¬åˆäºŒä¸ºä¸€ï¼Œç¨‹åºä¼šå˜å¾—æ›´å¥½ï¼Œä¸€æ—¦æœ‰é‡å¤ä»£ç å­˜åœ¨ï¼Œé˜…è¯»è¿™äº›ä»£ç å°±éœ€è¦æ ¼å¤–ä»”ç»†ï¼Œç•™æ„å…¶é—´ç»†å¾®çš„å·®å¼‚ã€‚å¦‚æœè¦ä¿®æ”¹é‡å¤ä»£ç ï¼Œä½ è¿˜éœ€è¦æ‰¾åˆ°æ‰€æœ‰çš„å‰¯æœ¬æ¥åŒæ­¥ä¿®æ”¹ã€‚ ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:1:2","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"è¿‡é•¿å‡½æ•° å°å‡½æ•°æœ‰ç€æ›´å¥½çš„è¯ é‡ŠåŠ›ï¼Œæ›´æ˜“äºåˆ†äº«ã€‚å‡½æ•°è¶Šé•¿ï¼Œå°±è¶Šéš¾ç†è§£ï¼Œåœ¨æ—©æœŸï¼Œå­å‡½æ•°è°ƒç”¨éœ€è¦é¢å¤–çš„å¼€é”€ï¼Œä½¿äººä»¬ä¸å¤ªä¹æ„ä½¿ç”¨å°å‡½æ•°ã€‚ä½†åœ¨ç°ä»£ç¼–ç¨‹ä¸­ï¼Œå‡ ä¹å…é™¤äº†è¿›ç¨‹å‡½æ•°è°ƒç”¨çš„å¼€é”€ã€‚å°çš„å‡½æ•°å›ºç„¶ä¼šç»™é˜…è¯»è€…å¸¦æ¥ä¸€äº›å¿ƒæ™ºè´Ÿæ‹…ï¼Œéœ€è¦æ¥å›åˆ‡æ¢ä¸Šä¸‹æ–‡ï¼Œæ‰èƒ½æ˜ç™½å‡½æ•°åœ¨åšä»€ä¹ˆï¼Œä½†æ˜¯ç°ä»£çš„å¼€å‘ç¯å¢ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨å‡½æ•°çš„è°ƒç”¨å¤„ä¸å£°æ˜å¤„ä¹‹é—´å¿«é€Ÿè·³è½¬ï¼Œæˆ–æ˜¯åŒæ—¶çœ‹åˆ°ä¸¤å¤„ã€‚å½“ç„¶ï¼Œä¸€ä¸ªå¥½çš„å°å‡½æ•°çš„å…³é”®è¿˜æ˜¯åœ¨äºè‰¯å¥½çš„å‘½åï¼Œå¦‚æœèƒ½ç»™å‡½æ•°èµ·ä¸€ä¸ªå¥½çš„åå­—ï¼Œé˜…è¯»ä»£ç çš„äººå¯ä»¥é€šè¿‡åå­—äº†è§£å‡½æ•°çš„ä½œç”¨ï¼Œæ ¹æœ¬ä¸å¿…å»çœ‹å…¶ä¸­å†™äº†ä»€ä¹ˆã€‚å¯ä»¥éµå¾ªè¿™æ ·ä¸€ä¸ªåŸåˆ™ï¼Œ æ¯å½“æ„Ÿè§‰éœ€è¦æ³¨é‡Šæ¥è¯´æ˜ç‚¹ä»€ä¹ˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠéœ€è¦è¯´æ˜çš„ä»£ç æç‚¼æˆä¸€ä¸ªæ–°å‡½æ•°ã€‚ ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:1:3","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"è¿‡é•¿å‚æ•°åˆ—è¡¨ åŒç†ï¼Œè¿‡é•¿çš„å‚æ•°åˆ—è¡¨ä¹Ÿä¼šå¤§å¤§é™ä½ä»£ç çš„å¯è¯»æ€§ï¼Œå¦‚æœå¯ä»¥å‘æŸä¸ªå‚æ•°å‘èµ·æŸ¥è¯¢ä»è€Œè·å–å¦ä¸€ä¸ªå‚æ•°çš„å€¼ï¼Œé‚£ä¹ˆå°±é€šè¿‡æŸ¥è¯¢å–ä»£å‚æ•°ï¼›å¦‚æœæœ‰å‡ é¡¹å‚æ•°æ€»æ˜¯åŒæ—¶å‡ºç°ï¼Œå¯ä»¥å°†å…¶åˆå¹¶æˆä¸€ä¸ªå¯¹è±¡å½“å…¥å‚ï¼›å¦‚æœæŸä¸ªå‚æ•°è¢«ç”¨ä½œåŒºåˆ†å‡½æ•°è¡Œä¸ºçš„æ ‡è®°ï¼ˆflagï¼‰å¯ä»¥å°†å…¶ç§»é™¤ç­‰ã€‚ ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:1:4","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"æ³¨é‡Š äººä»¬å¸¸å¸¸æŠŠæ³¨é‡Šå½“ä½œâ€œé™¤è‡­å‰‚â€ä½¿ç”¨ï¼Œæœ‰äº›æ³¨é‡Šä¹‹æ‰€ä»¥å­˜åœ¨æ˜¯å› ä¸ºä»£ç å¤ªç³Ÿç³•ã€‚å½“ä½ æ„Ÿè§‰éœ€è¦æ’°å†™æ³¨é‡Šçš„æ—¶å€™ï¼Œå…ˆå°è¯•é‡æ„ï¼Œè¯•ç€è®©æ³¨é‡Šå˜å¾—å¤šä½™ã€‚åœ¨ä½ ä¸çŸ¥é“è¯¥åšä»€ä¹ˆçš„æ—¶å€™ï¼Œæ‰æ˜¯æ³¨é‡Šçš„è‰¯å¥½è¿ç”¨æ—¶æœºã€‚ ä¸€äº›é‡æ„çš„æ‰‹æ³• ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:1:5","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"æç‚¼å‡½æ•° æç‚¼å‡½æ•°æ˜¯å¸¸è§çš„é‡æ„æ‰‹æ³•ï¼Œæµè§ˆä¸€æ®µä»£ç ï¼Œç†è§£å…¶ä½œç”¨ï¼Œç„¶åå°†å…¶æç‚¼åˆ°ç‹¬ç«‹çš„å‡½æ•°ä¸­ï¼Œå¹¶ä»¥è¿™æ®µä»£ç çš„ç”¨é€”ä¸ºè¿™ä¸ªå‡½æ•°å‘½åã€‚ å¯¹äºâ€œä½•æ—¶åº”è¯¥æŠŠä»£ç æ”¾è¿›ç‹¬ç«‹çš„å‡½æ•°â€ï¼Œæœ‰äººè®¤ä¸ºä»ä»£ç é•¿åº¦è€ƒè™‘ï¼Œæœ‰äººè®¤ä¸ºä»ä»£ç å¤ç”¨æ€§è€ƒè™‘ï¼Œä½†ä½œè€…è®¤ä¸ºï¼Œåº”è¯¥å°†æ„å›¾ä¸å®ç°åˆ†å¼€ï¼Œå¦‚æœä½ éœ€è¦èŠ±æ—¶é—´æµè§ˆä¸€æ®µä»£ç æ‰èƒ½å¼„æ¸…æ¥šå®ƒåˆ°åº•åœ¨å¹²å˜›ï¼Œé‚£ä¹ˆå°±åº”è¯¥å°†å…¶æç‚¼åˆ°ä¸€ä¸ªå‡½æ•°é‡Œã€‚å¹¶æ ¹æ®ä»–æ‰€åšçš„äº‹æƒ…å‘½åï¼Œä¹‹åå†é˜…è¯»ä¸»å‡½æ•°çš„æ—¶å€™ ï¼Œæˆ‘ä»¬ä¸€çœ¼å°±èƒ½çœ‹åˆ°å‡½æ•°çš„ç”¨é€”ï¼Œå¤§å¤šæ•°æƒ…å†µæˆ‘ä»¬æ— éœ€å…³å¿ƒå­å‡½æ•°å¦‚ä½•è¾¾æˆå…¶ç”¨é€”ï¼ˆè¿™æ˜¯å­å‡½æ•°å†…éƒ¨å¹²çš„äº‹ï¼‰ã€‚ æç‚¼å‡½æ•°çš„å…³é”®åœ¨äºèµ·ä¸ªå¥½åå­—ï¼Œä½ åº”è¯¥åœ¨å‘½åä¸Šå¤šèŠ±ç‚¹å¿ƒæ€ï¼Œå¯ä»¥ç»™è¿™æ®µä»£ç å†™ä¸Šæ³¨é‡Šè¯´æ˜è¿™æ®µä»£ç æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œè€Œè¿™æ ·çš„æ³¨é‡Šå¯ä»¥ç»™æˆ‘ä»¬æä¾›ä¸€ä¸ªå¥½åå­— ï¼Œå¦‚æœæš‚æ—¶æƒ³ä¸å‡ºä¸€ä¸ªå¥½çš„åå­—ï¼Œå¯ä»¥ä½¿ç”¨å½“ä¸‹è§‰å¾—æœ€å¥½çš„é‚£ä¸ªï¼Œå¹¶åœ¨ä¹‹åæƒ³åˆ°æ›´å¥½çš„åç§°çš„æ—¶å€™æ›¿æ¢æ‰å®ƒã€‚å‡½æ•°åå­—çš„é•¿åº¦ä¸é‡è¦ï¼Œä½ éœ€è¦åšçš„æ˜¯å½“é˜…è¯»è€…çœ‹åˆ°ä½ çš„å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¸æŸ¥çœ‹å‡½æ•°å®ç°å°±èƒ½ç†è§£ä»–åšäº†ä»€ä¹ˆã€‚ ä¹Ÿè®¸ä½ ä¼šæ‹…å¿ƒçŸ­å‡½æ•°ä¼šé€ æˆå¤§é‡å‡½æ•°è°ƒç”¨ï¼Œå› è€Œå½±å“æ€§èƒ½ï¼Œåœ¨ä»¥å‰ä¼šæœ‰è¿™ç§é—®é¢˜ï¼Œä½†å¦‚ä»Šè¿™ç§æƒ…å†µå·²ç»éå¸¸ç½•è§äº†ï¼Œæ‰€ä»¥ï¼Œéµå¾ªæ€§èƒ½ä¼˜åŒ–çš„ä¸€èˆ¬æŒ‡å¯¼æ–¹é’ˆï¼Œä¸è¦è¿‡æ—©çš„æ‹…å¿ƒæ€§èƒ½é—®é¢˜ã€‚ ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:2:0","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"æç‚¼å˜é‡ è¡¨è¾¾å¼æœ‰å¯èƒ½éå¸¸å¤æ‚è€Œéš¾ä»¥é˜…è¯»ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå±€éƒ¨å˜é‡å¯ä»¥å¸®åŠ©æˆ‘ä»¬å°†è¡¨è¾¾å¼åˆ†è§£ä¸ºæ¯”è¾ƒå®¹æ˜“ç®¡ç†çš„å½¢å¼ã€‚ return ( order.quantity * order.itemPrice - Math.max(0, order.quantity - 500) * order.itemPrice * 0.05 + Math.min(order.quantity * order.itemPrice * 0.1, 100) ); // --------------------------- const basePrice = order.quantity * order.itemPrice; const quantityDiscount = Math.max(0, order.quantity - 500) * order.itemPrice * 0.05; const shipping = Math.min(basePrice * 0.1, 100); return basePrice - quantityDiscount + shipping; ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:3:0","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"æ‹†åˆ†é˜¶æ®µ éµå¾ªå•ä¸€èŒè´£åŸåˆ™ï¼Œæ¯å½“çœ‹è§ä¸€æ®µä»£ç åœ¨åŒæ—¶å¤„ç†ä¸¤ä»¶ä¸åŒçš„äº‹æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠå®ƒæ‹†åˆ†æˆæˆå„è‡ªç‹¬ç«‹çš„æ¨¡å—ã€‚è¿™æ ·åˆ°äº†éœ€è¦ä¿®æ”¹çš„æ—¶å€™ï¼Œå°±å¯ä»¥å•ç‹¬å¤„ç†æ¯ä¸ªä¸»é¢˜ï¼Œè€Œä¸å¿…åŒæ—¶åœ¨è„‘å­é‡Œè€ƒè™‘ä¸¤ä¸ªä¸åŒçš„ä¸»é¢˜ï¼Œç”šè‡³æˆ‘ä»¬åªéœ€è¦ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªæ¨¡å—ï¼Œå®Œå…¨ä¸ç”¨å›å¿†å¦ä¸€ä¸ªæ¨¡å—çš„è¯¸èˆ¬ç»†èŠ‚ã€‚ æœ€ç®€æ´çš„æ‹†åˆ†æ–¹å¼å°±æ˜¯æŠŠä¸€å¤§æ®µè¡Œä¸ºåˆ†æˆé¡ºåºæ‰§è¡Œçš„å¤šä¸ªé˜¶æ®µï¼Œæ¯ä¸€æ­¥éƒ½æœ‰è¾¹ç•Œæ˜ç¡®çš„èŒƒå›´ï¼Œæˆ‘å¯ä»¥èšç„¦æ€è€ƒå…¶ä¸­ä¸€æ­¥ï¼Œè€Œä¸ç”¨ç†è§£å…¶ä»–æ­¥éª¤çš„ç»†èŠ‚ã€‚ const renderContent = (data) =\u003e { // ... // å¤„ç†dataæ ¼å¼ï¼› // ... // ... // æ ¹æ®å¤„ç†åçš„dataæ¸²æŸ“æ•°æ® // ... } //----------------------------- const renderContent = (data) =\u003e { const formatData = handleData(data); return renderData(formatData); } const handleData = (data) =\u003e { // ... // å¤„ç†dataæ ¼å¼ï¼› // ... } const renderData = (data) =\u003e { // ... // æ ¹æ®å¤„ç†åçš„dataæ¸²æŸ“æ•°æ® // ... } ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:4:0","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"â€¦â€¦ å‰©ä¸‹çš„æŠ€å·§è¿˜æœ‰å¾ˆå¤šï¼Œæˆ‘è¿˜æ²¡çœ‹å®Œï¼Œä½ ä»¬æœ‰å…´è¶£çš„è¯å¯ä»¥å»çœ‹ä¸€çœ‹ æ€»ç»“ ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:5:0","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"æŠ€å·§ è¿™æœ¬ä¹¦ç›¸å¯¹æ¯”è¾ƒåå‘äºæ–°äººï¼Œä¹¦ä¸­çš„ä¸€äº›é‡æ„æŠ€å·§å¤§å¤šæ¯”è¾ƒç®€å•ï¼Œæœ‰ä¸€äº›åªçœ‹åå­—å°±èƒ½æ‡‚äº†æ˜¯å’‹å›äº‹ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä½œè€…æ€»ç»“äº†è®¸å¤šé€‚ç”¨äºé‡æ„çš„å°æŠ€å·§ï¼Œå¹¶æä¾›äº†ç¤ºä¾‹ï¼Œä½¿å¾—è¿™æœ¬ä¹¦ä¹Ÿå¯ä½œä¸ºä¸€ä¸ªå°æ‰‹å†Œï¼Œæ—¶ä¸æ—¶çš„ç®€å•ç¿»ä¸€ä¸‹ã€‚è¿™äº›æŠ€å·§ä¸æ­¢èƒ½ç”¨åœ¨é‡æ„ä¸Šï¼Œè¿˜å¯ä»¥æå‡æˆ‘ä»¬çš„ç¼–ç¨‹æ°´å¹³ã€‚ ä¸è¶³çš„æ˜¯æœ‰å¾ˆå¤šæ¡ˆä¾‹æŠ€å·§æ˜¯åŸºäºé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ã€‚å¯¹äºç°åœ¨çš„å‡½æ•°å¼ç¼–ç¨‹æ¥è¯´å¯èƒ½æœ‰äº›è¿‡æ—¶ã€‚ ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:6:0","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"æ€æƒ³ ä¹¦ä¸­å¼ºè°ƒçš„æ€æƒ³æ˜¯ä»¥ä¸æ–­çš„å°é‡æ„æ›¿ä»£å¤§é‡æ„ï¼Œå¼ºè°ƒé‡æ„æ—¥å¸¸åŒ–ï¼Œåœ¨å¹³æ—¶åšéœ€æ±‚çš„æ—¶å€™ï¼Œçœ‹å“ªä¸é¡ºçœ¼å°±é¡ºä¾¿é‡æ„ä¸€ä¸‹ã€‚è¿™æ ·å·¥ä½œæ‰ä¼šè¶Šæ¥è¶Šè½»æ¾ï¼Œè€Œä¸æ˜¯åœ¨å±å±±ä¸Šä¸€å±‚ä¸€å±‚å¾€ä¸ŠåŠ ã€‚åˆ°æœ€åè¿«ä¸å¾—å·²é‡æ„ã€‚ ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:7:0","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["é˜…è¯»"],"content":"å‚è€ƒèµ„æ–™ ã€Šé‡æ„ æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ç¬¬äºŒç‰ˆã€‹ ç¨‹åºå‘˜é‡æ„å…¥é—¨æŒ‡å— ","date":"2023-07-26","objectID":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/:8:0","tags":["é˜…è¯»"],"title":"è¯»å®Œ é‡æ„ ä¹‹å","uri":"/myblog/%E8%AF%BB%E5%AE%8C-%E9%87%8D%E6%9E%84-%E4%B9%8B%E5%90%8E/"},{"categories":["å‰ç«¯"],"content":"å‰è¨€ React çš„æ–°å®˜æ–¹æ–‡æ¡£æ›´æ–°äº†æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œæœ€è¿‘çœ‹äº†ä¸‹ï¼Œå‘ç°æœ‰ä¸å°‘æ–°ä¸œè¥¿ã€‚ ä¸€äº›é»˜é»˜å‡ºç°çš„æ–°çš„ hooks ","date":"2023-06-05","objectID":"/myblog/%E8%AF%BBreact%E6%96%B0%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%80%E4%BA%9B-hook-%E7%9A%84%E4%BD%BF%E7%94%A8/:0:0","tags":["react"],"title":"è¯»reactæ–°å®˜æ–¹æ–‡æ¡£ï¼Œä¸€äº› hook çš„ä½¿ç”¨","uri":"/myblog/%E8%AF%BBreact%E6%96%B0%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%80%E4%BA%9B-hook-%E7%9A%84%E4%BD%BF%E7%94%A8/"},{"categories":["å‰ç«¯"],"content":"useId åœ¨ React ä¸­ç›´æ¥ç¼–å†™ ID å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„ä¹ æƒ¯ï¼Œä¸€ä¸ªç»„ä»¶å¯èƒ½ä¼šè¢«æ¸²æŸ“å¤šæ¬¡ï¼Œä½†åœ¨ DOM æ ‘ä¸­ï¼Œ ID å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚ ä¸è¿‡æœ‰äº›æ—¶å€™æˆ‘ä»¬å¿…é¡»å¾—ç»™ç»„ä»¶å†™ä¸ª IDï¼Œæ¯”å¦‚ä½¿ç”¨ Antv æ³¨å†Œä¸€ä¸ªå¯è§†åŒ–å›¾è¡¨ç»„ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ id è¿›è¡Œç»‘å®šã€‚æ­¤æ—¶å¦‚æœæˆ‘ä»¬åœ¨å¤–éƒ¨å¤šæ¬¡ä½¿ç”¨è¿™ä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œä¸ºäº†ä¿è¯ ID çš„å”¯ä¸€æ€§ï¼Œæˆ‘ä»¬éœ€è¦å°† id ä½œä¸ºä¸€ä¸ª props ä¼ é€’ç»™è¿™ä¸ªå›¾è¡¨ç»„ä»¶ import { Chart } from '@antv/g2'; const CommonChart: FC\u003c{ id: 'string', data: any[] }\u003e = ({ id, data }) =\u003e { const lineChart = new Chart({ container: id, autoFit: true, height: config.height ?? 400, padding: [20, 20, 30, 40], }); //... return \u003cdiv id={id} /\u003e } const App = () =\u003e { return ( \u003c\u003e {/*å¹´é¾„å›¾è¡¨*/} \u003cCommonChart id='age-chart' data={ageData} /\u003e {/*æˆç»©å›¾è¡¨*/} \u003cCommonChart id='achievement-chart' data={achievementData} /\u003e \u003c/\u003e ) } ç°åœ¨æœ‰äº†useId hookï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´ç®€æ´çš„åŠæ³•æ¥è¾¾åˆ°ç›¸åŒçš„ç›®çš„ import { Chart } from '@antv/g2'; const CommonChart: FC\u003c{ data: any[] }\u003e = ({ data }) =\u003e { const chartId = React.useId(); const lineChart = new Chart({ container: chartId, // å¦‚æœä¸æƒ³åœ¨DOMä¸Šçœ‹åˆ°æ²¡æœ‰è¯­æ„çš„éšæœºIDï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒå½“æˆidå‰ç¼€ // container: `${chartId}-line-chart`, autoFit: true, height: config.height ?? 400, padding: [20, 20, 30, 40], }); //... return \u003cdiv id={chartId} /\u003e } const App = () =\u003e { return ( \u003c\u003e {/*å¹´é¾„å›¾è¡¨*/} \u003cCommonChart data={ageData} /\u003e {/*æˆç»©å›¾è¡¨*/} \u003cCommonChart data={achievementData} /\u003e \u003c/\u003e ) } ç°åœ¨ï¼Œå³ä½¿ CommonChart å¤šæ¬¡å‡ºç°åœ¨å±å¹•ä¸Šï¼Œç”Ÿæˆçš„ ID å¹¶ä¸ä¼šå†²çªã€‚ ","date":"2023-06-05","objectID":"/myblog/%E8%AF%BBreact%E6%96%B0%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%80%E4%BA%9B-hook-%E7%9A%84%E4%BD%BF%E7%94%A8/:1:0","tags":["react"],"title":"è¯»reactæ–°å®˜æ–¹æ–‡æ¡£ï¼Œä¸€äº› hook çš„ä½¿ç”¨","uri":"/myblog/%E8%AF%BBreact%E6%96%B0%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%80%E4%BA%9B-hook-%E7%9A%84%E4%BD%BF%E7%94%A8/"},{"categories":["å‰ç«¯"],"content":"useSyncExternalStore useSyncExternalStore æ˜¯ä¸€ä¸ªè®©ä½ è®¢é˜…å¤–éƒ¨ store çš„ React Hookã€‚ æˆ‘ä»¬çš„å¤šæ•°ç»„ä»¶åªä¼šä»å®ƒçš„ propsã€state å’Œ context ä¸­è·å–æ•°æ®ï¼Œç„¶è€Œï¼Œæœ‰æ—¶ä¸€ä¸ªç»„ä»¶éœ€è¦ä¸€äº› react ä¹‹å¤–çš„ store è¯»å–ä¸€äº›éšæ—¶é—´å˜åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚åœ¨ React ä¹‹å¤–æŒæœ‰çŠ¶æ€çš„ç¬¬ä¸‰æ–¹çŠ¶æ€ç®¡ç†åº“ï¼Œåˆæˆ–è€…æš´éœ²å‡ºä¸€ä¸ªå¯å˜å€¼åŠè®¢é˜…å…¶æ”¹å˜äº‹ä»¶çš„æµè§ˆå™¨ APIã€‚ å‰è€…æˆ‘æƒ³ä¸å‡ºå…·ä½“çš„åœºæ™¯ï¼Œä¸è¿‡åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šè®¢é˜…ä¸€äº›æµè§ˆå™¨ API çš„å˜åŒ–ï¼Œå¦‚å®æ—¶è·å–è§†å£å®½åº¦ç­‰ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚ æ¯”å¦‚ç›‘å¬æ»šåŠ¨æ¡å˜åŒ–ï¼Œæ˜¾ç¤ºç½®åº•æŒ‰é’®ï¼š // é¡¹ç›®èŠ‚é€‰ import { useEffect, useState } from 'react'; const ToBottomButton = () =\u003e { const [toBottomButtonVisible, setToBottomButtonVisible] = useState(true); useEffect(() =\u003e { const dom = document.querySelector('#root .content'); if (!dom) return; const handleScrollChange = () =\u003e { // interval = domçš„æ€»é«˜åº¦ - å·²æ»šåŠ¨çš„é«˜åº¦ - æ­£åœ¨æ˜¾ç¤ºçš„é«˜åº¦ const interval = dom.scrollHeight - dom.scrollTop - dom.clientHeight; setToBottomButtonVisible(interval \u003e 80); }; dom.addEventListener('scroll', handleScrollChange); return () =\u003e { dom.removeEventListener('scroll', handleScrollChange); }; }, []); return ( toBottomButtonVisible \u0026\u0026 ( \u003cButton shape=\"circle\" icon={\u003cVerticalAlignBottomOutlined /\u003e} onClick={moveToBottom} type=\"primary\" /\u003e ) ); } ç°åœ¨æœ‰äº†useSyncExternalStore hookï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡useSyncExternalStore hook æ¥è¯»å– dom è·ç¦»åº•éƒ¨çš„è·ç¦»ã€‚ useSyncExternalStore hook æ¥æ”¶ä¸¤ä¸ªå¿…å¡«å‚æ•°ï¼š subscribeï¼šä¸€ä¸ªè®¢é˜…å‡½æ•°ï¼›è¯¥å‡½æ•°éœ€è¦è¿”å›æ¸…é™¤è®¢é˜…çš„å‡½æ•°ã€‚ getSnapShot: ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œé€šè¿‡è¿™ä¸ªå›è°ƒï¼Œè¿”å›æˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚ // useBottomInterval è‡ªå®šä¹‰hookï¼› import { useSyncExternalStore } from 'react'; const useBottomInterval = (dom: Element | null) =\u003e { const getBottomInterval = () =\u003e { if (!dom) return 0; return dom.scrollHeight - dom.scrollTop - dom.clientHeight; }; const subscribe = (callback: any) =\u003e { dom?.addEventListener('scroll', callback); return () =\u003e { dom?.removeEventListener('scroll', callback); }; } const bottomInterval = useSyncExternalStore(subscribe, getBottomInterval); return bottomInterval; }; export default useBottomInterval; æ–°çš„ç½®åº• button ç»„ä»¶ import useBottomInterval from '~/hooks/useBottomInterval'; const ToBottomButton = () =\u003e { const bottomInterval = useBottomInterval( document.querySelector('#root .content') ); const toBottomButtonVisible = bottomInterval \u003e 80; return ( toBottomButtonVisible \u0026\u0026 ( \u003cButton shape=\"circle\" icon={\u003cVerticalAlignBottomOutlined /\u003e} onClick={moveToBottom} type=\"primary\" /\u003e ) ); } å¯ä»¥æŠŠå¸¸éœ€è¦è®¢é˜…çš„æµè§ˆå™¨ API å°è£…æˆ hookï¼Œå³æ’å³ç”¨ã€‚ // å®æ—¶è·å–çª—å£å®½åº¦çš„hookï¼šuseWindowWidth export const useWindowWidth = () =\u003e { const bottomInterval = useSyncExternalStore(subscribe, getWindowWidth); return bottomInterval; }; // é‡æ–°æ¸²æŸ“æ—¶ä¼ å…¥ä¸€ä¸ªä¸åŒçš„ subscribe å‡½æ•°ï¼ŒReact ä¼šç”¨æ–°ä¼ å…¥çš„ subscribe å‡½æ•° // é‡æ–°è®¢é˜…è¯¥ storeã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ç»„ä»¶å¤–å£°æ˜ subscribe æ¥é¿å…ã€‚ const getWindowWidth = () =\u003e window.innerWidth; const subscribe = (callback: any) =\u003e { window.addEventListener('resize', callback); return () =\u003e { window.removeEventListener('resize', callback); }; } ä¸å¿…è¦çš„ state å’Œ Effect å¦‚æœä¸€ä¸ªå€¼å¯ä»¥åŸºäºç°æœ‰çš„ props æˆ– state è®¡ç®—å¾—å‡ºï¼Œå°±æ²¡å¿…è¦æŠŠå®ƒä¹Ÿä½œä¸ºä¸€ä¸ª stateï¼Œå¤šä½™çš„ effect ä¼šå¯¼è‡´ä¸€äº›ä¸å¿…è¦çš„ re-renderã€‚å¯ä»¥åœ¨æ¸²æŸ“æœŸé—´ç›´æ¥è®¡ç®—å‡ºè¿™ä¸ªå€¼ï¼Œè¿™å°†ä½¿ä½ çš„ä»£ç æ›´å¿«ã€æ›´ç®€æ´ï¼Œä»¥åŠæ›´å°‘å‡ºé”™ã€‚å½“è¿™ä¸ªè®¡ç®—æ¯”è¾ƒæ˜‚è´µçš„æ—¶å€™å¯ä»¥é€šè¿‡useMemo hook ç¼“å­˜è¿™ä¸ªæ˜‚è´µçš„è®¡ç®—ã€‚ import { useState } from 'react'; const Page = () =\u003e { const [firstName, setFirstName] = useState('Taylor'); const [lastName, setLastName] = useState('Swift'); // const [fullName, setFullName] = useState(''); // useEffect(() =\u003e { // setFullName(`${firstName}-${lastName}`); // }, [firstName, lastName]); const name = `${firstName}-${lastName}` // ... } import { useState } from 'react'; const Page = () =\u003e { const [newTodo, setNewTodo] = useState(''); // const [visibleTodos, setVisibleTodos] = useState([]); // useEffect(() =\u003e { // setVisibleTodos(getFilteredTodos(todos, filter)); //ä¸€ä¸ªå¤æ‚çš„ç­›é€‰è®¡ç®— // }, [todos, filter]); const visibleTodos = getFilteredTodos(todos, filter); // or const visibleTodos = useMemo(() =\u003e { return getFilteredTodos(todos, filter); }, [todos, filter]); // ... } å…³äºåœ¨ useEffect ä¸­è·å–æ•°æ® åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¸¸å¸¸æœ‰è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œå½“æŸä¸ªè¯·æ±‚å‚æ•°å˜åŒ–æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å‚æ•°çš„å˜åŒ–é‡æ–°å‘é€è¯·æ±‚ï¼Œ const [userId, setUserId] = React.useState(); const [data, setData] = React.useState(); React.useEffect(() =\u003e { getUserInfo({ userId }).then((res) =\u003e { // æŸä¸ªajaxè¯·æ±‚ setData(res); }); }, [user]); // userId: // undefined -\u003e 'user-1'; // 'user-1' -\u003e 'user-2'; ä¸Šè¿°è¿™ç§ åœ¨ effect ä¸­çš„è¯·æ±‚è°ƒç”¨æ˜¯ä¸€ç§è·å–æ•°æ®çš„å¸¸ç”¨æ–¹æ³•ï¼Œä½†è¿™ç§æ–¹æ³•å­˜åœ¨ä¸€ä¸ªä¸å®¹æ˜“è§¦å‘çš„ bugï¼Œå½“çŠ¶æ€user å‘ç”Ÿä¸¤æ¬¡ change çš„æ—¶å€™ï¼Œè¯·æ±‚getUserInfo ä¹Ÿä¼šå‘é€ä¸¤æ¬¡ï¼Œæˆ‘ä»¬è™½ç„¶å¯ä»¥æ§","date":"2023-06-05","objectID":"/myblog/%E8%AF%BBreact%E6%96%B0%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%80%E4%BA%9B-hook-%E7%9A%84%E4%BD%BF%E7%94%A8/:2:0","tags":["react"],"title":"è¯»reactæ–°å®˜æ–¹æ–‡æ¡£ï¼Œä¸€äº› hook çš„ä½¿ç”¨","uri":"/myblog/%E8%AF%BBreact%E6%96%B0%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%80%E4%BA%9B-hook-%E7%9A%84%E4%BD%BF%E7%94%A8/"},{"categories":["å‰ç«¯"],"content":"è§£å†³ useEffect(() =\u003e { let ignore = false; getUserInfo({ userId }).then((res) =\u003e { // æŸä¸ªajaxè¯·æ±‚ if (!ignore) { setData(res); } }); return () =\u003e { ignore = true; }; }, [userId]); æˆ‘ä»¬æ— æ³•â€˜æ’¤é”€â€™å·²ç»å‘é€çš„è¯·æ±‚ï¼Œä½†æˆ‘ä»¬å¯ä»¥å¿½ç•¥è¯·æ±‚æ‰€å“åº”çš„ç»“æœï¼Œåœ¨ effect å†…éƒ¨ç»´æŠ¤ä¸€ä¸ª ignore å˜é‡ï¼Œé€šè¿‡é—­åŒ…ï¼Œç»„ä»¶è¢«å¸è½½ä¹‹åæ‰€å“åº”çš„ç»“æœï¼Œä¼šè¢«æˆ‘ä»¬å¿½ç•¥ï¼Œä»¥ä¿è¯ä¸ç›¸å…³çš„å“åº”ä¸ä¼šç»§ç»­å½±å“æˆ‘ä»¬çš„ç¨‹åºï¼ŒuserId å¦‚æœä»â€˜user-1â€™å˜æˆäº†â€˜user-2â€™ï¼Œignore å±æ€§å¯ä»¥ç¡®ä¿æˆ‘ä»¬å¿½ç•¥â€˜user-1â€™çš„å“åº”ï¼ŒåŠæ—¶è¿™ä¸ªå“åº”åœ¨â€˜user-2â€™å“åº”ä¹‹ååˆ°è¾¾ã€‚ å…³äº antd ProTable çš„ feature/bug å¼•å‘çš„é—®é¢˜ çœ‹äº†ä¸Šé¢å…³äº effect å®¹æ˜“å¼•å‘çš„ bugï¼Œæˆ‘æƒ³æˆ‘ä»¬é¡¹ç›®é‡Œçš„ table å¥½åƒæ²¡æ€ä¹ˆå¤„ç†ç›¸å…³çš„è¯·æ±‚ï¼Œå¸¦ç­›é€‰åŠŸèƒ½çš„ Table ç»„ä»¶éƒ½èƒ½çœ‹åˆ°è¿™æ ·ä¸€æ®µæ²¡æœ‰ç»è¿‡å¿½ç•¥å¤„ç†çš„ä»£ç ï¼š useEffect(() =\u003e { refreshTable(); // åˆ·æ–°è¯·æ±‚ }, [tableState.refresh, tableState.filteredInfo]); ä»åˆšæ‰å¾—åˆ°çš„ç»“è®ºæ¥çœ‹ï¼Œå¦‚æœæˆ‘é™ä½é¡µé¢çš„ç½‘é€Ÿï¼Œå¹¶å¿«é€Ÿçš„è®¾ç½®æˆ–ç§»é™¤å¤šä¸ªç­›é€‰é¡¹çš„è¯ï¼Œå¤šè¯•å‡ æ¬¡ï¼Œæ€»èƒ½å¶å°”è§¦å‘åˆšåˆšè¯´çš„ bugï¼Œä¸è¿‡æˆ‘è¯•è¯•äº†å‡ æ¬¡ï¼Œå¹¶æ²¡æœ‰å‡ºç°è¿™ç§ bugï¼Œåè€Œå‡ºç°äº†åˆ«çš„ bugï¼š æˆ‘ä¸¤æ¬¡è§¦å‘äº† refreshTable åˆ·æ–°è¯·æ±‚ï¼Œç¬¬äºŒæ¬¡è¯·æ±‚ä¼šè¢«å¿½ç•¥ã€‚ å‡ºç°è¿™ç§æƒ…å†µï¼Œåº”è¯¥ ProTable å†…éƒ¨åšäº†æŸç§å¤„ç†ã€‚ç„¶åæˆ‘çœ‹äº†ä¸‹ proTable çš„æºç å‘ç°äº†é—®é¢˜å‡ºç°çš„åŸå› ï¼š åœ¨ table è¯·æ±‚çš„ loading çŠ¶æ€ä¸º true æ—¶ï¼Œä»–ä¸ä¼šå¤„ç†åç»­ç›¸åŒçš„è¯·æ±‚ï¼Œç›´è‡³å½“å‰è¯·æ±‚ç»“æŸã€‚è¿™ä¸ªæ•ˆæœçœ‹èµ·æ¥æœ‰ç‚¹ç±»ä¼¼èŠ‚æµï¼Œåªæ˜¯èŠ‚æµçš„æ—¶é—´ä¸å›ºå®šï¼Œå–å†³äºè¯·æ±‚æ‰€è€—çš„æ—¶é—´ã€‚ ä¸è¿‡æˆ‘è§‰å¾—è¿™æ ·çš„å¤„ç†æ–¹å¼ï¼Œç›¸å¯¹äº bugï¼Œæ›´åƒæ˜¯ä¸ª featureï¼Œé¡µé¢åˆå§‹åŒ–æ—¶ä»–å¯ä»¥é¿å…æˆ‘ä»¬é¢‘ç¹å‘é€ç›¸åŒçš„è¯·æ±‚ï¼Œè™½ç„¶æœ‰äº›è¿‡äºä¸€åˆ€åˆ‡äº†ã€‚å¦‚æœè¿™æ ·çš„è¡Œä¸ºå¯ä»¥è®©ç”¨æˆ·è¿›è¡Œæ§åˆ¶æˆ–è®¸ä¼šæ›´å¥½ã€‚ ","date":"2023-06-05","objectID":"/myblog/%E8%AF%BBreact%E6%96%B0%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%80%E4%BA%9B-hook-%E7%9A%84%E4%BD%BF%E7%94%A8/:2:1","tags":["react"],"title":"è¯»reactæ–°å®˜æ–¹æ–‡æ¡£ï¼Œä¸€äº› hook çš„ä½¿ç”¨","uri":"/myblog/%E8%AF%BBreact%E6%96%B0%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%80%E4%BA%9B-hook-%E7%9A%84%E4%BD%BF%E7%94%A8/"},{"categories":["å‰ç«¯"],"content":"è§£å†³åŠæ³• æ˜¾ç„¶ï¼Œå³ä¾¿æˆ‘é€šè¿‡é—­åŒ…è¿›è¡Œå¿½ç•¥å¤„ç†ï¼Œä¹Ÿæ— æ³•è§£å†³ï¼Œæ¯•ç«Ÿä»–çš„ç¬¬äºŒæ¬¡è¯·æ±‚æ ¹æœ¬å°±æ²¡æœ‰å‘å‡ºå»ã€‚ä¸è¿‡æˆ‘å¯ä»¥è®©ç­›é€‰ã€æ’åºã€åˆ·æ–°ç­‰ä¼šå‘é€è¯·æ±‚çš„åŠ¨ä½œå’Œ table çš„ loading è¿›è¡Œç»‘å®šï¼Œè®© table loading ä¸º true çš„æ—¶å€™ï¼Œç¦æ­¢ç”¨æˆ·è§¦å‘ refresh ç›¸å…³åŠ¨ä½œï¼Œç›´è‡³å½“å‰çš„è¯·æ±‚å®Œæˆã€‚ åˆæˆ–è€…æ¯”è¾ƒç³™çš„åŠæ³•ï¼Œæˆ‘æ·»åŠ ä¸€ä¸ªè¯·æ±‚ç­‰å¾…ï¼Œåœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚å®Œæ¯•ä¹‹ååœ¨ç«‹åˆ»è§¦å‘æœ€æ–°çš„è¯·æ±‚ã€‚ï¼ˆæŠ–æœºçµï¼‰ã€‚ end. ","date":"2023-06-05","objectID":"/myblog/%E8%AF%BBreact%E6%96%B0%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%80%E4%BA%9B-hook-%E7%9A%84%E4%BD%BF%E7%94%A8/:3:0","tags":["react"],"title":"è¯»reactæ–°å®˜æ–¹æ–‡æ¡£ï¼Œä¸€äº› hook çš„ä½¿ç”¨","uri":"/myblog/%E8%AF%BBreact%E6%96%B0%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%80%E4%BA%9B-hook-%E7%9A%84%E4%BD%BF%E7%94%A8/"},{"categories":["å‰ç«¯"],"content":"leetcode","date":"2023-04-16","objectID":"/myblog/promise-%E5%AF%B9%E8%B1%A1%E6%B1%A0/","tags":["leedcode"],"title":"Promise å¯¹è±¡æ± ","uri":"/myblog/promise-%E5%AF%B9%E8%B1%A1%E6%B1%A0/"},{"categories":["å‰ç«¯"],"content":"æˆ‘æ­£åœ¨å‚åŠ ã€Œæ˜é‡‘Â·å¯èˆªè®¡åˆ’ã€ å‰è¨€ æœ€è¿‘leetcodeä¸“é—¨å‡ºäº†ä¸€ä¸ª JavaScript ä¸“æ ï¼Œé‡Œé¢æ˜¯ä¸€äº›å’Œ javaScript ç›¸å…³çš„é¢˜ç›®ï¼ŒåŸºæœ¬ä¸Šæ˜¯é—®ä¸€äº›æ—¥å¸¸ä½¿ç”¨æˆ–ç»å…¸çš„å·¥å…·å‡½æ•°çš„å†…éƒ¨å®ç°ã€‚æ„Ÿè§‰æŒºæœ‰æ„æ€ï¼Œæ‰€ä»¥å°±åˆ·äº†ä¸€éï¼Œå…¶ä¸­ï¼ŒPromise å¯¹è±¡æ± è¿™ä¸ªé¢˜è®©æˆ‘å°è±¡æ¯”è¾ƒæ·±åˆ»ï¼Œå¹³æ—¶æœ‰é‡åˆ°è¿‡ç›¸å…³åœºæ™¯ï¼Œä½†æ²¡ç»†ç¢ç£¨è¿‡å®ç°åŸç†ï¼ŒåŸé¢˜å¤§æ„æ˜¯ç»™ä½ ä¸€ä¸ªå¼‚æ­¥å‡½æ•°æ•°ç»„ functionsï¼Œå’Œä¸€ä¸ªé™åˆ¶æ•° nï¼Œè¦æ±‚è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥æ‰§è¡Œæ•°ç»„ functions ä¸­çš„æ‰€æœ‰å¼‚æ­¥å‡½æ•°ï¼Œä¸”æœ€å¤§å¹¶è¡Œæ‰§è¡Œæ•°é‡ä¸èƒ½è¶…è¿‡ nã€‚ é¢˜ç›® è¯·ä½ ç¼–å†™ä¸€ä¸ªå¼‚æ­¥å‡½æ•° promisePoolÂ ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå¼‚æ­¥å‡½æ•°æ•°ç»„ functionsÂ å’Œ æ± é™åˆ¶Â nã€‚å®ƒåº”è¯¥è¿”å›ä¸€ä¸ª promise å¯¹è±¡ï¼Œå½“æ‰€æœ‰è¾“å…¥å‡½æ•°éƒ½æ‰§è¡Œå®Œæ¯•åï¼Œpromise å¯¹è±¡å°±æ‰§è¡Œå®Œæ¯•ã€‚ æ± é™åˆ¶Â å®šä¹‰æ˜¯ä¸€æ¬¡å¯ä»¥æŒ‚èµ·çš„æœ€å¤š promise å¯¹è±¡çš„æ•°é‡ã€‚promisePoolÂ åº”è¯¥å¼€å§‹æ‰§è¡Œå°½å¯èƒ½å¤šçš„å‡½æ•°ï¼Œå¹¶åœ¨æ—§çš„ promise æ‰§è¡Œå®Œæ¯•åç»§ç»­æ‰§è¡Œæ–°å‡½æ•°ã€‚promisePoolÂ åº”è¯¥å…ˆæ‰§è¡Œ functions[i]ï¼Œå†æ‰§è¡Œ functions[i + 1]ï¼Œç„¶åæ‰§è¡Œ functions[i + 2]ï¼Œç­‰ç­‰ã€‚å½“æœ€åä¸€ä¸ª promise æ‰§è¡Œå®Œæ¯•æ—¶ï¼ŒpromisePoolÂ ä¹Ÿåº”è¯¥æ‰§è¡Œå®Œæ¯•ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœ n = 1Â ,Â promisePoolÂ åœ¨åºåˆ—ä¸­æ¯æ¬¡æ‰§è¡Œä¸€ä¸ªå‡½æ•°ã€‚ç„¶è€Œï¼Œå¦‚æœ n = 2Â ï¼Œå®ƒé¦–å…ˆæ‰§è¡Œä¸¤ä¸ªå‡½æ•°ã€‚å½“ä¸¤ä¸ªå‡½æ•°ä¸­çš„ä»»ä½•ä¸€ä¸ªæ‰§è¡Œå®Œæ¯•åï¼Œå†æ‰§è¡Œç¬¬ä¸‰ä¸ªå‡½æ•°(å¦‚æœå®ƒæ˜¯å¯ç”¨çš„)ï¼Œä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°æ²¡æœ‰å‡½æ•°è¦æ‰§è¡Œä¸ºæ­¢ã€‚ ä½ å¯ä»¥å‡è®¾æ‰€æœ‰çš„ functionsÂ éƒ½ä¸ä¼šè¢«æ‹’ç»ã€‚å¯¹äº promisePoolÂ æ¥è¯´ï¼Œè¿”å›ä¸€ä¸ªå¯ä»¥è§£æä»»ä½•å€¼çš„ promise éƒ½æ˜¯å¯ä»¥æ¥å—çš„ã€‚ ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼š functions = [ () =\u003e new Promise(res =\u003e setTimeout(res, 300)), () =\u003e new Promise(res =\u003e setTimeout(res, 400)), () =\u003e new Promise(res =\u003e setTimeout(res, 200)) ] n = 2 è¾“å‡ºï¼š[[300,400,500],500] è§£é‡Š ä¼ é€’äº†ä¸‰ä¸ªå‡½æ•°ã€‚å®ƒä»¬çš„ç¡çœ æ—¶é—´åˆ†åˆ«ä¸º 300msã€ 400ms å’Œ 200msã€‚ åœ¨ t=0 æ—¶ï¼Œæ‰§è¡Œå‰ä¸¤ä¸ªå‡½æ•°ã€‚æ± å¤§å°é™åˆ¶è¾¾åˆ° 2ã€‚ å½“ t=300 æ—¶ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œæ‰§è¡Œç¬¬3ä¸ªå‡½æ•°ã€‚æ± å¤§å°ä¸º 2ã€‚ åœ¨ t=400 æ—¶ï¼Œç¬¬äºŒä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•åã€‚æ²¡æœ‰ä»€ä¹ˆå¯æ‰§è¡Œçš„äº†ã€‚æ± å¤§å°ä¸º 1ã€‚ åœ¨ t=500 æ—¶ï¼Œç¬¬ä¸‰ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•åã€‚æ± å¤§å°ä¸º 0ï¼Œå› æ­¤è¿”å›çš„ promise ä¹Ÿæ‰§è¡Œå®Œæˆã€‚ ç¤ºä¾‹ 2ï¼š è¾“å…¥ï¼š functions = [ () =\u003e new Promise(res =\u003e setTimeout(res, 300)), () =\u003e new Promise(res =\u003e setTimeout(res, 400)), () =\u003e new Promise(res =\u003e setTimeout(res, 200)) ] n = 5 è¾“å‡ºï¼š[[300,400,200],400] è§£é‡Šï¼š åœ¨ t=0 æ—¶ï¼Œæ‰€æœ‰3ä¸ªå‡½æ•°éƒ½è¢«æ‰§è¡Œã€‚æ± çš„é™åˆ¶å¤§å° 5 æ°¸è¿œä¸ä¼šæ»¡è¶³ã€‚ åœ¨ t=200 æ—¶ï¼Œç¬¬ä¸‰ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•åã€‚æ± å¤§å°ä¸º 2ã€‚ åœ¨ t=300 æ—¶ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•åã€‚æ± å¤§å°ä¸º 1ã€‚ åœ¨ t=400 æ—¶ï¼Œç¬¬äºŒä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•åã€‚æ± å¤§å°ä¸º 0ï¼Œå› æ­¤è¿”å›çš„ promise ä¹Ÿæ‰§è¡Œå®Œæˆã€‚ ç¤ºä¾‹ 3ï¼š è¾“å…¥ï¼š functions = [ () =\u003e new Promise(res =\u003e setTimeout(res, 300)), () =\u003e new Promise(res =\u003e setTimeout(res, 400)), () =\u003e new Promise(res =\u003e setTimeout(res, 200)) ] n = 1 è¾“å‡ºï¼š[[300,700,900],900] è§£é‡Šï¼š åœ¨ t=0 æ—¶ï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªå‡½æ•°ã€‚æ± å¤§å°ä¸º1ã€‚ å½“ t=300 æ—¶ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œæ‰§è¡Œç¬¬äºŒä¸ªå‡½æ•°ã€‚æ± å¤§å°ä¸º 1ã€‚ å½“ t=700 æ—¶ï¼Œç¬¬äºŒä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œæ‰§è¡Œç¬¬ä¸‰ä¸ªå‡½æ•°ã€‚æ± å¤§å°ä¸º 1ã€‚ åœ¨ t=900 æ—¶ï¼Œç¬¬ä¸‰ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•åã€‚æ± å¤§å°ä¸º 0ï¼Œå› æ­¤è¿”å›çš„ Promise ä¹Ÿæ‰§è¡Œå®Œæˆã€‚ æç¤ºï¼š 0 \u003c= functions.length \u003c= 10 1 \u003c= n \u003c= 10 æ€è·¯ é¢˜ç›®å¾ˆå¥½ç†è§£ï¼Œåº”ç”¨åœºæ™¯ä¹Ÿæ¯”è¾ƒå¸¸è§ï¼Œåƒ Chrome æµè§ˆå™¨ï¼Œåœ¨åŒä¸€ä¸ªåŸŸåä¸‹ï¼Œä¸åŒ GET/POST è¯·æ±‚çš„å¹¶å‘æ•°é‡æ˜¯ 6ï¼Œå½“æŸä¸ªé¡µé¢çš„åˆå§‹è¯·æ±‚æ•°é‡è¿‡å¤šæ—¶ï¼ŒChrome æµè§ˆå™¨æœ€å¤šä¼šè¯·åŒæ—¶è¯·æ±‚ 6 ä¸ªï¼Œåœ¨è¿™ 6 ä¸ªè¯·æ±‚æ²¡æœ‰å¾—åˆ°å“åº”ä¹‹å‰ï¼Œåé¢çš„è¯·æ±‚ä¼šç½®å…¥é˜Ÿåˆ—é‡Œç­‰å¾…å‘é€ã€‚å½“ä»»ä¸€è¯·æ±‚å®Œæˆåï¼Œåç»­è¯·æ±‚é˜Ÿåˆ—ä¼šè¡¥ä¸Šä¸€ä¸ªâ€¦â€¦ç›´è‡³æ‰€æœ‰è¯·æ±‚å®Œæˆã€‚ ç†ä¸€ä¸‹æ€è·¯ï¼Œæƒ³è¦å®ç°è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼Œé¦–å…ˆåº”è¯¥ç»´æŠ¤ä¸€ä¸ªé•¿åº¦ä¸º n çš„ä¸€éƒ¨å¼‚æ­¥å‡½æ•°é˜Ÿåˆ—ï¼Œè¿›è¡Œåˆå§‹åŒ–æ‰§è¡Œï¼Œå¹¶ä¸”åœ¨æœ‰å¼‚æ­¥å‡½æ•°æ‰§è¡Œå®Œæ¯•çš„æ—¶å€™ï¼Œéœ€è¦æ‰§è¡Œåç»­çš„å‡½æ•°ã€‚æˆ‘å°è¯•ç€æŒ‰ç…§è‡ªå·±çš„æ€è·¯å»å®ç°ï¼Œè™½ç£•ç£•ç»Šç»Šï¼Œä½†å¥½åœ¨ä¹Ÿå®ç°äº†è¿™ä¸ªåŠŸèƒ½ï¼Œä¸è¿‡çœ‹åˆ°é‚£å†—ä½™çš„ä»£ç ï¼Œè®©æˆ‘çŸ¥é“è¿™è‚¯å®šä¸æ˜¯æœ€ä¼˜è§£ï¼Œç§‰æ‰¿ç€é«˜æ‰‹åœ¨äººé—´çš„æƒ³æ³•ï¼Œæˆ‘æœæ–­çš„æ‰“å¼€äº†è¯¥é¢˜çš„é¢˜è§£ï¼Œè™½ç„¶ JavaScript ä¸“æ åˆšå‡ºä¸ä¹…ï¼Œè§£é¢˜çš„å¤§ä½¬è¿˜ä¸ç®—å¤šï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯çœ‹åˆ°äº†æˆ‘æƒ³è¦çš„ç­”æ¡ˆã€‚ é¢˜è§£ å‰ç½®äº†è§£ï¼š Promise.all(): Promise.all() æ–¹æ³•æ¥æ”¶ä¸€ä¸ª promise çš„ iterable ç±»å‹,ï¼ˆæ³¨ï¼šArrayï¼ŒMapï¼ŒSet éƒ½å±äº ES6 çš„ iterable ç±»å‹ï¼‰çš„è¾“å…¥ï¼Œå¹¶ä¸”åªè¿”å›ä¸€ä¸ªPromiseå®ä¾‹ï¼Œä»–ä¼šæ‰§è¡Œæ‰€æœ‰çš„ promiseï¼Œå½“æ‰€æœ‰è¾“å…¥çš„ promise éƒ½å®Œæˆçš„æ—¶å€™ï¼Œè¿”å›ä¸€ä¸ªPromiseå®ä¾‹è°ƒç”¨ resolve()å¹¶è¿”å›ä¸€ä¸ªç”±æ‰€æœ‰ç»“æœç»„æˆçš„æ•°ç»„ã€‚å½“è¾“å…¥çš„ promise ä¸­å­˜åœ¨ä»»ä½•ä¸€ä¸ªè¢« reject æ—¶ï¼Œå°±ä¼šç«‹å³æŠ›å‡ºé”™è¯¯ï¼Œè¿”å›ä¸€ä¸ªPromiseå®ä¾‹è°ƒç”¨ reject()è¿”å›å…¶é”™è¯¯ä¿¡æ¯ã€‚ Promise.allSettled(): å’Œ Promise.all ç±»ä¼¼ï¼ŒåŒºåˆ«å°±æ˜¯åœ¨æŸä¸ª Promise è¢« reject æ—¶ï¼Œä¸ä¼šä¸­æ–­å‰©ä½™çš„ Promiseï¼Œä¼šåœ¨è¾“å…¥çš„æ‰€æœ‰ promise éƒ½å®Œæˆæ—¶ï¼ˆçŠ¶æ€ä¸ºfulfilled æˆ–rejectedï¼‰ï¼Œè¿”å›çš„ promise æ‰ä¼š resolveï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œ åŒ…å«æ‰€æœ‰ Promise çš„çŠ¶æ€å’Œ promsie ç»“æœã€‚ Promise.race(): Promise.race(iterable)æ–¹æ³•è¿”å›ä¸€ä¸ª promiseï¼Œä¸€æ—¦è¿­ä»£å™¨ä¸­çš„æŸä¸ª promise è§£å†³æˆ–æ‹’ç»ï¼Œè¿”å›çš„ promise å°±ä¼šè§£å†³æˆ–æ‹’ç»ã€‚ ç”±äºæˆ‘çš„é¢˜è§£å®åœ¨æ‹¿ä¸å‡ºæ‰‹ï¼Œè¿™é‡Œ copy äº†å¦å¤–ä¸¤ä¸ªä½¬å„¿çš„é¢˜è§£ã€‚ /** * @param {Function[]} functions * @param {number} n * @return {Function} */ var promisePool = async function (functions, n) { // ä½¿ç”¨ Set å­˜å‚¨æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡é˜Ÿåˆ— let queue = new Set(); let resolved = []; for (const task of functions) { // å°†æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ const x = task().then((res) =\u003e { // ä»»åŠ¡æ‰§è¡Œå®Œæˆåå°†ç»“æœå­˜åˆ° resolved æ•°ç»„ä¸­ resolved.push(res); // å®Œæˆåç§»å‡ºæ­£åœ¨æ‰§è¡Œé˜Ÿåˆ— queue.delete(x); }) queue.add(x); // æ§åˆ¶çº¿ç¨‹æ± æ‰§è¡Œæœ€å¤§æ•° if (queue.size \u003e= n) { await Promise.race(queue); } } // æ‰§è¡Œå®Œæ‰€æœ‰ä»»åŠ¡åæ‰è¿”å›æ‰§è¡Œç»“æœ await Promise.allSettled(queue); return resolved; }; /** * const sleep = (t) =\u003e new Promise(res =\u003e setTimeout(res, t)); * promisePool([() =\u003e sleep(500), () =\u003e sleep(400)], 1) * .then(console.log) // After 900ms */ ä½œè€…ï¼šå¤œé£ é“¾æ¥ï¼š\u003chttps://leetcode.cn/problems/promise-pool/solutions/2240055/shi-yong-promiserace-he-promiseallsettle-5ip2/\u003e æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰ è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚ çœ‹å®Œä¹‹åä¸å¾—ä¸æ„Ÿå¹ä½œè€…æ€è·¯çš„å·§å¦™ã€‚ç»´æŠ¤ä¸€ä¸ªæ‰§è¡Œé˜Ÿåˆ— queueã€‚ä½¿ç”¨ for å¾ªç¯ï¼Œä¾æ¬¡æ‰§è¡Œ functions æ•°ç»„é‡Œçš„å¼‚æ­¥å‡½æ•°ï¼Œå½“æ­£åœ¨æ‰§è¡Œçš„å¼‚æ­¥å‡½æ•°åˆ°è¾¾é™åˆ¶åï¼Œä½¿ç”¨ await+Promise.race é˜»å¡ for å¾ªç¯ï¼Œç›´è‡³æŸä¸ªå¼‚æ­¥å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼ŒçŠ¶æ€å˜æ›´ä¸ºfulfilled/rejected åï¼Œå°†æ‰§è¡Œå®Œæ¯•çš„å‡½æ•°å‰”é™¤é˜Ÿåˆ—ï¼Œæ­¤æ—¶å°†ç»§ç»­ for å¾ªç¯ã€‚ç„¶åç»§ç»­é˜»å¡â€¦ç›´è‡³å¾ªç¯å®Œæ¯•ã€‚ æœ€å for å¾ªç¯ç»“æŸï¼Œè¿˜å‰© n ä¸ªæ­£åœ¨æ‰§è¡Œçš„å¼‚æ­¥å‡½æ•°ï¼Œä½¿ç”¨Promise.allSettled() ç­‰å¾…é˜Ÿåˆ—å‰©ä½™çš„å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼ŒæŠŠç»“æœè¿”å›ã€‚ é¢˜è§£äºŒ ä¸‹é¢è¿™ä¸ªçœ‹èµ·æ¥å°±æ›´ç®€å•äº†ã€‚ /** * @param {Functi","date":"2023-04-16","objectID":"/myblog/promise-%E5%AF%B9%E8%B1%A1%E6%B1%A0/:0:0","tags":["leedcode"],"title":"Promise å¯¹è±¡æ± ","uri":"/myblog/promise-%E5%AF%B9%E8%B1%A1%E6%B1%A0/"},{"categories":["å‰ç«¯"],"content":"å…³äº Array.prototype.map å…ˆçœ‹ä¸‹å…³äº map æ–¹æ³•çš„æè¿°ï¼š callbackFn ä»…åœ¨å·²åˆ†é…å€¼çš„æ•°ç»„ç´¢å¼•å¤„è¢«è°ƒç”¨ï¼Œæœªè¢«åˆ†é…çš„æ•°ç»„ç´¢å¼•ï¼Œå°†è·³è¿‡ callbakFn çš„æ‰§è¡Œã€‚è€Œé€šè¿‡new Array()åˆ›å»ºå‡ºçš„æ•°ç»„æ•°ç»„é¡¹é»˜è®¤æ˜¯æœªåˆ†é…çš„çŠ¶æ€ emptyï¼Œæ‰€ä»¥ï¼Œå¦‚æœç›´æ¥è¿›è¡Œ mapï¼Œé‡Œé¢çš„å›è°ƒå‡½æ•°æ˜¯ä¸ä¼šè¢«æ‰§è¡Œçš„ã€‚éœ€è¦ä½¿ç”¨Array.prototype.fill()å¡«å……ä¸€ä¸‹é»˜è®¤å€¼ï¼Œæˆ–ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ è¿›è¡Œä¸€æ¬¡æµ…æ‹·è´ï¼Œæµ…æ‹·è´ä¹‹åçš„æ•°ç»„ï¼Œæ•°ç»„é¡¹æœªè¢«åˆ†é…æ—¶ï¼Œä¼šè¢«å¡«å……ä¸ºundefinedã€‚ ç»“å°¾ å®é™…éœ€æ±‚è‚¯å®šæ¯”é¢˜ç›®è¦æ±‚è¦å¤æ‚ï¼Œå› æ­¤ï¼Œæƒ³è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œè¿˜éœ€è¦æ ¹æ®é¡¹ç›®éœ€æ±‚ï¼Œå¯¹ä»£ç è¿›è¡Œæ¶¦è‰²ï¼Œè¡¥å……ä¸‹è¾¹ç•Œç­‰æ‰èƒ½åº”ç”¨ã€‚ end. ","date":"2023-04-16","objectID":"/myblog/promise-%E5%AF%B9%E8%B1%A1%E6%B1%A0/:1:0","tags":["leedcode"],"title":"Promise å¯¹è±¡æ± ","uri":"/myblog/promise-%E5%AF%B9%E8%B1%A1%E6%B1%A0/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"ä¸€ä¸ªgitlabå·¥å…·","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"æ‡’ä¹Ÿæ˜¯äººç±»è¿›æ­¥çš„é˜¶æ¢¯ ä¸€ä¸ªå› ä¸ºæ‡’è€Œå†™å‡ºæ¥çš„å‰ç«¯å·¥å…·-å‰ç«¯é¡¹ç›®é¢„è§ˆ ğŸ™ƒ å‰è¨€ åœ¨æ­£æ–‡å¼€å§‹ä¹‹å‰ï¼Œä¸å¾—ä¸å…ˆæä¸€ä¸‹æˆ‘ä»¬å…¬å¸çš„ä»£ç åˆå¹¶æµç¨‹ã€‚ æ—¥å¸¸å¼€å‘ä¸­ï¼Œå½“å±€è€…è¿·çš„æˆ‘ä»¬åœ¨å®Œæˆä¸€ä¸ªéœ€æ±‚çš„æ—¶å€™å¸¸å¸¸ä¼šè‡ªæˆ‘æ„Ÿå¹ï¼šè¿™æ®µä»£ç å†™çš„çœŸå®Œç¾ï¼ˆä¸æ˜¯æˆ‘ï¼‰ã€‚è€Œä¸€äº›é€»è¾‘ä¸è‡ªæ´½çš„ä»£ç æˆ–é—æ¼çš„è¾¹ç•Œé—®é¢˜å¯èƒ½å°±è¿™ä¹ˆè¢«å¿½ç•¥äº†è¿‡å»ã€‚ä»¥è‡³äºå½“æµ‹è¯•æ bug çš„æ—¶å€™ï¼Œæˆ‘ä»¬çœ‹ç€è‡ªå·±çš„ä»£ç äº§ç”Ÿè‡ªæˆ‘æ€€ç–‘ï¼šæˆ‘*ï¼Œæˆ‘å½“æ—¶ä¸ºå•¥è¿™ä¹ˆå†™ï¼Ÿæ²¡é“ç†å•Šâ€¦ ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªä»£ç å¤å®¡è€…æˆ–è€…ä»£ç æ£€æŸ¥è€…è¿™ä¹ˆä¸€ä¸ªè§’è‰²ï¼Œåœ¨æˆ‘ä»¬æŠŠä»£ç åˆå¹¶åˆ° master åˆ†æ”¯ä¹‹å‰ï¼Œå¸®æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹ï¼Œæ’é™¤ä¸€äº›ä½çº§ bug ä»¥åŠé€»è¾‘æ¼æ´ã€‚ ä¸ºäº†é¿å…å› æœªç»å®¡æ ¸çš„ä»£ç è¢«åˆå¹¶åˆ° master åˆ†æ”¯ä¸Šï¼Œç›¸åº”çš„æµç¨‹åˆ†ä¸‰æ­¥ï¼š åœ¨è¿œç¨‹ä»“åº“åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼ˆåˆ†æ”¯åç§°å¯ä»¥å› ä»»åŠ¡è€Œå®šï¼Œä¸€èˆ¬é‡‡ç”¨feature/[ä»»åŠ¡å·] æˆ–fixbug/[ä»»åŠ¡å·] ç­‰ï¼‰,å°†æˆ‘ä»¬çš„ä»£ç æäº¤åˆ°è¿™ä¸ªæ–°åˆ†æ”¯ä¸Šã€‚ åˆ›å»ºä¸€ä¸ªmerge request(pr) å¹¶æŒ‡å®šå¤å®¡è€…ã€‚ å¤å®¡è€…æ£€æŸ¥åï¼Œç”±å¤å®¡è€…å†³å®šæ˜¯è¦æŠŠä»£ç åˆå¹¶åˆ° master ä¸Šã€‚ çœ‹èµ·æ¥æ²¡ä»€ä¹ˆå¤§é—®é¢˜ï¼Œå¤å®¡è€…çš„å­˜åœ¨ä¿è¯äº†ä»£ç çš„è´¨é‡ã€‚èƒ½æå‰æ’é™¤ä¸€äº›é€»è¾‘æ¼æ´æˆ–æ½œåœ¨é—®é¢˜ã€‚ä½†æ˜¯å¯¹äºå‰ç«¯æ¥è®²ï¼Œç”±äºcssä¸æ­£äº¤çš„ç‰¹æ€§æˆ–è€…å¤å®¡è€…å¯¹äºè¯¥éƒ¨åˆ†åŠŸèƒ½æœªå¿…æœ‰ä¸€ä¸ªå®Œæ•´çš„ç†è§£ï¼Œæœ‰äº›æ—¶å€™ï¼Œå¦‚æœä¸æ‰“å¼€ä¸€ä»½è¯¥æ¬¡å˜æ›´ä¹‹åçš„ç¯å¢ƒçœŸçš„ä¸èƒ½ç¡®è®¤å˜æ›´çš„ç»“æœã€‚é‚£ä¹ˆï¼Œä¸å¯é¿å…çš„ï¼Œå¤å®¡è€…éœ€è¦å¢åŠ é¢å¤–çš„ä¸€äº›æ“ä½œï¼š å°†å½“å‰åˆ†æ”¯çš„ä»£ç  clone åˆ°æœ¬åœ°ã€‚ åˆ‡æ¢è‡³å½“å‰åˆ†æ”¯ã€‚ yarn startï¼Œç­‰å¾…ç¯å¢ƒåˆ›å»ºå¹¶æŸ¥çœ‹ã€‚ æŸ¥çœ‹æ²¡é—®é¢˜ååœ¨åˆ‡æ¢å›è‡ªå·±çš„åˆ†æ”¯ã€‚ è™½ç„¶ä¸ç®—éº»çƒ¦ï¼Œå¯ä»¥å¿ï¼Œä½†æˆ‘æ‡’å•Šï¼Œäºæ˜¯ï¼Œå¤å®¡åŒäº‹ä»£ç ä¸€ä¸ªæœˆåçš„æˆ‘è·Ÿç»„é•¿è¯´å‡ºäº†æ ‡é¢˜é‚£ä¸€æ®µè¯ã€‚ä¸å‡ºæ„å¤–çš„ï¼Œç»„é•¿å®Œç¾çš„å‘æŒ¥å‡ºâ€œè°æå‡ºçš„é—®é¢˜ï¼Œå°±ç”±è°æ¥è§£å†³â€çš„é™‹ä¹  ä¼˜è‰¯ä¼ ç»Ÿï¼Œè¿™ä¸ªä»»åŠ¡å°±è½åˆ°äº†æˆ‘çš„å¤´ä¸Šã€‚ ğŸ’¡ css çš„ä¸æ­£äº¤ï¼šä½ æ— æ³•åªçœ‹ä¸€ä¸ªå±æ€§å°±çŸ¥é“è¿™ä¸ªå±æ€§å¯¹åº”çš„æ•ˆæœï¼Œä½ å¿…é¡»ç»“åˆå¦ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§ä¸€èµ·æ¥çœ‹ æ­£æ–‡ ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:0:0","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"è¿˜æ˜¯å…ˆçœ‹æ•ˆæœå§ help æŒ‡ä»¤ create æŒ‡ä»¤ delete æŒ‡ä»¤ å› ä¸ºä¸æ˜¯æ¯ä¸ª mr éƒ½éœ€è¦ä¸€ä»½é¢„è§ˆç¯å¢ƒï¼Œæ‰€ä»¥æ²¡æœ‰æ‰“ç®—åœ¨ GitLab çš„ pipeline ä¸­éƒ¨ç½²ã€‚åœ¨å’Œç»„é•¿è®¨è®ºäº†åŠä¸‹åˆåï¼Œæœ€åå†³å®šä½¿ç”¨ GitLab çš„ webhook ä¸æœåŠ¡è¿›è¡Œäº¤äº’ã€‚å¹¶ç½—åˆ—äº†ä¸€äº›éœ€æ±‚ä»¥åŠå®ç°æ–¹å¼ã€‚ ğŸ’¡ GitLab/GitHub éƒ½æä¾›äº† webhook åŠŸèƒ½ï¼Œå¦‚æœä½ éœ€è¦çš„è¯ï¼Œå®ƒå¯ä»¥ç›‘å¬ä½ æ‰€åœ¨é¡¹ç›®çš„å·¥ä½œï¼Œå¹¶å‘ä½ çš„æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚ ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:1:0","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"æ–¹æ¡ˆ æ­å»ºä¸€ä¸ªæœåŠ¡ï¼Œé€šè¿‡ GitLab çš„ webhookï¼Œç›‘å¬ MR çš„è¯„è®ºå’ŒçŠ¶æ€ï¼Œå¹¶è¿›è¡Œç›¸åº”å¤„ç†ã€‚ ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:2:0","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"æŠ€æœ¯æ ˆ åç«¯ï¼šKoaJs(2.0+) + TypeScript å‰ç«¯ï¼šReact + TypeScript + Vite ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:3:0","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"éœ€æ±‚ é€šè¿‡åœ¨å·²åˆ›å»ºçš„ mr ä¸­è¯„è®ºçš„æ–¹å¼ï¼Œä¸æœåŠ¡è¿›è¡Œäº¤äº’ï¼Œå¹¶æ”¯æŒå››ä¸ªå‘½ä»¤help ã€create ã€update å’Œdeleteï¼š MR è¢«åˆå¹¶/å…³é—­åï¼Œåº”è‡ªåŠ¨åˆ é™¤å½“å‰ MR å¯èƒ½åˆ›å»ºçš„é¢„è§ˆç¯å¢ƒã€‚ æ”¶åˆ°åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ç¯å¢ƒå‘½ä»¤æ—¶åº”æœ‰å®æ—¶åé¦ˆï¼Œå‘ŠçŸ¥ç”¨æˆ·ç»“æœï¼ˆä¸ç®¡æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼‰ã€‚ é¡¹ç›®å…·æœ‰å®Œæ•´çš„æ—¥å¿—ç³»ç»Ÿï¼Œä»¥åŠé”™è¯¯å¤„ç†æœºåˆ¶ã€‚ æœåŠ¡å´©æºƒçš„æ—¶å€™æœŸæœ›èƒ½æ”¶åˆ°é‚®ä»¶é€šçŸ¥ã€‚ æä¾›ä¸€ä¸ªå‰ç«¯å¯è§†åŒ–é¡µé¢ï¼Œç”¨äºå±•ç¤ºæ‰€æœ‰å·²åˆ›å»ºçš„ç¯å¢ƒï¼Œå¹¶æ”¯æŒæ‰‹åŠ¨æ›´æ–°å’Œåˆ é™¤ã€‚ ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:4:0","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"æ€è·¯ æœ‰äº†æ€è·¯æ‰å¥½å®ç°ï¼Œå…ˆç†ä¸€ä¸‹ä¸»æµç¨‹çš„å¤§è‡´æ€è·¯ï¼š åœ¨ GitLab åˆ›å»º webhookï¼Œç›‘å¬é¡¹ç›®çš„è¯„è®ºå’Œ MR å˜åŒ–ã€‚ åœ¨ GitLab ä¸­è®¾ç½®è®¿é—® token å¹¶è®¾ç½®ç›¸å…³æƒé™ï¼Œé€šè¿‡è¿™ä¸ª tokenï¼Œåœ¨æœåŠ¡ä¸­è°ƒç”¨ GitLab APIï¼Œå¯¹é¡¹ç›®è¿›è¡Œç›¸å…³æ“ä½œã€‚ åœ¨æœåŠ¡ä¸­æ³¨å†Œè·¯ç”±ï¼Œç”¨äºæ¥æ”¶ GitLab ä¼ é€’è¿‡æ¥çš„ä¿¡æ¯ã€‚ è§£æ GitLab ä¼ é€’è¿‡æ¥çš„ä¿¡æ¯ï¼Œå¾—åˆ°é¡¹ç›®åç§° ã€MRæºåˆ†æ”¯ã€ç›¸å…³å‘½ä»¤ ç­‰ä¿¡æ¯ã€‚ åˆ©ç”¨æœºå™¨äººçš„ GitLab æƒé™ï¼Œåœ¨æœåŠ¡ä¸­æ‹‰å–è¿œç¨‹ä»£ç ï¼Œå¹¶ä½¿ç”¨ Vite æŠ›å‡ºçš„**createServer APIï¼Œæ­å»º/æ›´æ–°ç¯å¢ƒã€‚å¹¶åœ¨æ­å»ºæˆåŠŸ/å¤±è´¥åã€‚è°ƒç”¨ GitLab API åœ¨å½“å‰ MR åˆ›å»ºä¸€ä¸ªè¯„è®ºè¿›è¡Œåé¦ˆ MR åˆå¹¶æ—¶å¹²æ‰è¿™ä¸ªç¯å¢ƒã€‚ ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:5:0","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"å®ç° ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:6:0","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"ç¬¬ä¸€æ­¥ï¼šé¦–å…ˆæˆ‘ä»¬éœ€è¦é…ç½®ä¸€ä¸‹é¡¹ç›®çš„ webhook project -\u003e settings -\u003e webhook GitLab æ³¨å†Œäº† 13 ä¸ªäº‹ä»¶ã€‚ä¸è¿‡æˆ‘ä»¬åªéœ€è¦å…³æ³¨ä»–çš„comment eventå’ŒMerge Request events å°±å¤Ÿäº†ã€‚æŒ‡å®šå¥½æœåŠ¡çš„ urlï¼Œé€‰å®Œç‚¹å‡»åˆ›å»ºåï¼Œæ¯å½“é¡¹ç›®åˆ›å»ºäº† MRï¼Œæˆ–æ–°å¢äº†è¯„è®ºã€‚GitLab å°±ä¼šå‘æŒ‡å®šçš„ url å‘é€è¯·æ±‚ï¼Œå¹¶å¸¦ä¸Šç›¸å…³çš„ä¿¡æ¯ã€‚ ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:6:1","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"ç¬¬äºŒæ­¥ï¼šåˆ›å»ºè®¿é—® token project -\u003e settings -\u003e Access Tokens ç»™ä»–èµ·ä¸ªåå­—ï¼Œå¹¶èµ‹äºˆç›¸åº”æƒé™ã€‚ç‚¹å‡»åˆ›å»ºåä¼šå¾—åˆ°ä¸€ä¸ª tokenï¼ŒæŠŠè¿™ä¸ª token ä¿å­˜èµ·æ¥ï¼Œç”¨äºä¹‹ååœ¨æœåŠ¡ä¸­è°ƒç”¨ GitLab APIã€‚ ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:6:2","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"ç¬¬ä¸‰æ­¥ï¼šåœ¨æœåŠ¡ä¸­æ³¨å†Œè·¯ç”±ï¼Œç”¨äºæ¥æ”¶ GitLab ä¼ é€’è¿‡æ¥çš„ä¿¡æ¯ã€‚ import Router from 'koa-router'; const router = new Router(); router.post('/webhook', (ctx, next) =\u003e { const body = getRequestBody(ctx, ProjectType.Umc); logger.info('GitLab event: ', body.object_kind); handleEvents(ProjectType.Umc, body); ctx.status = 200; next(); }); export default router; å¯ä»¥æ ¹æ® body.object_kind å¾—çŸ¥æ­¤æ—¶è§¦å‘çš„æ˜¯ MR äº‹ä»¶è¿˜æ˜¯ Comment äº‹ä»¶ï¼Œå¹¶ä½œå‡ºç›¸å¯¹åº”çš„å¤„ç†ã€‚ ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:6:3","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"ç¬¬å››æ­¥ï¼šè§£æ gitlab ä¼ é€’è¿‡æ¥çš„ä¿¡æ¯ï¼Œå¾—åˆ°é¡¹ç›®åç§° ã€MRæºåˆ†æ”¯ã€ç›¸å…³å‘½ä»¤ ç­‰ä¿¡æ¯ã€‚ // å¤„ç†MRå˜åŒ– const changes = ['updated_at', 'merge_status']; const handleMergeRequestChange = (payload: IMergeRequestParams) =\u003e { //è·å–é¡¹ç›®idï¼Œmræè¿°ï¼Œmridï¼ŒmrçŠ¶æ€ï¼Œæºåˆ†æ”¯ï¼Œmrå˜åŒ–ä¿¡æ¯ã€‚ const projectId = payload.project.id; const { description, iid, state, source_branch } = payload.object_attributes; const changeItems = Object.keys(payload.changes); // æå–mræè¿°ä¸­çš„å‘½ä»¤ï¼Œåªæ”¯æŒcreateå‘½ä»¤ const commandInfo = getParamsByDesc(description); let commentCtx = ''; if (commandInfo?.error) { commentCtx = commandInfo.error; } else if ( commandInfo?.command \u0026\u0026 commandInfo.command !== CommandEnum.create ) { commentCtx = ':octocat: å‘½ä»¤æ— æ•ˆï¼Œåˆ›å»ºmerge requestæ—¶åªæ”¯æŒcreateå‘½ä»¤'; } // å‘½ä»¤å‡ºé”™æ—¶çš„å¤„ç†ï¼Œè°ƒç”¨GitLab APIï¼Œåœ¨å½“å‰mræ–°å¢ä¸€ä¸ªè¯„è®º if (commentCtx) { GitlabService.updateComment(projectId, iid, commentCtx); return; } // æ ¹æ®MRçš„çŠ¶æ€å†³å®šæ˜¯å¦åˆ›å»º/æ›´æ–° æˆ–åˆ é™¤ç¯å¢ƒã€‚ switch (state) { case 'opened': if (!commandInfo) return; // ä¸æ˜¯commitå˜æ›´è§¦å‘çš„merge event ä¸éœ€è¦æ›´æ–°ç¯å¢ƒ if (changeItems.length !== 1 || !changes.includes(changeItems[0])) { logger.info(`[mr: ${iid}]: æ— æ•ˆçš„merge event`); return; } createDev( iid, source_branch, projectId, TriggerEnum.desc, commandInfo?.params ); break; case 'closed': case 'merged': deleteDev(projectId, iid); break; } }; å¤„ç† comment event ä¸ MR event ç±»ä¼¼ï¼Œè·å–æˆ‘éœ€è¦çš„ä¿¡æ¯ï¼Œæ£€æŸ¥å‘½ä»¤çš„åˆæ³•æ€§ä»¥åŠ MR çš„çŠ¶æ€ã€‚ // å¤„ç†comment event const handleCommentsChange = (payload: ICommentParams) =\u003e { const { note } = payload.object_attributes; const commandInfo = getParamsByDesc(note); const { id: projectId } = payload.project; const { iid, source_branch, state } = payload.merge_request; if (!commandInfo) { return; } let commentCtx = ''; if (commandInfo?.error) { commentCtx = commandInfo.error; } else if (state === 'closed' || state === 'merged') { commentCtx = ':octocat: å½“å‰mrå·²å…³é—­/å·²åˆå¹¶ï¼Œä¸æ”¯æŒå‘½ä»¤è¡Œè¯„è®º'; } if (commentCtx) { GitlabService.updateComment(projectId, iid, commentCtx); return; } switch (commandInfo.command) { case CommandEnum.help: devLogger.info(`æ¥æ”¶åˆ° help å‘½ä»¤, ${iid}`); addCommandHelpComment(projectId, iid); break; case CommandEnum.create: devLogger.info(`æ¥æ”¶åˆ° create å‘½ä»¤, ${iid}`); createDev( iid, source_branch, projectId, TriggerEnum.cmd, commandInfo.params ); break; case CommandEnum.update: devLogger.info(`æ¥æ”¶åˆ° update å‘½ä»¤, ${iid}`); updateDev(iid, source_branch, projectId, commandInfo.params); break; case CommandEnum.delete: devLogger.info(`æ¥æ”¶åˆ° delete å‘½ä»¤, ${iid}`); deleteDev(projectId, iid, TriggerEnum.cmd); break; case CommandEnum.clear: devLogger.info(`æ¥æ”¶åˆ° clear å‘½ä»¤, ${iid}`); clearComments(projectId, iid); break; } }; ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:6:4","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"ç¬¬äº”æ­¥ï¼šåˆ©ç”¨æœºå™¨äººçš„ GitLab æƒé™ï¼Œåœ¨æœåŠ¡ä¸­æ‹‰å–è¿œç¨‹ä»£ç ï¼Œå¹¶ä½¿ç”¨ Vite å¯åŠ¨ç¯å¢ƒ npm åŒ…shelljså¯ä»¥è®©æˆ‘ä»¬åœ¨ node é‡Œä½¿ç”¨ä¸€äº›ç®€å•çš„ shell å‘½ä»¤ï¼Œä½¿ç”¨å®ƒåˆ›å»ºä¸€ä¸ªç¯å¢ƒç›®å½•å¹¶æ‹‰å–ä»£ç  // éƒ¨åˆ†ä»£ç  // åˆ›å»ºè¯„è®º await GitlabService.updateEnvComment( projectId, mergeRequestId, `â° æ­£åœ¨ä¸ºä½ åˆ›å»ºproxy ipä¸º ${proxyIP} é¢„è§ˆç¯å¢ƒ...ã€‚` ); if (shell.cd(env.CODE_DIR).code !== 0) { throw new Error('Error: å­˜æ”¾ä»£ç çš„æ–‡ä»¶å¤¹è·¯å¾„ä¸æ­£ç¡®'); } if (!shell.which('git')) { throw new Error('Error, æ²¡æœ‰gitå‘½ä»¤'); } // è¿›å…¥æ–‡ä»¶ if (shell.cd(`${projectName}-${mergeRequestId}`).code !== 0) { shell.mkdir(`${projectName}-${mergeRequestId}`); shell.cd(`${projectName}-${mergeRequestId}`); } // æ ¹æ®åˆ†æ”¯å…‹éš†ä»£ç ã€yarn install await execPromise(`git clone -b ${branch} ${env.PROJECT_CLONE_ADDR}`); logger.info(`[mr:${mergeRequestId}]:é¡¹ç›®å…‹éš†æˆåŠŸ`); shell.cd(projectName); await execPromise('yarn install'); logger.info(`[mr:${mergeRequestId}]:é¡¹ç›®æ‰€éœ€npmåŒ…ä¸‹è½½æˆåŠŸï¼Œå³å°†å¯åŠ¨é¡¹ç›®`); //å¯åŠ¨ç¯å¢ƒå¹¶å¾—åˆ°é¢„è§ˆåœ°å€ï¼Œå°†åœ°å€å‘ŠçŸ¥ç”¨æˆ· const addr = await createDevServer(projectDir, mergeRequestId, proxyIP); logger.info(`[mr:${mergeRequestId}]: ç¯å¢ƒå¯åŠ¨æˆåŠŸ: address ${addr}`); await GitlabService.updateEnvComment( projectId, mergeRequestId, `âœ… é¢„è§ˆç¯å¢ƒåˆ›å»ºæˆåŠŸï¼š${addr}` ); // export const execPromise = (cmd: string) =\u003e // new Promise\u003cvoid\u003e((resolve, reject) =\u003e { // shell.exec(cmd, (code, _, stderr) =\u003e { // if (code === 0) { // resolve(); // } else { // logger.error(`error cmd: ${cmd}`); // reject(stderr); // } // }); // }); Vite æä¾›äº† createServer API ï¼Œç”¨äºåˆ›å»ºé¢„è§ˆç¯å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ª API æ¥å¯åŠ¨ clone çš„é¡¹ç›®ã€‚ä¸è¿‡è¦è®°å¾—å¼€ä¸€ä¸ªå­è¿›ç¨‹ï¼Œåœ¨å­è¿›ç¨‹é‡Œåˆ›å»ºç¯å¢ƒã€‚å› ä¸º Vite åªæä¾›äº†å…³é—­ç¯å¢ƒçš„ APIï¼Œæ²¡æœ‰æä¾›é”€æ¯ç¯å¢ƒçš„ APIã€‚ç¯å¢ƒè™½ç„¶å…³é—­äº†ï¼Œä½†ä»–è¿˜åœ¨å ç”¨å†…å­˜ï¼Œè¿‡ä¸€æ®µæ—¶é—´ï¼ŒæœåŠ¡å°±ä¼šå› ä¸ºå†…å­˜æº¢å‡ºè€ŒæŒ‚æ‰ï¼ˆè¿™ bug è®©æˆ‘ä¸€é¡¿å¥½ä¿®ï¼‰ã€‚åœ¨å­è¿›ç¨‹é‡Œåˆ›å»ºç¯å¢ƒï¼Œè¿™æ ·åˆ ç¯å¢ƒçš„æ—¶å€™åªéœ€è¦æŠŠå­è¿›ç¨‹ kill æ‰å°±å¯ä»¥äº†ã€‚ //createDevServer import { createServer } from 'vite'; const server = await createServer(env.getViteConfig(projectPath, proxyIP)); await server.listen(); const network = server.resolvedUrls?.network ?? []; process.send?.(network[0]); ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:6:5","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"ç¬¬å…­æ­¥ï¼šMR åˆå¹¶æ—¶å¹²æ‰è¿™ä¸ªç¯å¢ƒã€‚ æŠŠå­è¿›ç¨‹çš„ pid å­˜ä¸‹æ¥ï¼Œæ³¨å†Œä¸€ä¸ªç›‘å¬äº‹ä»¶ï¼Œåœ¨ MR åˆå¹¶çš„æ—¶å€™æŠŠè¿›ç¨‹ kill æ‰ ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:6:6","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"å…¶ä»– GitLab SDK@gitbeaker/node ï¼Œå°è£…äº† GitLab çš„ç›¸å…³ APIã€‚å¯ä»¥çœå»æˆ‘ä»¬è‡ªå·±å°è£… API çš„æ—¶é—´ã€‚ å‰ç«¯æœ‰ä¸ªé¢„è§ˆç¯å¢ƒçš„åˆ—è¡¨å’Œä¸€äº› MR ä¿¡æ¯ï¼Œç”±äºå†…å®¹ä¸å¤šï¼Œæ‰€ä»¥ä¿å­˜åœ¨äº† json æ–‡ä»¶é‡Œã€‚ç„¶åå†™å‡ ä¸ªè¯·æ±‚ï¼Œè¿”å›ä¸€ä¸ªé¢„è§ˆç¯å¢ƒåˆ—è¡¨ã€‚ ä½¿ç”¨log4js å¯¹é¡¹ç›®è¿›è¡Œæ—¥å¿—ç®¡ç†ï¼Œé»˜è®¤ä¸€ä¸ªæ–‡ä»¶å­˜å‚¨ 15 å¤©çš„ä¿¡æ¯ã€‚å¹¶ä¸”ä¸ºäº†æ–¹ä¾¿åœ¨æ•…éšœçš„æ—¶å€™æŸ¥çœ‹æ—¥å¿—ï¼Œè¿˜åœ¨å‰ç«¯åŠ äº†ä¸ªæ—¥å¿—å±•ç¤ºé¡µé¢ã€‚ï¼ˆè™½ç„¶æ ·å¼æœ‰ç‚¹ç²—ç³™ï¼Œä½†æ˜¯æ—¥å¿—å˜›ï¼Œèƒ½çœ‹å°±è¡Œ ğŸ™ƒï¼‰ ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:7:0","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯","å·¥å…·"],"content":"end. ","date":"2023-03-20","objectID":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/:8:0","tags":["å‰ç«¯","React"],"title":"è¦æ˜¯åˆ›å»ºMR(PR)åå®ƒèƒ½è‡ªå·±åˆ›å»ºä¸€ä»½é¢„è§ˆç¯å¢ƒå°±å¥½äº†","uri":"/myblog/%E8%A6%81%E6%98%AF%E5%88%9B%E5%BB%BAmrpr%E5%90%8E%E5%AE%83%E8%83%BD%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BB%BD%E9%A2%84%E8%A7%88%E7%8E%AF%E5%A2%83%E5%B0%B1%E5%A5%BD%E4%BA%86/"},{"categories":["å‰ç«¯"],"content":"è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†web Componentçš„åŸºæœ¬ä½¿ç”¨","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"Web Component æœ¬èº«ä¸æ˜¯ä¸€ä¸ªè§„èŒƒï¼Œè€Œæ˜¯ä¸€ç»„æŠ€æœ¯çš„åº”ç”¨ï¼ŒWeb Component ç°é˜¶æ®µä¸»è¦åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šCustom elementã€Shadow DOMã€Templateã€‚é€šè¿‡å®ƒä»¬çš„æ­é…ä½¿ç”¨ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸å€ŸåŠ©ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼ˆreactï¼Œvueï¼‰çš„æƒ…å†µä¸‹ï¼Œæ„å»ºç‹¬ç«‹çš„ï¼Œå¯é‡ç”¨çš„è‡ªå®šä¹‰ç»„ä»¶ã€‚ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:0:0","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"Custom element(è‡ªå®šä¹‰å…ƒç´ ) Custom element æ˜¯ä¸€ç»„ javasrcipt APIï¼Œå®ƒå…è®¸æˆ‘ä»¬è‡ªå®šä¹‰ä¸€äº›å®šåˆ¶å…ƒç´ åŠè¡Œä¸ºã€‚ \u003cbody\u003e \u003c!-- ç»„å»ºä½¿ç”¨ --\u003e \u003cbox-div color=\"orange\" text=\"hello\"\u003e\u003c/box-div\u003e \u003c/body\u003e \u003c!-- ç»„å»ºå®šä¹‰ --\u003e \u003cscript\u003e class boxDiv extends HTMLElement { constructor() { super(); this.style.color = this.getAttribute('color'); this.append(this.getAttribute('text')); } } window.customElements.define('box-div', boxDiv); \u003c/script\u003e js æä¾›äº†customElements.define apiï¼Œç”¨æ¥æ³¨å†Œè‡ªå®šä¹‰å…ƒç´ ï¼ŒcustomElements.define()æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š ç¬¦åˆå‘½åæ ‡å‡†çš„å‚æ•°åç§°ï¼ˆä¸èƒ½æ˜¯å•ä¸ªå•è¯ï¼Œä¸”å¿…é¡»è¦æœ‰çŸ­æ¨ªçº¿ï¼‰ ç”¨äºå®šä¹‰è¡Œä¸ºçš„ç±» å¯é€‰å‚æ•°ï¼šä¸€ä¸ªåŒ…å« extendså±æ€§çš„é…ç½®å¯¹è±¡ï¼ŒæŒ‡å®šæ‰€åˆ›å»ºå…ƒç´ ç»§æ‰¿äºå“ªä¸ªå†…ç½®çš„ HTML å…ƒç´ ã€‚ Custom element æœ‰ä¸¤ç§å®šä¹‰å…ƒç´ çš„æ–¹å¼ï¼Œæ²¡æœ‰ä¼ é€’ç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºç‹¬ç«‹åˆ›å»ºï¼Œä¸ç»§æ‰¿å†…ç½®å…ƒç´ ã€‚åœ¨ä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥å†™æˆ HTML æ ‡ç­¾çš„å½¢å¼æ¥ä½¿ç”¨ï¼Œä¾‹å¦‚\u003cword-count\u003e æˆ–è€…é€šè¿‡ js åˆ›å»ºdocument.createElement(â€œword-countâ€) ã€‚ è‹¥åœ¨å®šä¹‰å…ƒç´ æ—¶æŒ‡å®šäº†æ‰€æ‰©å±•çš„å…ƒç´ ï¼Œè¡¨ç¤ºç»§æ‰¿åˆ›å»ºã€‚åœ¨ä½¿ç”¨æ—¶åˆ™éœ€è¦å…ˆå†™å‡ºåŸºæœ¬çš„å…ƒç´ æ ‡ç­¾ï¼Œå¹¶é€šè¿‡is æŒ‡å®šæ‰€æ‰©å±•çš„å…ƒç´ ã€‚ customElements.define('word-count', WordCount, { extends: 'p' }); // ä½¿ç”¨æ–¹å¼ \u003cp is=\"word-count\"\u003e\u003c/p\u003e; // æˆ– document.createElement('p', { is: 'word-count' }); å®ƒè¿˜å¯ä»¥æŒ‡å®šä¸€äº›å›è°ƒå‡½æ•°ï¼Œå®ƒä»¬å°†åœ¨å…ƒç´ ä¸åŒçš„ç”Ÿå‘½æ—¶æœŸè¢«è°ƒç”¨ connectedCallbackï¼šå½“ custom element é¦–æ¬¡è¢«æ’å…¥æ–‡æ¡£ DOM æ—¶ï¼Œè¢«è°ƒç”¨ã€‚ disconnectedCallbackï¼šå½“ custom element ä»æ–‡æ¡£ DOM ä¸­åˆ é™¤æ—¶ï¼Œè¢«è°ƒç”¨ã€‚ adoptedCallbackï¼šå½“ custom element è¢«ç§»åŠ¨åˆ°æ–°çš„æ–‡æ¡£æ—¶ï¼Œè¢«è°ƒç”¨ã€‚ attributeChangedCallback: å½“ custom element å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹è‡ªèº«å±æ€§æ—¶ï¼Œè¢«è°ƒç”¨ã€‚ class boxDiv extends HTMLElement { static get observedAttributes() { return ['class', 'style']; } constructor() { super(); this.style.color = this.getAttribute('color'); this.append(this.getAttribute('text')); } public connectedCallback() { console.log('å…ƒç´ æ’å…¥DOMä¸­.'); } public disconnectedCallback(){ console.log('å…ƒç´ è¢«åˆ é™¤.'); } public adoptedCallback(){ console.log('å…ƒç´ è¢«ç§»åŠ¨.'); } public attributeChangedCallback(name, oldValue, newValue){ console.log('å…ƒç´ å±æ€§å˜æ›´.' nameï¼ŒoldValueï¼Œ newValue); } } æ³¨ï¼šæƒ³åœ¨æŸä¸ªå…ƒç´ å±æ€§å˜åŒ–åï¼Œè§¦å‘attributeChangedCallback()å›è°ƒå‡½æ•°ï¼Œéœ€è¦å…ˆå¿…é¡»ç›‘å¬è¿™ä¸ªå±æ€§ã€‚è¿™å¯ä»¥é€šè¿‡å®šä¹‰observedAttributes() get å‡½æ•°æ¥å®ç°ï¼ŒobservedAttributes() å‡½æ•°ä½“å†…åŒ…å«ä¸€ä¸ª return è¯­å¥ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†éœ€è¦ç›‘å¬çš„å±æ€§åç§°ã€‚ç›‘å¬åã€‚æ¯å½“å…ƒç´ çš„å±æ€§å˜åŒ–æ—¶ï¼ŒattributeChangedCallback()å›è°ƒå‡½æ•°ä¼šæ‰§è¡Œã€‚æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹å±æ€§çš„åç§°ã€æ—§å€¼ä¸æ–°å€¼ã€‚ é€šè¿‡è¿™äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€çš„å˜æ›´æˆ‘ä»¬çš„ web ç»„ä»¶ã€‚ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:1:0","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"Shadow DOMï¼ˆå½±å­ DOMï¼‰ Shadow DOM ä¹Ÿæœ‰ä¸€ç»„ javascript APIï¼Œä»–ä¸æ˜¯ä¸€ä¸ªæ–°äº‹ç‰©ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨å¸¸è§„ DOM å…ƒç´ ä¸Šé™„åŠ ä¸€ä¸ªç‹¬ç«‹éšè—çš„ç‰¹æ®Šç±»å‹ DOM å…ƒç´ ã€‚è¿™éƒ¨åˆ†çš„ä»£ç ä¸å¤–éƒ¨ä»£ç ç›¸äº’éš”ç¦»ã€‚å†…éƒ¨çš„ä»»ä½•ä»£ç éƒ½æ— æ³•å½±å“å¤–éƒ¨ã€‚ é€šè¿‡ Shadow DOM å’Œ Custom element æ­é…çš„æ–¹å¼ï¼Œå¯ä»¥ä¿è¯è‡ªå®šä¹‰å…ƒç´ çš„ç‹¬ç«‹ã€‚ä½¿å…¶ä¸ä¼šå½±å“åˆ°å®ƒå¤–éƒ¨çš„å…ƒç´ ã€‚ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:2:0","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"åŸºæœ¬ç”¨æ³• å¯ä»¥ä½¿ç”¨ Element.attachShadow() æ–¹æ³•æ¥å°†ä¸€ä¸ª shadow root é™„åŠ åˆ°ä»»ä½•ä¸€ä¸ªå…ƒç´ ä¸Šã€‚å®ƒæ¥å—ä¸€ä¸ªé…ç½®å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¯¥å¯¹è±¡æœ‰ä¸€ä¸ª mode å±æ€§ï¼Œå€¼å¯ä»¥æ˜¯ open æˆ–è€… closedï¼š let shadow = elementRef.attachShadow({ mode: 'open' }); let shadow = elementRef.attachShadow({ mode: 'closed' }); open è¡¨ç¤ºå¯ä»¥é€šè¿‡é¡µé¢å†…çš„ javascript æ–¹æ³•æ¥è·å– Shadow DOMã€‚ let myShadowDom = myCustomElem.shadowRoot; å¦‚æœä½ å°†ä¸€ä¸ª Shadow root é™„åŠ åˆ°ä¸€ä¸ª Custom element ä¸Šï¼Œå¹¶ä¸”å°† mode è®¾ç½®ä¸º closedï¼Œé‚£ä¹ˆå°±ä¸å¯ä»¥ä»å¤–éƒ¨è·å– Shadow DOM äº†ã€‚myCustomElem.shadowRoot å°†ä¼šè¿”å› nullã€‚ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:2:1","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"å®ç°ä¸€ä¸ªç®€å•çš„ tooltip \u003cbody\u003e \u003cpopup-info text=\"ä¸€ä¸ªç‚¹å‡»å¯ç›´æ¥æš´å¯Œçš„æœ´ç´ æŒ‰é’®\"\u003ebutton\u003c/popup-info\u003e \u003c/body\u003e \u003cscript\u003e class PopUpInfo extends HTMLElement { constructor() { super(); const shadow = this.attachShadow({ mode: 'open' }); const style = document.createElement('style'); style.textContent = ` .wrapper { position: relative; top: 100px; left: 10px; } .info { font-size: 14px; width: 200px; display: inline-block; border: 1px solid black; padding: 10px; background: white; border-radius: 10px; opacity: 0; transition: 0.6s all; position: absolute; bottom: 20px; left: 10px; z-index: 3; } .title:hover + .info, .title:focus + .info { opacity: 1; } `; shadow.appendChild(style); const wrapper = document.createElement('span'); wrapper.setAttribute('class', 'wrapper'); shadow.appendChild(wrapper); // titleä¿¡æ¯ const titleDom = document.createElement('span'); titleDom.setAttribute('class', 'title'); const title = this.innerHTML; titleDom.append(title); wrapper.appendChild(titleDom); // tooltipä¿¡æ¯ const infoDom = document.createElement('span'); infoDom.setAttribute('class', 'info'); const text = this.getAttribute('text'); infoDom.textContent = text; wrapper.appendChild(infoDom); } } customElements.define('popup-info', PopUpInfo); \u003c/script\u003e å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ DOMï¼Œç„¶ååˆ›å»ºä¸€ä¸ª shadowDOMï¼Œç»™ shadowDOM æ–°å¢å­æ ‡ç­¾style titleSpan infoSpan ã€‚ æœ€åå°† shadowDOM é™„åŠ åˆ°è‡ªå®šä¹‰ DOM ä¸Šã€‚ä¸€ä¸ªç®€å•çš„ tooltip å°±å®ç°äº†ã€‚ ç›®å‰çœ‹èµ·æ¥è¿˜æœ‰ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚æˆ‘å†™ style çš„æ–¹å¼æ˜¯ç”¨æ¨¡ç‰ˆå­—ç¬¦ä¸²å†™çš„ã€‚æ¯”å¦‚æˆ‘ç”¨çš„ jsAPI ç”Ÿæˆçš„ dom å…ƒç´ ã€‚å¯è¯»æ€§è¾ƒå·®ã€‚å†æ¯”å¦‚ç›®å‰çš„æç¤ºä¿¡æ¯åªæ¥æ”¶å­—ç¬¦ä¸²ï¼Œä¸æ”¯æŒ DOM ç±»å‹ã€‚è¿™äº›é—®é¢˜å¯ä»¥ä½¿ç”¨ template å’Œ slot æ¥è§£å†³ã€‚ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:2:2","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"HTML templateï¼ˆHTML æ¨¡æ¿ï¼‰ HTML a æä¾›äº†\u003ctemplate\u003eå’Œ\u003cslot\u003eæ ‡ç­¾ï¼Œ\u003ctemplateæ ‡ç­¾å’Œå…¶å­å†…å®¹ä¸ä¼šåœ¨ DOM ä¸­å‘ˆç°ã€‚ä½†ä»ç„¶å¯ä»¥ä½¿ç”¨ JS å»å¼•ç”¨å®ƒã€‚å€ŸåŠ©è¿™ä¸ªç‰¹æ€§ã€‚å¯ä»¥è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç”¨æ¥çµæ´»å¡«å…… web ç»„ä»¶çš„æ¨¡ç‰ˆã€‚ \u003ctemplate id=\"my-paragraph\"\u003e \u003cp\u003eMy paragraph\u003c/p\u003e \u003c/template\u003e è¿™æ®µä»£ç ä¸ä¼šåœ¨é¡µé¢ä¸­å‘ˆç°ï¼Œä½†å´å¯ä»¥é€šè¿‡document.querySelector() ç­‰ API è·å– let template = document.querySelector('#my-paragraph'); æ ‡ç­¾åˆ™å…è®¸æˆ‘ä»¬åœ¨æ¨¡ç‰ˆä¸­å®šä¹‰å ä½ç¬¦ï¼Œåœ¨ä½¿ç”¨è¯¥æ¨¡ç‰ˆæ—¶ï¼Œè¯¥å ä½ç¬¦å¯ä»¥å¡«å……æ‰€éœ€çš„ä»»ä½• HTML æ ‡è®°ç‰‡æ®µã€‚ é€šè¿‡\u003ctemplate\u003e æ ‡ç­¾å’Œæ’æ§½\u003cslot\u003eï¼Œæˆ‘ä»¬å¯ä»¥å°†æƒ³è¦çš„å…ƒç´ å®šåˆ¶æˆä¸€ä¸ªæ¨¡ç‰ˆã€‚éšå–éšç”¨ã€‚ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:3:0","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"åœ¨ web ç»„ä»¶ ä¸­ä½¿ç”¨æ¨¡ç‰ˆå’Œæ’æ§½ \u003cpopup-info\u003e \u003ca href=\"http://www.baidu.com\" slot=\"info\" \u003eä¸€ä¸ªç‚¹å‡»å¯ç›´æ¥æš´å¯Œçš„æœ´ç´ æŒ‰é’®\u003c/a \u003e \u003cspan slot=\"title\"\u003ebutton\u003c/span\u003e \u003c/popup-info\u003e \u003ctemplate id=\"tooltip-template\"\u003e \u003cstyle\u003e .wrapper { position: relative; top: 100px; left: 10px; } .info { font-size: 14px; width: 200px; display: inline-block; border: 1px solid black; padding: 10px; background: white; border-radius: 10px; opacity: 0; transition: 0.6s all; position: absolute; bottom: 20px; left: 10px; z-index: 3; } .title:hover + .info, .title:focus + .info { opacity: 1; } \u003c/style\u003e \u003cspan class=\"wrapper\"\u003e \u003cspan class=\"title\"\u003e\u003cslot name=\"title\"\u003etitle\u003c/slot\u003e\u003c/span\u003e \u003cspan class=\"info\"\u003e\u003cslot name=\"info\"\u003einfo\u003c/slot\u003e\u003c/span\u003e \u003c/span\u003e \u003c/template\u003e \u003cscript\u003e class PopUpInfo extends HTMLElement { constructor() { super(); const template = document.querySelector('#tooltip-template'); let templateContent = template.content; const shadow = this.attachShadow({ mode: 'open' }); shadow.append(templateContent.cloneNode(true)); } } customElements.define('popup-info', PopUpInfo); \u003c/script\u003e å› ä¸º style è¾ƒé•¿ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨ link æ ‡ç­¾æ–¹å¼åœ¨å¤–éƒ¨å¼•å…¥ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:3:1","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"Web Component å®è·µ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:4:0","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"åŸºç¡€ç»„ä»¶åº“ å¸‚é¢ä¸Šå·²ç»æœ‰å¾ˆå¤šåŸºäº Web Components å®ç°çš„è·¨æ¡†æ¶ UI ç»„ä»¶åº“ã€‚ å®ƒå¯ä»¥åŒæ—¶åœ¨ä»»æ„æ¡†æ¶æˆ–æ— æ¡†æ¶ä¸­ä½¿ç”¨ã€‚ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:4:1","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"Svelte scelte æ˜¯ç›®å‰æ¯”è¾ƒç«çš„å‰ç«¯æ¡†æ¶ï¼Œä»–æœ‰ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯å¯ä»¥è‡ªå®šä¹‰ç»„ä»¶è½¬æˆé€šç”¨çš„ web ç»„ä»¶ï¼ˆweb componentï¼‰ã€‚åœ¨å¤šå›¢é˜ŸååŒå®Œæˆçš„å¤§é¡¹ç›®ä¸­ï¼Œå„ä¸ªå›¢é˜Ÿå¯èƒ½ä½¿ç”¨ä¸åŒçš„æ¡†æ¶ç‰ˆæœ¬ï¼Œç”šè‡³ä¸åŒçš„æ¡†æ¶ï¼Œè¿™è®©ä¸åŒé¡¹ç›®ä¹‹é—´çš„ç»„ä»¶å¤ç”¨å˜å¾—å›°éš¾ã€‚è¿™ç§æƒ…å†µä¸‹ Svelte å°±å˜æˆäº†æ²Ÿé€šè·¨è¶Šæ¡†æ¶é¸¿æ²Ÿçš„æ¡¥æ¢ï¼Œä½¿ç”¨ Svelte å¼€å‘çš„æ— æ¡†æ¶ä¾èµ–çš„ Web Componentsï¼Œå¯ä»¥åœ¨å„ä¸ªæ¡†æ¶é—´å¤ç”¨ã€‚ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:4:2","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"å¾®å‰ç«¯ å¾®å‰ç«¯æœ‰å‡ ä¸ªåŸºæœ¬æ¦‚å¿µï¼š æŠ€æœ¯æ ˆæ— å…³ã€åº”ç”¨é—´éš”ç¦»ã€ç‹¬ç«‹å¼€å‘ã€‚ç›®å‰ Web Components éƒ½ç¬¦åˆã€‚åœ¨ä¸€äº›å¾®å‰ç«¯æ–¹æ¡ˆé‡Œå°±é‡‡ç”¨äº† Web Component çš„æ¨¡å¼ã€‚ â€¦ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:4:3","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"Web Component çš„ç¼ºç‚¹ å†æ—¥å¸¸å¼€å‘ä¸­ï¼Œéš¾å…ä¼šé‡åˆ°éœ€è¦è°ƒæ•´ç»„ä»¶å†…éƒ¨æ ·å¼çš„æ—¶å€™ï¼Œä½†ç”±äº shadowDOM çš„éš”ç¦»æœºåˆ¶ï¼Œä¼šå¯¼è‡´æˆ‘ä»¬å¾ˆéš¾å»ä¿®æ”¹å†…éƒ¨çš„æ ·å¼ã€‚ åœ¨ä¸€äº›å¤æ‚çš„ç»„ä»¶ä¸­ï¼Œæ•°æ®é€šä¿¡å’Œäº‹ä»¶ä¼ é€’å­˜åœ¨ä¸€å®šä½¿ç”¨æˆæœ¬ã€‚ â€¦ ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:5:0","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["å‰ç«¯"],"content":"ç»“è¯­ Web Component è™½æ—©åœ¨ 11 å¹´å°±å·²æ¨å‡ºï¼Œä¸”ä¸€ç›´å‘å±•è‡³ä»Šã€‚ä»–çš„æ½œåŠ›æœ‰ç›®å…±ç¹ï¼Œä½†ç›®å‰è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚ æˆ–è®¸åœ¨ä»¥åï¼Œæˆ‘ä»¬å°†ä¸å†ä¾èµ–ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œç›´æ¥ä½¿ç”¨åŸç”ŸæŠ€æœ¯æ¥å¼€å‘é¡µé¢ä¹Ÿè¯´ä¸å®šã€‚ end. ","date":"2023-03-07","objectID":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/:6:0","tags":["å‰ç«¯","å­¦ä¹ ç¬”è®°"],"title":"æœŸå¾…Web Componentçš„æœªæ¥","uri":"/myblog/%E6%9C%9F%E5%BE%85web-component%E7%9A%84%E6%9C%AA%E6%9D%A5/"},{"categories":["Docker"],"content":"è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†åŸºæœ¬çš„ Markdown è¯­æ³•å’Œæ ¼å¼.","date":"2023-02-23","objectID":"/myblog/docker%E5%88%9D%E8%AF%86/","tags":["docker"],"title":"Dockeråˆè¯†","uri":"/myblog/docker%E5%88%9D%E8%AF%86/"},{"categories":["Docker"],"content":"å‰è¨€ åœ¨æˆ‘è¿™å¯ä»¥ï¼Œåœ¨ä½ é‚£æ€ä¹ˆå°±è·‘ä¸èµ·æ¥äº†ï¼Ÿ åœ¨ä»¥å‰ï¼Œé¡¹ç›®å¼€å‘å®Œæˆåï¼Œæµ‹è¯•/è¿ç»´éœ€è¦ä»å¤´åˆ°å°¾æ­å»ºç¯å¢ƒã€è°ƒè¯•ã€‚è¿™æ ·çš„è¯ç»å¸¸å‡ºç°åœ¨å¼€å‘çš„å£ä¸­ï¼Œä¸è¿‡ï¼Œéšç€æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œåœ¨å®¹å™¨æŠ€æœ¯è¯ç”Ÿåï¼Œè¿™ä¸ªé—®é¢˜å°±å¯ä»¥è½»æ¾çš„è§£å†³äº†ã€‚å®¹å™¨æŠ€æœ¯å°±åƒä¸€ä¸ªæ‰“åŒ…å·¥å…·ï¼Œä½¿æˆ‘ä»¬å¯ä»¥ä»¥ä¸ç®¡ç†åº”ç”¨ç¨‹åºç›¸åŒçš„æ–¹å¼ç®¡ç†åŸºç¡€æ¶æ„ã€‚éƒ¨ç½²æ“ä½œéƒ½å‘½ä»¤åŒ–ï¼Œé›†ä¸­æˆä¸€ä¸ªè„šæœ¬å°±å¯ä»¥å®ŒæˆåŸæ¥å¤æ‚çš„éƒ¨ç½²è¿‡ç¨‹ã€‚æ‰“åŒ…çš„ä¸ä»…æ˜¯ä½ çš„ç¨‹åºï¼Œä¹ŸåŒ…æ‹¬è¿è¡Œçš„ç¯å¢ƒï¼Œå› æ­¤æ¶ˆé™¤äº†æˆ‘ä»¬é‡å¤çš„ã€å•è°ƒçš„é…ç½®/è°ƒè¯•ä»»åŠ¡ã€‚é¡¹ç›®åœ¨æ‰“åŒ…åå¯ä»¥åœ¨æ‰€æœ‰çš„ç¯å¢ƒä¸‹ï¼Œä»¥ç›¸åŒçš„æ–¹å¼è¿è¡Œã€‚è®©å¼€å‘æµ‹è¯•ç­‰æˆå‘˜ä¸å†å…³æ³¨æ„å»ºã€è°ƒè¯•ç­‰äº‹æƒ…ã€‚å¯ä»¥å°†æ›´å¤šçš„æ—¶é—´æ”¾åœ¨ä¸šåŠ¡æœ¬èº«ã€‚ docker ç®€ä»‹ ä¸åŒäºè™šæ‹Ÿæœºï¼Œå®¹å™¨æŠ€æœ¯åªéš”ç¦»åº”ç”¨ç¨‹åºçš„è¿è¡Œç¯å¢ƒä½†å®¹å™¨ä¹‹é—´å¯ä»¥å…±ç”¨åŒä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œè¿™ä½¿å®ƒåœ¨ç»§æ‰¿äº†è™šæ‹Ÿæœºä¼˜ç‚¹çš„åŒæ—¶è¿˜æ‘’å¼ƒäº†å…¶ç¼ºç‚¹ã€‚è€Œ dockerï¼Œåˆ™æ˜¯å®¹å™¨æŠ€æœ¯çš„å…¶ä¸­ä¸€ç§å®ç°ã€‚ docker æ˜¯ä¸€ä¸ªç”¨ Go è¯­è¨€å®ç°çš„å¼€æºé¡¹ç›®ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ–¹ä¾¿çš„åˆ›å»ºå’Œä½¿ç”¨å®¹å™¨ã€‚ docker ä½¿ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„ã€‚å®¢æˆ·ç«¯é€šè¿‡ä¸€äº›å‘½ä»¤è¡Œä¸å®ˆæŠ¤è¿›ç¨‹äº¤äº’ï¼Œå®ˆæŠ¤è¿›ç¨‹ç®¡ç† Docker å¯¹è±¡ï¼Œå¦‚é•œåƒã€å®¹å™¨ã€ç½‘ç»œå’Œ volumeã€‚ docker ä¸‰è¦ç´  imageï¼šé•œåƒï¼Œä¸€ä¸ªåªè¯»æ¨¡ç‰ˆï¼Œå…¶ä¸­åŒ…å«åˆ›å»º Dokcer å®¹å™¨çš„è¯´æ˜ã€‚ containerï¼šå®¹å™¨ï¼Œé•œåƒçš„å¯è¿è¡Œå®ä¾‹ã€‚å¯ä»¥ä½¿ç”¨ docker cli åˆ›å»º/å¯åŠ¨/åœæ­¢/åˆ é™¤/ç§»åŠ¨å®¹å™¨ã€‚åŒä¸€ä¸ªé•œåƒï¼Œå¯ä»¥ç”Ÿæˆå¤šä¸ªåŒæ—¶è¿è¡Œçš„å®¹å™¨ã€‚å®¹å™¨ä¹‹é—´é»˜è®¤ç›¸äº’éš”ç¦»ã€‚ repositoryï¼šé•œåƒä»“åº“ï¼Œå­˜æ”¾äº†å„ç§å„æ ·çš„ imageï¼Œç›¸å½“äºä»£ç ä»“åº“ä¸­çš„ githubã€‚ docker çš„åŸºæœ¬ä½¿ç”¨ ","date":"2023-02-23","objectID":"/myblog/docker%E5%88%9D%E8%AF%86/:0:0","tags":["docker"],"title":"Dockeråˆè¯†","uri":"/myblog/docker%E5%88%9D%E8%AF%86/"},{"categories":["Docker"],"content":"æ ¹æ®é•œåƒå¯åŠ¨ä¸€ä¸ªå®¹å™¨ # å‰ç½® # ä½¿ç”¨aptï¼ˆæˆ–å…¶ä»–ï¼‰ä¸‹è½½docker apt install docker # ä¾‹ # ä½¿ç”¨ runå‘½ä»¤ å¯åŠ¨ä¸€ä¸ªå®¹å™¨ docker run \u003cimage name\u003e docker run ubuntu å½“ç³»ç»Ÿå†…æ²¡æœ‰ ubuntu é•œåƒæ—¶ä¼šè‡ªåŠ¨å» docker hub ä¸Šæ‹‰å–åå†å¯åŠ¨å®¹å™¨ã€‚é»˜è®¤attachedæ¨¡å¼ï¼Œä¼šå ç”¨å½“å‰çª—å£å¹¶å±•ç¤ºå®æ—¶æ—¥å¿—ã€‚å¯ä»¥é€šè¿‡Ctrl + cåœæ­¢ docker æœåŠ¡ã€‚æ›´é€‚ç”¨äºå®¹å™¨å’Œç¨‹åºçš„è°ƒè¯•é˜¶æ®µã€‚ å¦‚æœæƒ³åœ¨åå°è¿è¡Œå¯ä»¥ï¼ˆä½¿ç”¨detachedæ¨¡å¼ï¼‰docker run -d \u003c image name \u003e docker run -d ubuntu # æŸ¥çœ‹åœ¨åå°è¿è¡Œçš„å®¹å™¨çš„æ—¥å¿— # docker logs \u003cname or id\u003e ","date":"2023-02-23","objectID":"/myblog/docker%E5%88%9D%E8%AF%86/:0:1","tags":["docker"],"title":"Dockeråˆè¯†","uri":"/myblog/docker%E5%88%9D%E8%AF%86/"},{"categories":["Docker"],"content":"æŸ¥çœ‹å·²å¯åŠ¨çš„å®¹å™¨ docker ps # ä¼šæ‰“å°å½“å‰è¿è¡Œçš„dockerå®¹å™¨ä¿¡æ¯ # id å®¹å™¨id # image é•œåƒåç§° # status çŠ¶æ€ up/exited ... # ports åè®®å’Œç«¯å£ # names å®¹å™¨åç§° ... docker ps åªèƒ½æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨ï¼Œå¦‚æœè¦æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„ï¼‰å¯ä»¥åŠ ä¸ª -aå‚æ•°:docker ps -a åªæŸ¥çœ‹å®¹å™¨ id å¯ä»¥åŠ ä¸ª-qå‚æ•°ï¼šdocker ps -q(å¯ä»¥æ­é… docker rm ä½¿ç”¨ è¿›è¡Œæ‰¹é‡åˆ é™¤å®ä¾‹ï¼š docker rm $(docker container ps -aq)) ","date":"2023-02-23","objectID":"/myblog/docker%E5%88%9D%E8%AF%86/:0:2","tags":["docker"],"title":"Dockeråˆè¯†","uri":"/myblog/docker%E5%88%9D%E8%AF%86/"},{"categories":["Docker"],"content":"åœæ­¢/å¯åŠ¨/é‡å¯/åˆ é™¤ä¸€ä¸ªå·²å¯åŠ¨çš„å®¹å™¨ docker stop \u003cname or id\u003e docker start \u003cname or id\u003e docker restart \u003cname or id\u003e docker rm \u003cname or id\u003e # åˆ é™¤å®¹å™¨å‰éœ€è¦å…ˆåœæ­¢å®¹å™¨ã€‚æˆ–åŠ ä¸Šå¼ºåˆ¶åˆ é™¤å‚æ•° -f ","date":"2023-02-23","objectID":"/myblog/docker%E5%88%9D%E8%AF%86/:0:3","tags":["docker"],"title":"Dockeråˆè¯†","uri":"/myblog/docker%E5%88%9D%E8%AF%86/"},{"categories":["Docker"],"content":"å¼€å¯å®¹å™¨çš„äº¤äº’ æœ‰æ—¶å€™å®¹å™¨ä¸æ˜¯ä¸€ä¸ªç®€å•çš„æœåŠ¡ï¼Œè€Œæ˜¯éœ€è¦äº¤äº’çš„æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥åœ¨ä½¿ç”¨detachedæ¨¡å¼å¯åŠ¨å®¹å™¨åä½¿ç”¨ exec è¿›å…¥å®¹å™¨è¿›è¡Œäº¤äº’ docker exec -it \u003cname or id\u003e sh # exec æ‰§è¡Œ # -it äº¤äº’æ¨¡å¼ # sh ä½¿ç”¨shellè„šæœ¬è¿›è¡Œäº¤äº’ ","date":"2023-02-23","objectID":"/myblog/docker%E5%88%9D%E8%AF%86/:0:4","tags":["docker"],"title":"Dockeråˆè¯†","uri":"/myblog/docker%E5%88%9D%E8%AF%86/"},{"categories":["Docker"],"content":"å…¶ä»– #image docker pull \u003cimage name\u003e # åœ¨docker hubä¸­æ‹‰å–é•œåƒ docker image ls #æŸ¥çœ‹å·²æœ‰çš„é•œåƒä¿¡æ¯ docker image inspect \u003cimage id\u003e #æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚é•œåƒidï¼Œæš´éœ²å‡ºçš„ç«¯å£ï¼Œvolumnä½ç½®ç­‰ã€‚ # å¯¼å‡ºä¸€ä¸ªå·²æœ‰çš„é•œåƒï¼Œæ‰§è¡Œåï¼Œå½“å‰æ–‡ä»¶å¤¹ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªé•œåƒæ–‡ä»¶ # saveï¼šå¯¼å‡ºï¼› # \u003cname:tag\u003e:é•œåƒåç§°ï¼šç‰ˆæœ¬ï¼› # -o: è¾“å‡º # fileNameï¼šå¯¼å‡ºåçš„æ–‡ä»¶åç§° docker image save \u003cname:tag\u003e -o \u003cfileName\u003e # å¯¼å…¥ä¸€ä¸ªå·²æœ‰çš„é•œåƒ # \u003c./filename\u003e è¦å¯¼å…¥çš„é•œåƒæ–‡ä»¶è·¯å¾„ docker image load -i \u003c./filename\u003e ä½¿ç”¨ Dockerfile æ„å»ºè‡ªå·±çš„é•œåƒ ä¹‹å‰ä½¿ç”¨çš„æ˜¯å·²åˆ›å»ºå¥½çš„é•œåƒï¼Œ æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ª Dockerfile æ–‡ä»¶æ¥æ„å»ºè‡ªå·±çš„é•œåƒã€‚ä¸€èˆ¬æˆ‘ä»¬ä¼šåœ¨åº”ç”¨ç¨‹åºæ ¹ç›®å½•ä¸ package.json åŒçº§ç›®å½•ä¸‹åˆ›å»º Dockerfile æ–‡ä»¶ã€‚ Dockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†ç”¨æˆ·å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸Šè°ƒç”¨çš„ docker æ„å»ºæ™¯è±¡ç›¸å…³çš„æ‰€æœ‰å‘½ä»¤ï¼Œå®ƒéµå¾ªç‰¹å®šçš„æ ¼å¼å’ŒæŒ‡ä»¤é›†ï¼ŒæŒ‡ä»¤åç§°å’Œå‚æ•°ä»¥ç©ºæ ¼åˆ†éš”ï¼ŒæŒ‡ä»¤åç§°ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½† Docker çº¦å®šå®ƒä»¬æ˜¯å¤§å†™çš„ï¼Œä»¥ä¾¿æ›´å®¹æ˜“çš„åŒºåˆ†æŒ‡ä»¤å’Œå‚æ•°ã€‚å…¶ä»–å…·ä½“æŒ‡ä»¤å¯ä»¥å‚è€ƒ Dockerfile è¯­æ³•,æ¯ä¸ªè¯­æ³•æŒ‡ä»¤éƒ½ä¼šåœ¨å›¾åƒä¸­åˆ›å»ºä¸€ä¸ªå›¾å±‚ï¼Œå½“æ‚¨æ›´æ”¹ Dockerfile å¹¶é‡å»ºæ˜ åƒæ—¶ï¼Œåªæœ‰é‚£äº›å·²æ›´æ”¹çš„å›¾å±‚æ‰ä¼šè¢«é‡å»ºã€‚è¿™ä¹Ÿæ˜¯é•œåƒç›¸å¯¹å°å·§ã€å¿«é€Ÿçš„éƒ¨åˆ†åŸå› ã€‚ è¯´å‡ ä¸ªå¸¸ç”¨çš„è¯­æ³•æŒ‡ä»¤ï¼š ARG: ç”¨æ¥å®šä¹‰å‚æ•°çš„å‘½ä»¤,å¯ä»¥åœ¨æ‰“åŒ…é•œåƒæ—¶ä½¿ç”¨docker build --build-arg \u003cvarname\u003e=\u003cvalue\u003e å‘½ä»¤å°†å˜é‡å€¼ä¼ é€’åˆ° Dockerfile å†…éƒ¨ï¼Œå¦‚æœ ARG æŒ‡ä»¤æœ‰é»˜è®¤å€¼å¹¶ä¸”åœ¨æ„å»ºæ—¶æ²¡æœ‰ä¼ é€’ä»»ä½•å€¼ï¼Œåˆ™æ„å»ºå™¨ä½¿ç”¨é»˜è®¤å€¼ã€‚ # ARG \u003cname\u003e[=\u003cdefault value\u003e] ARG data ARG name=zhangsan ARG age=18 FORM: åœ¨ Dockerfile é‡Œï¼Œé™¤å» ARG æŒ‡ä»¤å¤–ï¼Œä¸€ä¸ªæœ‰æ•ˆçš„ Dockerfile å¿…é¡»ç”± FROM æŒ‡ä»¤å¼€å¤´ï¼Œç”¨æ¥æŒ‡å®šä½ è¦æ„å»ºé•œåƒçš„åŸºç¡€é•œåƒã€‚FROM æŒ‡ä»¤å‰é¢åªèƒ½æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª ARG æŒ‡ä»¤ï¼Œç”¨æ¥å£°æ˜ FROM è¡Œä½¿ç”¨çš„å‚æ•°ã€‚ WORKDIRï¼šç”¨æ¥å®šä¹‰é•œåƒè¿è¡Œåçš„å·¥ä½œç›®å½• COPY: ç”¨æ¥å°†ä¸»æœºçš„æ–‡ä»¶å¤åˆ¶åˆ°é•œåƒä¸­ï¼Œ. . è¡¨ç¤ºå°†å½“å‰ç›®å½•å¤åˆ¶åˆ°å®¹å™¨ä¸­ã€‚ CMDï¼šæ‰“åŒ…å¥½çš„é•œåƒåœ¨å¯åŠ¨åé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ã€‚ ESPOSEï¼šç”¨æ¥æš´éœ²é•œåƒçš„ç«¯å£å·ï¼Œå‘ŠçŸ¥ä½¿ç”¨å®¹å™¨çš„äººï¼Œå½“å‰é•œåƒéœ€è¦ç›‘å¬çš„çš„ç«¯å£å’Œåè®®ã€‚æš´éœ²å‡ºæ¥åï¼Œå¯ä»¥åœ¨é•œåƒæ‰“åŒ…åï¼Œé€šè¿‡ docker inspect \u003cimage id\u003e æ¥æŸ¥çœ‹æš´éœ²å‡ºçš„ç«¯å£ã€‚ # cd /app # vi Dockerfile FROM node:18-alpine WORKDIR /app COPY . . CMD [\"node\", \"src/index.js\"] EXPOSE 3000 ","date":"2023-02-23","objectID":"/myblog/docker%E5%88%9D%E8%AF%86/:0:5","tags":["docker"],"title":"Dockeråˆè¯†","uri":"/myblog/docker%E5%88%9D%E8%AF%86/"},{"categories":["Docker"],"content":"ä½¿ç”¨docker buildæ ¹æ®Dockerfileæ„å»ºé•œåƒ # æ ¹æ®Dockerfileæ„å»ºé•œåƒ # build æ„å»ºå‘½ä»¤ # -t \u003cimage name\u003eé€šè¿‡-tç»™è¦æ‰“åŒ…çš„é•œåƒå–ä¸€ä¸ªåå­— # path Dockerfileæ–‡ä»¶æ‰€åœ¨è·¯å¾„ # docker build -t \u003cimage name\u003e \u003cpath:ç›¸å¯¹è·¯å¾„ï¼Œæ ¹æ®è¿™ä¸ªè·¯å¾„å¯»æ‰¾Dockerfileæ–‡ä»¶\u003e .è¡¨ç¤ºå®ƒåº”è¯¥åœ¨å½“å‰ç›®å½•ä¸­æŸ¥æ‰¾Dockerfileã€‚ # ä¾‹ docker build -t tzzimage . # è·¯å¾„æ˜¯å¿…å¡«é¡¹ . æŒ‡çš„æ˜¯å½“å‰è·¯å¾„ æ‰“åŒ…å®Œæˆåï¼Œdocker image lsæŸ¥çœ‹å·²æœ‰é•œåƒå‘ç° tzzimage é•œåƒå·²ç»å­˜åœ¨äº†ã€‚ ","date":"2023-02-23","objectID":"/myblog/docker%E5%88%9D%E8%AF%86/:0:6","tags":["docker"],"title":"Dockeråˆè¯†","uri":"/myblog/docker%E5%88%9D%E8%AF%86/"},{"categories":["Docker"],"content":"è¿è¡Œæ„å»ºå¥½çš„é•œåƒ # -d ä»åå°å¯åŠ¨å®¹å™¨ # -p port:port: æŒ‡å®šç«¯å£æ˜ å°„ï¼Œç¬¬ä¸€ä¸ªportè¡¨ç¤ºä¸»æœºè¦å‘å¸ƒçš„ç«¯å£ï¼Œç¬¬äºŒä¸ªæ˜¯å®¹å™¨æš´éœ²çš„ç«¯å£ã€‚æ²¡æœ‰ç«¯å£æ˜ å°„å°†æ— æ³•è®¿é—®åœ¨å®¹å™¨ä¸­å¯åŠ¨çš„åº”ç”¨ç¨‹åºã€‚ docker run -dp 3000:3000 tzzimage æ‰§è¡Œåï¼Œå°±å¯ä»¥è®¿é—® http://localhost:3000 äº†ã€‚ è¿˜å¯ä»¥é€šè¿‡docker psæŸ¥çœ‹å®¹å™¨çŠ¶æ€ ","date":"2023-02-23","objectID":"/myblog/docker%E5%88%9D%E8%AF%86/:0:7","tags":["docker"],"title":"Dockeråˆè¯†","uri":"/myblog/docker%E5%88%9D%E8%AF%86/"},{"categories":["Docker"],"content":"çŠ¶æ€ç®¡ç† å¯åŠ¨åçš„å®¹å™¨æ˜¯æ— çŠ¶æ€çš„ï¼Œè™½ç„¶å¯ä»¥å®¹å™¨ä¸­åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤æ–‡ä»¶ï¼Œä½†éšç€å®¹å™¨çš„å…³é—­ï¼Œç›¸å…³çš„æ•°æ®å¹¶ä¸ä¼šå¾—åˆ°ä¿ç•™ï¼Œä½†æ˜¯åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€äº›éœ€è¦ä¿ç•™æ•°æ®çš„å®¹å™¨ï¼Œæˆ–è€…åœ¨å¤šä¸ªå®¹å™¨ä¹‹é—´è¿›è¡Œæ•°æ®å…±äº«ã€‚è¿™å°±æ¶‰åŠåˆ°äº†å®¹å™¨çš„æ•°æ®ç®¡ç†ã€‚éœ€è¦å¯¹å®¹å™¨ä¸­çš„æ•°æ®è¿›è¡ŒæŒä¹…åŒ–ã€‚ Volume volume æä¾›äº†å°†å®¹å™¨ç‰¹å®šæ–‡ä»¶åˆ°ä¸»æœºçš„èƒ½åŠ›ï¼Œå¦‚æœåœ¨å®¹å™¨å¯åŠ¨æ—¶æŒ‚è½½å®¹å™¨ä¸­çš„ç›®å½•ï¼Œåˆ™è¯¥ç›®å½•çš„æ›´æ”¹ä¹Ÿä¼šåœ¨ä¸»æœºä¸Šçœ‹åˆ°ã€‚æˆ‘ä»¬è·¨å®¹å™¨é‡æ–°å¯åŠ¨å¹¶æŒ‚è½½åŒä¸€ç›®å½•ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ç›¸åŒçš„æ–‡ä»¶ã€‚ ä½¿ç”¨docker volume createå‘½ä»¤åˆ›å»ºå·ã€‚ docker volume create volume1 æ‰§è¡Œ docker run å‘½ä»¤æ—¶æ·»åŠ â€“mount é€‰é¡¹æŒ‡å®š volumn æŒ‚è½½ï¼Œ docker run -dp 3000:3000 --mount type=volume,src=volume1,target=/app tzzimage # or docker run -dp 3000:3000 -v volume1:/app tzzimage è¡¨ç¤ºæˆ‘ä»¬ä½¿ç”¨äº† volume1 volumeï¼Œå¹¶å°†å…¶æŒ‚è½½åˆ°äº†å®¹å™¨å†…çš„/app ç›®å½•ä¸‹ï¼Œå¦‚æœè¯¥ volume æœªè¢«åˆ›å»ºæ—¶ï¼Œdocker ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»º åœ¨å®¹å™¨å¯åŠ¨åï¼Œæˆ‘ä»¬åœ¨/app ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ aaa.txt. æŠŠå®¹å™¨åˆ é™¤åé‡æ–°æŒ‡å®š volume åˆ›å»ºï¼Œä¼šå‘ç° aaa.txt ä¾æ—§å­˜åœ¨ã€‚ é€šè¿‡ docker volume inspect å‘½ä»¤æ¥æŸ¥çœ‹ volume è¯¦æƒ…, Mountpoint å±æ€§ï¼Œæ˜¯ä¸»æœºç£ç›˜å­˜å‚¨æ•°æ®çš„å®é™…ä½ç½®ã€‚docker ä¼šæŠŠæ•°æ®å­˜å‚¨åœ¨è¿™ä¸ªåœ°æ–¹ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ª volume å¯åŠ¨å®¹å™¨çš„æ—¶å€™ä¼šæŠŠè¿™ä¸ªç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­ docker volume inspect todo-db [ { \"CreatedAt\": \"2023-02-22T09:23:11Z\", \"Driver\": \"local\", \"Labels\": {}, \"Mountpoint\": \"/var/lib/docker/volumes/volume1/_data\", \"Name\": \"volume1\", \"Options\": {}, \"Scope\": \"local\" } ] é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æŒä¹…æ€§çš„å­˜å‚¨åº”ç”¨ç¨‹åºçš„æ•°æ®ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§ç±»å‹çš„çŠ¶æ€ç®¡ç†ã€‚ bind bind æ˜¯å¦ä¸€ç§æŒ‚è½½æ–¹å¼ï¼Œä»–å…è®¸ä½ å°†ä¸»æœºæ–‡ä»¶ç³»ç»Ÿçš„ç›®å½•å…±äº«åˆ°å®¹å™¨ä¸­ã€‚åœ¨å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ bind æ–¹å¼ï¼Œå°†ç¨‹åºæºä»£ç æŒ‚è½½åˆ°å®¹å™¨ä¸­ã€‚ä¸€æ—¦åœ¨å®¹å™¨å¤–éƒ¨ä¿å­˜æ–‡ä»¶ï¼Œå®¹å™¨å†…å°±ä¼šç«‹å³çœ‹åˆ°æ‚¨å¯¹ä»£ç æ‰€åšçš„æ›´æ”¹ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨å®¹å™¨ä¸­è¿è¡Œè¿›ç¨‹ï¼Œç›‘è§†æ–‡ä»¶ç³»ç»Ÿæ›´æ”¹å¹¶å“åº”å®ƒä»¬ã€‚æˆ‘ä»¬å¯ä»¥æ­é…ç€ nodemonï¼Œå¯¹å·²å¯åŠ¨çš„ç¨‹åºè¿›è¡Œçƒ­æ›´æ–°ã€‚å¸¸å¸¸åœ¨æœ¬åœ°å¼€å‘è°ƒè¯•çš„æ—¶å€™ä½¿ç”¨ã€‚ docker run -dp 3000:3000 --mount type=bind,src=/app,target=/app tzzimage ","date":"2023-02-23","objectID":"/myblog/docker%E5%88%9D%E8%AF%86/:0:8","tags":["docker"],"title":"Dockeråˆè¯†","uri":"/myblog/docker%E5%88%9D%E8%AF%86/"},{"categories":["å‰ç«¯"],"content":"è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†åŸºæœ¬çš„ Markdown è¯­æ³•å’Œæ ¼å¼.","date":"2022-11-26","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸‹ï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/"},{"categories":["å‰ç«¯"],"content":"å¼€å¯æ˜é‡‘æˆé•¿ä¹‹æ—…ï¼è¿™æ˜¯æˆ‘å‚ä¸ã€Œæ˜é‡‘æ—¥æ–°è®¡åˆ’ Â· 12 æœˆæ›´æ–‡æŒ‘æˆ˜ã€çš„ç¬¬ 2 å¤©ï¼Œç‚¹å‡»æŸ¥çœ‹æ´»åŠ¨è¯¦æƒ… ","date":"2022-11-26","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/:0:0","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸‹ï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/"},{"categories":["å‰ç«¯"],"content":"å‰è¨€ ä¹‹å‰å¤§è‡´è¯´äº†ä¸‹ useRequest hook çš„åŸºæœ¬åŠŸèƒ½çš„å®ç°ã€‚ä½† useRequest çš„å¼ºå¤§ä¸æ­¢äºæ­¤ã€‚å®ƒè¿˜æ”¯æŒå¦‚ loading çŠ¶æ€å»¶æ—¶ã€è¯·æ±‚é˜²æŠ–ã€èŠ‚æµã€ä¾èµ–åˆ·æ–°ç­‰åŠŸèƒ½ã€‚ä¸è¿‡å…¶å®ç°æ–¹å¼éƒ½æ˜¯é€šè¿‡å†…ç½®çš„æ’ä»¶ hook æ¥è¿›è¡Œå®ç°çš„ã€‚è¿™æ ·åšæ—¢å¯ä»¥ä¿è¯æ ¸å¿ƒä»£ç çš„ç®€æ´ï¼Œè¿˜èƒ½æ›´æ–¹ä¾¿çš„æ‰©å±•å‡ºæ›´é«˜çº§çš„åŠŸèƒ½ã€‚å¹¶ä¸”è¿˜æ”¯æŒç”¨æˆ·è¿›è¡Œè‡ªå®šä¹‰æ’ä»¶ã€‚ ","date":"2022-11-26","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/:1:0","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸‹ï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/"},{"categories":["å‰ç«¯"],"content":"æ­£æ–‡ ","date":"2022-11-26","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/:2:0","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸‹ï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/"},{"categories":["å‰ç«¯"],"content":"å¦‚ä½•å®šä¹‰ä¸€ä¸ªæ’ä»¶ å¯ä»¥é€šè¿‡æ’ä»¶ hook çš„ ts å®šä¹‰ï¼Œçœ‹ä¸€ä¸‹æ€ä¹ˆå®šä¹‰ä¸€ä¸ªæ’ä»¶ï¼š æ’ä»¶ hook æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œ fetchInstance: fetch å®ä¾‹ï¼› fetchOptions: useRequest æ¥æ”¶çš„ optionsï¼› æ”¯æŒè¿”å›ä¸€äº›å›è°ƒå‡½æ•°ï¼š onBeforeï¼š åœ¨è¯·æ±‚æ¥å£å‰è°ƒç”¨ï¼› onRequestï¼š åœ¨è¯·æ±‚æ¥å£æ—¶è°ƒç”¨ï¼› onSuccessï¼š åœ¨è¯·æ±‚æ¥å£æˆåŠŸåè°ƒç”¨ï¼› onErrorï¼š åœ¨è¯·æ±‚æ¥å£å¤±è´¥åè°ƒç”¨ï¼› onFinallyï¼š åœ¨è¯·æ±‚æ¥å£å®Œæˆåè°ƒç”¨ï¼› onCancelï¼š åœ¨è¯·æ±‚æ¥å£å–æ¶ˆåè°ƒç”¨ï¼› onMutateï¼š åœ¨å‡ºå‘ mutate å‡½æ•°æ—¶è°ƒç”¨ï¼› æ’ä»¶ hook å¯ä»¥è¿”å›ä¸€ç³»åˆ—çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œä½¿æˆ‘ä»¬å¯ä»¥åœ¨æ¥å£è¯·æ±‚çš„ä»»æ„ä¸€ä¸ªæ—¶æœºå¯¹ fetchInstance è¿›è¡Œå¤„ç†ã€‚ æ’ä»¶ hook è¿˜æ”¯æŒæŒ‚è½½ä¸€ä¸ªé™æ€æ–¹æ³• onInit()ï¼Œåœ¨ Fetch åˆ›å»ºä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡ Init æ–¹æ³•è¿›è¡Œä¸€äº›å‰æå¤„ç†ã€‚å¾—åˆ°åˆå§‹çš„ stateã€‚ const use***plugin = ( fetchInstance, fetchOptions, ) =\u003e { const onBefore = () =\u003e { // å¯¹fetchInstanceçš„çŠ¶æ€çš„å¤„ç†... } ... return { onBefore, ... } } use***plugin.onInit = (fetchOptions) =\u003e { ... } export default use***plugin ","date":"2022-11-26","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/:2:1","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸‹ï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/"},{"categories":["å‰ç«¯"],"content":"æ’ä»¶çš„ä½¿ç”¨ æ’ä»¶ hook ä¸€èˆ¬ç”¨æ¥å¤„ç† Fetch å®ä¾‹çš„çŠ¶æ€ï¼Œåœ¨ Fetch å®ä¾‹è¢«åˆ›å»ºä¹‹å‰ï¼Œä¼šå…ˆæ‰§è¡Œæ‰€æœ‰æ’ä»¶å¯èƒ½å­˜åœ¨çš„ onInit æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å› initDataï¼Œç”¨æ¥åˆå§‹åŒ– Fetch å®ä¾‹ã€‚ åœ¨ Fetch å®ä¾‹è¢«åˆå§‹åŒ–åï¼Œæ‰§è¡Œæ‰€æœ‰çš„æ’ä»¶ hooksï¼Œæ­¤æ—¶ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªåŒ…å«ï¼ˆonBrforeã€onSuccessâ€¦ï¼‰çš„æ•°ç»„ã€‚å¹¶å°†è¿™äº›æ–¹æ³•æŒ‚è½½åˆ° fetchInstance ä¸Šã€‚æ–¹ä¾¿åœ¨å„ä¸ªæ—¶æœºä½¿ç”¨ã€‚ const useRequestImplement = ( service: Promise\u003cany\u003e, options, plugins: Array\u003cPlugin\u003e ) =\u003e { // const { manual = false, ...rest } = options; // const fetchOptions = { // manual, // ...rest, // }; // const serviceRef = useLatest(service); // const update = useUpdate(); const fetchInstance = useCreation(() =\u003e { // åœ¨Filteræ–¹æ³•ä¸­çš„Booleanå¯ä»¥å½“æˆä¸€ä¸ªè½¬æ¢å‡½æ•°ï¼Œç”¨æ¥ç­›é€‰æ‰ç©ºçš„initDataã€‚ const initState = plugins .map((p) =\u003e p?.onInit?.(fetchOptions)) .filter(Boolean); // å°†åˆå§‹åŒ–çš„initStateä¼ ç»™æ„é€ å‡½æ•°Fetchã€‚ return new Fetch( serviceRef, fetchOptions, update, Object.assign({}, ...initState) ); }, []); // fetchInstance.options = fetchOptions; // æ‰§è¡Œæ‰€æœ‰æ’ä»¶hookï¼Œå¹¶å°†å…¶æŒ‚è½½åˆ°fetchInstanceä¸Šã€‚ fetchInstance.pluginImpls = plugins.map((p) =\u003e p(fetchInstance, fetchOptions) ); // useMount(() =\u003e { // // useCachePlugin can set fetchInstance.state.params from cache when init // const params = fetchInstance.state.params ?? []; // // @ts-ignore // fetchInstance.runAsync(...params); // }); // useUnmount(() =\u003e { // fetchInstance.cancel(); // }); // return { // loading: fetchInstance.state.loading, // data: fetchInstance.state.data, // error: fetchInstance.state.error, // params: fetchInstance.state.params || [], // cancel: useMemoizedFn(fetchInstance.cancel.bind(fetchInstance)), // }; }; export default class Fetch\u003cTData, TParams extends any[]\u003e { // public count: number = 0; // // public state = { // loading: false, // params: undefined, // data: undefined, // error: undefined, // }; public pluginImpls: Array\u003cPluginReturn\u003e constructor( public serviceRef, public options, public subscribe, public initState ) { this.state = { ...this.state, loading: !options.manual, ...initState, //åœ¨constructoræ—¶ä¼šè®²æ’ä»¶åˆå§‹åŒ–ç”Ÿæˆçš„çŠ¶æ€æ›´æ–°åˆ°stateä¸­ã€‚ }; } // setState(s) { // this.state = { // ...this.state, // ...s, // }; // this.subscribe(); // } // æ’ä»¶å¤„ç†å‡½æ•°ï¼Œä¼šæ‰¹é‡æ‰§è¡ŒæŸä¸ªç”Ÿå‘½å‘¨æœŸçš„å‡½æ•°ã€‚å¹¶è¿”å›å¤„ç†åçš„çŠ¶æ€ã€‚ runPluginHandler(event: keyof PluginReturn, ...rest: any[]) { // @ts-ignore const r = this.pluginImpls.map((i) =\u003e i[event]?.(...rest)).filter(Boolean); return Object.assign({}, ...r); } // async runAsync(...params: TParams): Promise\u003cany\u003e { // this.count += 1; // const currentCount = this.count; // æ‰§è¡Œæ‰€æœ‰æ’ä»¶hooksè¿”å›çš„â€˜onBeforeâ€™æ–¹æ³•ï¼Œå¹¶æ ¹æ®è¿”å›çš„stateè¿›è¡Œç›¸åº”çš„å¤„ç† const { stopNow = false, returnNow = false, ...state } = this.runPluginHandler('onBefore', params); if (stopNow) { return new Promise(() =\u003e {}); } // // this.setState({ // loading: true, // params, ...state, // }); // // this.options.onBefore?.(params); // try { // const servicePromise = this.serviceRef.current(...params); // const res = await servicePromise; // if (currentCount !== this.count) { // return new Promise(() =\u003e {}); // } // this.setState({ // data: res, // error: undefined, // loading: false, // }); // // this.options.onSuccess?.(res, params); // this.options.onFinally?.(params, res, undefined); this.runPluginHandler('onSuccess', res, params); if (currentCount === this.count) { this.runPluginHandler('onFinally', params, res, undefined); } // // return res; // } catch (error) { // if (currentCount !== this.count) { // // prevent run.then when request is canceled // return new Promise(() =\u003e {}); // } // this.setState({ // error, // loading: false, // }); // // this.options.onError?.(error, params); // this.options.onFinally?.(params, undefined, error); this.runPluginHandler('onError', error, params); if (currentCount === this.count) { this.runPluginHandler('onFinally', params, undefined, error); } // throw error; // } // } // cancel() { // this.count += 1; // this.setState({ // loading: false, // }); this.runPluginHandler('onCancel'); // } // // refreshAsync() { // // @ts-ignore // return this.runAsync(...(this.state.params || [])); // } // run(...params: TParams) { // this.runAsync(...params).catch((error) =\u003e { // if (!this.options.onError) { // console.error(error); // } // }); // } // refresh() { //","date":"2022-11-26","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/:2:2","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸‹ï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/"},{"categories":["å‰ç«¯"],"content":"Loading Delay useRequest æœ‰ä¸ª loading delay çš„åŠŸèƒ½ï¼Œé€šè¿‡è®¾ç½® options.loadingDelay ï¼Œå¯ä»¥å»¶è¿Ÿ loading å˜æˆ true çš„æ—¶é—´ï¼Œæœ‰æ•ˆé˜²æ­¢é—ªçƒã€‚ è¿™ä¸ªå†…ç½® hook æ’ä»¶ç”¨æ¥æ§åˆ¶ loading çŠ¶æ€çš„å»¶è¿Ÿã€‚ const { loading, data } = useRequest(getUsername, { loadingDelay: 300 }); return \u003cdiv\u003e{ loading ? 'Loading...' : data }\u003c/div\u003e ä¾‹å¦‚ä¸Šé¢çš„åœºæ™¯ï¼Œå‡å¦‚ getUsername åœ¨ 300ms å†…è¿”å›ï¼Œåˆ™ loading ä¸ä¼šå˜æˆ trueï¼Œé¿å…äº†é¡µé¢å±•ç¤º Loadingâ€¦ çš„æƒ…å†µã€‚ æˆ‘ä»¬å¯ä»¥å°è¯•ç€é€šè¿‡æ’ä»¶ hook çš„æ–¹å¼æ¥å®ç°ä¸€ä¸‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œloading çŠ¶æ€åœ¨æ¥å£ onBefore çš„æ—¶å€™ä¼šè¢«æ›´æ–°æˆ trueã€‚é‚£æˆ‘ä»¬å°±éœ€è¦åœ¨æ¥å£ onBefore çš„æ—¶å€™ï¼Œå°†å…¶æ”¹ä¸º falseï¼Œå¹¶åŠ ä¸€ä¸ªå®šæ—¶å™¨ï¼Œè®©å…¶åœ¨æŒ‡å®šæ—¶é—´ä¹‹åå†å˜ä¸º trueï¼š import { useRef } from 'react'; import type { Plugin, Timeout } from '../types'; const useLoadingDelayPlugin: Plugin\u003cany, any[]\u003e = (fetchInstance, { loadingDelay }) =\u003e { const timerRef = useRef\u003cTimeout\u003e(); // ç”¨æˆ·æ²¡æœ‰è®¾ç½®loadingDelayæ—¶ç›´æ¥è¿”å› if (!loadingDelay) { return {}; } // å–æ¶ˆå®šæ—¶å™¨ã€‚ const cancelTimeout = () =\u003e { if (timerRef.current) { clearTimeout(timerRef.current); } }; return { // æ›´æ”¹loadingçš„çŠ¶æ€ä¸ºfalseï¼Œå¹¶åŠ ä¸ªå®šæ—¶å™¨ï¼Œè®©å…¶åœ¨æŒ‡å®šçš„delayæ—¶é—´ååœ¨æ›´æ­£ä¸ºtrueã€‚ onBefore: () =\u003e { cancelTimeout(); timerRef.current = setTimeout(() =\u003e { fetchInstance.setState({ loading: true, }); }, loadingDelay); return { loading: false, }; }, // åœ¨è¯·æ±‚å®Œæˆæˆ–å–æ¶ˆæ—¶ï¼Œè®°å¾—é”€æ¯å®šæ—¶å™¨ã€‚ onFinally: () =\u003e { cancelTimeout(); }, onCancel: () =\u003e { cancelTimeout(); }, }; }; export default useLoadingDelayPlugin; â€¦ ","date":"2022-11-26","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/:2:3","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸‹ï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/"},{"categories":["å‰ç«¯"],"content":"ready å’Œ refreshDeps useRequest æ”¯æŒ ready é…ç½®ï¼Œå½“ options ä¸­çš„ ready å€¼ä¸º falseÂ æ—¶ï¼Œè¯·æ±‚æ°¸è¿œéƒ½ä¸ä¼šå‘å‡ºã€‚å…¶å…·ä½“è¡Œä¸ºå¦‚ä¸‹ï¼š å½“ manual=falseÂ è‡ªåŠ¨è¯·æ±‚æ¨¡å¼æ—¶ï¼Œæ¯æ¬¡ readyÂ ä» falseÂ å˜ä¸º trueÂ æ—¶ï¼Œéƒ½ä¼šè‡ªåŠ¨å‘èµ·è¯·æ±‚ï¼Œä¼šå¸¦ä¸Šå‚æ•° options.defaultParamsã€‚ å½“ manual=trueÂ æ‰‹åŠ¨è¯·æ±‚æ¨¡å¼æ—¶ï¼Œåªè¦ ready=falseï¼Œåˆ™é€šè¿‡ run/runAsyncÂ è§¦å‘çš„è¯·æ±‚éƒ½ä¸ä¼šæ‰§è¡Œã€‚ æ”¯æŒä¾èµ–åˆ·æ–°ï¼Œå½“ options ä¸­çš„ refreshDeps å€¼å˜åŒ–åï¼Œä¼šé‡æ–°è§¦å‘è¯·æ±‚ã€‚ ç”±äºè¿™ä¸¤ä¸ªéœ€è¦ç±»ä¼¼ï¼Œå¯ä»¥æ”¾åœ¨ä¸€ä¸ª hook é‡Œå®ç° import { useRef } from 'react'; import useUpdateEffect from '../../../useUpdateEffect'; import type { Plugin } from '../types'; // support refreshDeps \u0026 ready const useAutoRunPlugin: Plugin\u003cany, any[]\u003e = ( fetchInstance, { manual, ready = true, defaultParams = [], refreshDeps = [], refreshDepsAction, } ) =\u003e { // é¿å…é‡å¤è¯·æ±‚çš„refã€‚ const hasAutoRun = useRef(false); hasAutoRun.current = false; // åœ¨è‡ªåŠ¨æ¨¡å¼ï¼ˆmanual === falseï¼‰ä¸”ready === trueæ—¶å‘é€è¯·æ±‚ã€‚ useUpdateEffect(() =\u003e { if (!manual \u0026\u0026 ready) { hasAutoRun.current = true; fetchInstance.run(...defaultParams); } }, [ready]); // åœ¨è‡ªåŠ¨æ¨¡å¼ä¸‹ï¼Œå½“refreshDepså‘ç”Ÿå˜åŒ–ï¼Œä¼šå‡ºå‘refreshäº‹ä»¶ã€‚ useUpdateEffect(() =\u003e { if (hasAutoRun.current) { return; } if (!manual) { hasAutoRun.current = true; fetchInstance.refresh(); } }, [...refreshDeps]); return { // åœ¨è¯·æ±‚å‰åˆ¤æ–­readyçŠ¶æ€ï¼Œç­‰äºtrueæ‰èƒ½å‘é€è¯·æ±‚ã€‚ onBefore: () =\u003e { if (!ready) { return { stopNow: true, }; } }, }; }; // è¿˜æœ‰ä¸€ä¸ªonInitäº‹ä»¶ï¼Œåˆå§‹åŒ–loadingçš„çŠ¶æ€ï¼Œåœ¨è‡ªåŠ¨æ¨¡å¼ä¸”readyä¸ºtrueæ—¶çŠ¶æ€æ‰ä¸ºtrueã€‚ useAutoRunPlugin.onInit = ({ ready = true, manual }) =\u003e { return { loading: !manual \u0026\u0026 ready, }; }; export default useAutoRunPlugin; â€¦ å…¶ä»–æ’ä»¶å¤§åŒå°å¼‚ï¼Œå¯ä»¥å‰å¾€ ahooks ä»“åº“æŸ¥çœ‹https://github.com/alibaba/hooks/tree/master/packages/hooks/src/useRequest/src/plugins end. ","date":"2022-11-26","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/:2:4","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸‹ï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8B/"},{"categories":["å‰ç«¯"],"content":"è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†åŸºæœ¬çš„ Markdown è¯­æ³•å’Œæ ¼å¼.","date":"2022-11-23","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸Šï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/"},{"categories":["å‰ç«¯"],"content":"å¼€å¯æ˜é‡‘æˆé•¿ä¹‹æ—…ï¼è¿™æ˜¯æˆ‘å‚ä¸ã€Œæ˜é‡‘æ—¥æ–°è®¡åˆ’ Â· 12 æœˆæ›´æ–‡æŒ‘æˆ˜ã€çš„ç¬¬ 1 å¤©ï¼Œç‚¹å‡»æŸ¥çœ‹æ´»åŠ¨è¯¦æƒ… ","date":"2022-11-23","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/:0:0","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸Šï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/"},{"categories":["å‰ç«¯"],"content":"å‰è¨€ useRequest æ˜¯ä¸€ä¸ªå¼‚æ­¥æ•°æ®ç®¡ç†çš„ hooksï¼Œæ˜¯ ahooks Hooks åº“çš„æ ¸å¿ƒ hookï¼Œå› ä¸ºå…¶é€šè¿‡æ’ä»¶å¼ç»„ç»‡ä»£ç ï¼Œå¤§éƒ¨åˆ†åŠŸèƒ½éƒ½é€šè¿‡æ’ä»¶çš„å½¢å¼æ¥å®ç°ï¼Œæ‰€ä»¥å…¶æ ¸å¿ƒä»£ç è¡Œæ•°è¾ƒå°‘ï¼Œç®€å•æ˜“æ‡‚ï¼Œè¿˜å¯ä»¥æ”¯æŒæˆ‘ä»¬è‡ªå®šä¹‰æ‰©å±•åŠŸèƒ½ã€‚å¯ä»¥è¯´ï¼ŒuseRequest èƒ½å¤„ç† React é¡¹ç›®ç»å¤§å¤šæ•°çš„ç½‘ç»œè¯·æ±‚åœºæ™¯ã€‚ è®©å’±è‡ªå·±å†™å¯èƒ½å†™ä¸å‡ºæ¥ï¼Œé‚£å°±å…ˆä»æ¨¡ä»¿å¼€å§‹ï¼Œé€šè¿‡é˜…è¯» useRequest çš„ä»£ç ï¼Œä»ä¸­å­¦ä¹ å¤§ä½¬ä»¬çš„ä»£ç é€»è¾‘å’Œæ€ç»´å¤„ç†ã€‚ ahooksï¼š https://ahooks.js.org/ æ–‡ä¸­ä»£ç åŸºäº 3.7.2 ç‰ˆæœ¬ ","date":"2022-11-23","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/:1:0","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸Šï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/"},{"categories":["å‰ç«¯"],"content":"å‰ç½® hook äº†è§£ åœ¨ useRequest çš„æºç å®ç°ä¸­ä½¿ç”¨åˆ°äº†ä¸€äº›å…¶ä»–çš„ hooks useCreationï¼šuseMemo æˆ– useRef çš„æ›¿ä»£å“ã€‚ useLatestï¼šè¿”å›å½“å‰æœ€æ–°å€¼çš„ Hookï¼Œ å¯ä»¥é¿å…é—­åŒ…é—®é¢˜ã€‚ useMemoizedFnï¼šuseCallback çš„æ›¿ä»£å“ ã€‚ useMountï¼šåªåœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶æ‰§è¡Œçš„ Hookã€‚ useUnmountï¼šåœ¨ç»„ä»¶å¸è½½ï¼ˆunmountï¼‰æ—¶æ‰§è¡Œçš„ Hookã€‚ useUpdateï¼šå¼ºåˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“çš„ hookã€‚ ","date":"2022-11-23","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/:2:0","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸Šï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/"},{"categories":["å‰ç«¯"],"content":"å®ç°æœ€åŸºç¡€çš„ useRequest Hook const { data, error, loading, cancel } = useRequest(service); useRequest é€šè¿‡å®šä¹‰ä¸€ä¸ª class ç±» Fetch æ¥ç»´æŠ¤ç›¸å…³çš„æ•°æ®ï¼ˆdataï¼Œloading ç­‰ï¼‰å’Œæ–¹æ³•ï¼ˆrunï¼Œ refresh ç­‰ï¼‰ç„¶ååœ¨ useRequestImplement ä¸­åˆ›å»º Fetch å®ä¾‹ï¼Œå¹¶è¿”å›å®ä¾‹å±æ€§å’Œæ–¹æ³•ã€‚ æˆ‘å¯¹ä»£ç è¿›è¡Œäº†æ‹†åˆ†ï¼Œä¿ç•™äº† useRequest ä¸­æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œè¯¥ hook æ¥æ”¶ä¸€ä¸ª promiseï¼Œéœ€è¦è¿”å› dataã€errorã€loadingã€cancel çŠ¶æ€ã€‚ const useRequestImplement = (service: Promise\u003cany\u003e) =\u003e { const serviceRef = useLatest(service); const update = useUpdate(); const fetchInstance = useCreation(() =\u003e { return new Fetch(serviceRef, update); }, []); useMount(() =\u003e { // useCachePlugin can set fetchInstance.state.params from cache when init const params = fetchInstance.state.params ?? []; // @ts-ignore fetchInstance.runAsync(...params); }); useUnmount(() =\u003e { fetchInstance.cancel(); }); return { loading: fetchInstance.state.loading, data: fetchInstance.state.data, error: fetchInstance.state.error, params: fetchInstance.state.params || [], cancel: useMemoizedFn(fetchInstance.cancel.bind(fetchInstance)), }; }; export default class Fetch\u003cTData, TParams extends any[]\u003e { public count: number = 0; public state = { loading: false, params: undefined, data: undefined, error: undefined, }; constructor(public serviceRef, public subscribe) {} setState(s) { this.state = { ...this.state, ...s, }; this.subscribe(); } async runAsync(...params: TParams): Promise\u003cany\u003e { this.count += 1; const currentCount = this.count; this.setState({ loading: true, params, }); try { const servicePromise = this.serviceRef.current(...params); const res = await servicePromise; if (currentCount !== this.count) { return new Promise(() =\u003e {}); } this.setState({ data: res, error: undefined, loading: false, }); return res; } catch (error) { if (currentCount !== this.count) { // prevent run.then when request is canceled return new Promise(() =\u003e {}); } this.setState({ error, loading: false, }); throw error; } } cancel() { this.count += 1; this.setState({ loading: false, }); } refreshAsync() { // @ts-ignore return this.runAsync(...(this.state.params || [])); } } ","date":"2022-11-23","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/:3:0","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸Šï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/"},{"categories":["å‰ç«¯"],"content":"å®ç°å‰©ä½™æ ¸å¿ƒåŠŸèƒ½ æ¥æ”¶ç”¨æˆ·çš„è‡ªå®šä¹‰é…ç½®ï¼ŒåŒ…æ‹¬ manual(æ‰‹åŠ¨æ¨¡å¼)å’Œä¸€äº›å›è°ƒå‡½æ•°ï¼ˆonBefore,onSuccess, onError,onFinallyï¼‰ const useRequestImplement = (service: Promise\u003cany\u003e, options) =\u003e { const { manual = false, ...rest } = options; const fetchOptions = { manual, ...rest, }; // const serviceRef = useLatest(service); // const update = useUpdate(); // const fetchInstance = useCreation(() =\u003e { return new Fetch(serviceRef, fetchOptions, update); // }, []); fetchInstance.options = fetchOptions; useMount(() =\u003e { if (!manual) { const params = fetchInstance.state.params || options.defaultParams || []; // @ts-ignore fetchInstance.run(...params); } }); // useUnmount(() =\u003e { // fetchInstance.cancel(); // }); return { // loading: fetchInstance.state.loading, // data: fetchInstance.state.data, // error: fetchInstance.state.error, // params: fetchInstance.state.params || [], // cancel: useMemoizedFn(fetchInstance.cancel.bind(fetchInstance)), refresh: useMemoizedFn(fetchInstance.refresh.bind(fetchInstance)), refreshAsync: useMemoizedFn(fetchInstance.refreshAsync.bind(fetchInstance)), run: useMemoizedFn(fetchInstance.run.bind(fetchInstance)), runAsync: useMemoizedFn(fetchInstance.runAsync.bind(fetchInstance)), mutate: useMemoizedFn(fetchInstance.mutate.bind(fetchInstance)), }; }; export default class Fetch\u003cTData, TParams extends any[]\u003e { // public count: number = 0; // // public state = { // loading: false, // params: undefined, // data: undefined, // error: undefined, // }; constructor(public serviceRef, public options, public subscribe) { this.state = { ...this.state, loading: !options.manual, }; } // setState(s) { // this.state = { // ...this.state, // ...s, // }; // this.subscribe(); // } // async runAsync(...params: TParams): Promise\u003cany\u003e { // this.count += 1; // const currentCount = this.count; // // this.setState({ // loading: true, // params, // }); // this.options.onBefore?.(params); // try { // const servicePromise = this.serviceRef.current(...params); // const res = await servicePromise; // if (currentCount !== this.count) { // return new Promise(() =\u003e {}); // } // this.setState({ // data: res, // error: undefined, // loading: false, // }); // this.options.onSuccess?.(res, params); this.options.onFinally?.(params, res, undefined); // // return res; // } catch (error) { // if (currentCount !== this.count) { // // prevent run.then when request is canceled // return new Promise(() =\u003e {}); // } // this.setState({ // error, // loading: false, // }); // this.options.onError?.(error, params); this.options.onFinally?.(params, undefined, error); // throw error; // } // } // cancel() { // this.count += 1; // this.setState({ // loading: false, // }); // } // // refreshAsync() { // // @ts-ignore // return this.runAsync(...(this.state.params || [])); // } run(...params: TParams) { this.runAsync(...params).catch((error) =\u003e { if (!this.options.onError) { console.error(error); } }); } refresh() { // @ts-ignore this.run(...(this.state.params || [])); } mutate(data?: TData | ((oldData?: TData) =\u003e TData | undefined)) { const targetData = isFunction(data) ? data(this.state.data) : data; this.setState({ data: targetData, }); } } runAsync å’Œ run runAsync æ–¹æ³•è¿”å›ä¸€ä¸ª promiseï¼Œä½¿ç”¨ runAsync æ—¶ï¼Œå½“è¯·æ±‚æŠ¥é”™ä¼šä¸­æ–­åç»­æ“ä½œï¼Œéœ€è¦æ‰‹åŠ¨æ•è·å¼‚å¸¸ã€‚ run æ–¹æ³•åˆ™å¯¹ runAsync è¿›è¡Œäº†å°è£…ï¼Œå¸®åŠ©æˆ‘ä»¬äº†æ•è·å¼‚å¸¸ï¼Œæˆ–å¯ä»¥é€šè¿‡ options.onError æ¥å¤„ç†å¼‚å¸¸è¡Œä¸ºã€‚ refresh å’Œ refreshAsync useRequest ç»´æŠ¤äº†ä¸€ä»½ paramsï¼Œè°ƒç”¨ run()å’Œ runAsync()çš„æ—¶å€™ä¼šåŒæ—¶æ›´æ–° paramsã€‚ä»¥ä¾¿ç»™ refresh å’Œ refreshAsync æ–¹æ³•ä½¿ç”¨ cancel useRequest ç»´æŠ¤äº†ä¸€ä¸ª countã€‚ è€Œ runAsync æ–¹æ³•æœ¬èº«ä¹Ÿç»´æŠ¤ä¸€ä¸ª currentCountã€‚ æ¯æ¬¡è°ƒç”¨ runAsync æ—¶ï¼Œcount è¿›è¡Œä¸€æ¬¡++æ“ä½œï¼Œç„¶åå°†å…¶èµ‹å€¼ç»™ currentCountã€‚ æ¯æ¬¡ cancel æ–¹æ³• count ä¼šå†è¿›è¡Œä¸€æ¬¡++æ“ä½œã€‚é€šè¿‡æ¯”è¾ƒ count å’Œ currentCount çš„å€¼æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¿›è¡Œäº†å–æ¶ˆæ“ä½œï¼Œè¿›è¡Œç›¸åº”çš„å¤„ç† mutate æ”¯æŒç«‹å³ä¿®æ”¹ useRequest è¿”å›çš„ data å‚æ•°ã€‚ mutate çš„ç”¨æ³•ä¸ React.setState ä¸€è‡´ï¼Œæ”¯æŒ mutate(newData) å’Œ mutate((oldData) =\u003e newData) ä¸¤ç§å†™æ³•ã€‚ ","date":"2022-11-23","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/:4:0","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸Šï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/"},{"categories":["å‰ç«¯"],"content":"å°ç»“ ä»¥ä¸Šæ˜¯ useRequest hook çš„åŸºæœ¬åŠŸèƒ½ï¼Œå‰©ä½™åŠŸèƒ½å¦‚ loading çŠ¶æ€å»¶æ—¶ã€è¯·æ±‚é˜²æŠ–ã€èŠ‚æµã€æ•°æ®ç¼“å­˜ç­‰åŠŸèƒ½éƒ½æ˜¯é€šè¿‡æ’ä»¶çš„å½¢å¼è¿›è¡Œå®ç°çš„ï¼Œå…·ä½“å®ç°å¯ä»¥çœ‹ ahooks ä¸­çš„æ ¸å¿ƒ hook-useRequestï¼ˆä¸‹ï¼‰ ","date":"2022-11-23","objectID":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/:5:0","tags":["react","hooks"],"title":"ahooksä¸­çš„æ ¸å¿ƒhook-useRequestï¼ˆä¸Šï¼‰","uri":"/myblog/ahooks%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83hook-userequest%E4%B8%8A/"},{"categories":["å‰ç«¯"],"content":"è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†åŸºæœ¬çš„ Markdown è¯­æ³•å’Œæ ¼å¼.","date":"2022-10-23","objectID":"/myblog/react-router-v6/","tags":["react","å­¦ä¹ ç¬”è®°"],"title":"react-router v6","uri":"/myblog/react-router-v6/"},{"categories":["å‰ç«¯"],"content":"å‰è¨€ ä¹‹å‰ä¸€ç›´è´Ÿè´£è€é¡¹ç›®çš„è¿­ä»£ï¼Œè€Œä¸”å¾ˆå°‘å…³æ³¨ router ç›¸å…³çš„ä»£ç ï¼Œç›´åˆ°ä¸Šä¸ªæœˆå…¬å¸å¼€äº†ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œå½“æˆ‘ç€æ‰‹å¼€å§‹é…ç½®è·¯ç”±æ—¶çªç„¶å‘ç°ï¼Œå—¯ï¼ŸSwitch æ ‡ç­¾å’‹æ²¡äº†ï¼ŸRoute é‡Œçš„ component å±æ€§å’‹ä¹Ÿæ²¡äº†ã€‚æ„è¯†åˆ°ä¸å¦™çš„æˆ‘èµ¶ç´§å»ç¿»äº†ç¿» react router çš„æ–‡æ¡£ï¼Œå‘ç° react router æ—©å°±åœ¨ 21 å¹´åº•å°±å·å·å‡çº§åˆ°äº† v6 ä¸”å˜æ›´æå¤§ï¼ˆå—¯ è¿™æ˜¯ä¸€ä¸ªæ‚²ä¼¤çš„æ•…äº‹ï¼Œç°åœ¨ç”šè‡³å·²ç»æ›´æ–°åˆ°äº† 6.4.1ï¼‰ ä¹‹å‰çš„è€é¡¹ç›®çš„åŒ…ç‰ˆæœ¬æ˜¯ 5.2 çš„ï¼Œè¦å‡çº§çš„è¯æˆæœ¬æœ‰ç‚¹é«˜ï¼Œä¹Ÿæ‡’å¾—æï¼Œå°±é‚£æ ·å§ã€‚ä½†æ–°é¡¹ç›®è‚¯å®šä¸èƒ½å°†å°±å•Šã€‚é‚£å°±æ•´å‘— ","date":"2022-10-23","objectID":"/myblog/react-router-v6/:0:1","tags":["react","å­¦ä¹ ç¬”è®°"],"title":"react-router v6","uri":"/myblog/react-router-v6/"},{"categories":["å‰ç«¯"],"content":"æ­£æ–‡ é¦–å…ˆå…ˆè¯´ä¸€ä¸‹ react-router å’Œ react-router-dom çš„åŒºåˆ«ï¼Œreact-router å®ç°äº†è·¯ç”±çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œreact-router-dom åˆ™æ˜¯åŸºäº react-routerï¼ŒåˆåŠ äº†åœ¨æµè§ˆå™¨è¿è¡Œç¯å¢ƒä¸‹çš„ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚æŠŠ Link ç»„ä»¶æ¸²æŸ“æˆä¸€ä¸ª a æ ‡ç­¾ï¼Œå†æ¯”å¦‚ HashRouter ä¼šä½¿ç”¨ window.location.hash å’Œ hashChange äº‹ä»¶æ„å»ºè·¯ç”±ã€‚ä¸€èˆ¬åœ¨é¡¹ç›®ä¸­åªéœ€è¦å¼•å…¥ react-router-dom åŒ…å³å¯ã€‚ npm install react-router-dom BrowserRouter æ–°é¡¹ç›®ä½¿ç”¨æµè§ˆå™¨è·¯ç”±å³ BrowserRouterï¼Œè¦æƒ³åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ React Routerï¼Œéœ€è¦ App ç»„ä»¶åµŒå¥—è¿› BrowserRouter ç»„ä»¶ä¸­ã€‚ ReactDOM.createRoot(document.getElementById(\"root\") as HTMLElement).render( \u003cReact.StrictMode\u003e \u003cBrowserRouter\u003e \u003cApp /\u003e \u003c/BrowserRouter\u003e \u003c/React.StrictMode\u003e ); Routes å’Œ Route æˆ‘ä»¬ä½¿ç”¨ Route ç»„ä»¶æ¥å®šä¹‰è·¯ç”±ï¼Œå¹¶ä½¿ç”¨ Routes åŒ…è£¹ã€‚ Route ç»„ä»¶æ¥æ”¶ä¸¤ä¸ª propsï¼š path?: string | é¡µé¢ url element?ï¼š React.ReactNode |å½“å‰ url éœ€è¦åŠ è½½çš„å…ƒç´  \u003cRoutes\u003e \u003cRoute path=\"/\" element={\u003cHome /\u003e} /\u003e \u003cRoute path=\"/teams/:id\" element={\u003cTeams /\u003e} /\u003e \u003cRoute path=\"/teams/new\" element={\u003cNewTeams /\u003e} /\u003e \u003cRoute path=\"*\" element={\u003cPageError /\u003e} /\u003e \u003c/Routes\u003e \u003cSwitch\u003e \u003cRoute path=\"/teams/:id\" component={Teams} /\u003e \u003cRoute path=\"/teams/new\" component={NewTeams} /\u003e \u003c/Switch\u003e V6 çš„ Route ç»„ä»¶ä¸åœ¨è¦æ±‚æˆ‘ä»¬æŒ‰ä¸€å®šçš„é¡ºåºæ¥å®šä¹‰è·¯ç”±,åœ¨æ—§ç‰ˆæœ¬ä¸­ï¼Œå½“å¤šä¸ªè·¯ç”±åŒ¹é…ä¸€ä¸ªæ¨¡ç³Šçš„ url æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ä»¥æŸç§æ–¹å¼å¯¹è·¯ç”±è¿›è¡Œæ’åºï¼Œv6 ç‰ˆæœ¬åˆ™ä¼šæ›¿æˆ‘ä»¬é€‰æ‹©æœ€å…·ä½“çš„åŒ¹é…ã€‚/teams/new å°†åŒ¹é…è¿™ä¸¤ä¸ªè·¯ç”±ï¼Œä½†åªä¼šæ¸²æŸ“ NewTeams ç»„ä»¶ã€‚ æ”¯æŒçš„æ ¼å¼ï¼š /groups /groups/admin /users/:id /users/:id/messages /files/* /files/:id/* åµŒå¥—è·¯ç”± react-router V6 æ”¯æŒè·¯ç”±çš„åµŒå¥—ï¼Œå…è®¸çˆ¶è·¯ç”±æ§åˆ¶å­è·¯ç”±çš„æ¸²æŸ“ï¼Œ æä¾›äº†ä¸€ä¸ªæ¸²æŸ“å‡ºå£ç»„ä»¶ Outletï¼Œå½“åŒ¹é…åˆ°å­è·¯ç”±çš„æ—¶å€™ä¼šæ¸²æŸ“åœ¨ Outlet ç»„ä»¶æ‰€åœ¨çš„ä½ç½®ï¼Œçˆ¶è·¯ç”±æ­¤æ—¶ä»ç„¶å­˜åœ¨ã€‚ æ”¯æŒå¤šçº§åµŒå¥— const src = () =\u003e { return ( \u003c\u003e \u003cRoutes\u003e \u003cRoute path=\"/\" element={\u003cHome /\u003e} /\u003e \u003cRoute path=\"/list\" element={\u003cList /\u003e}\u003e \u003cRoute path=\"Detail/:id\" element={\u003cDetail /\u003e} /\u003e \u003c/Route\u003e \u003c/Routes\u003e \u003c/\u003e ) } const List = () =\u003e { const navigate = useNavigate(); return ( \u003c\u003e \u003cdiv className=\"list\"\u003e \u003cButton onClick={() =\u003e { navigate('/list/detail/1'); }} \u003e detail1 \u003c/Button\u003e \u003cButton onClick={() =\u003e { navigate('/list/detail/2'); }} \u003e detail2 \u003c/Button\u003e // react-routeræä¾›äº†Outletç»„ä»¶ç”¨æ¥å ä½ç½® \u003cOutlet /\u003e \u003c/div\u003e \u003c/\u003e ); æŸ¥è¯¢å‚æ•° /mysql?mysql_group_id=mysql-test\u0026mysql_instance_id=mysql-asfasfew react-router V6 æä¾›äº† useSearchParams Hookï¼Œå®ƒæ˜¯åŸºäºæµè§ˆå™¨å†…ç½®çš„ URLSearchParams æ„é€ å‡½æ•°è¿›è¡Œçš„å°è£…ã€‚ useSearchParams ç±»ä¼¼ useStateï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ª Mapï¼Œå¯ä»¥é€šè¿‡å…¶ get æ–¹æ³•è·å–æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„å€¼ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥æ›´æ–° url ä¸­çš„æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚ import { useSearchParams } from 'react-router-dom'; const [searchParams, setSearchParams] = useSearchParams(); const groupId = searchParams.get('mysql_group_id') const instanceId = searchParams.get('mysql_instance_id') const updateOrder = (sort) =\u003e { setSearchParams({ key: value }) } ç¼–ç¨‹å¼é…ç½®è·¯ç”± react-router V6 è¿˜æä¾›äº† useRoutes Hookï¼Œä½¿æˆ‘ä»¬å¯ä»¥é€šè¿‡å†™ä¸€ä¸ªé…ç½®å¯¹è±¡çš„æ–¹å¼æ¥é…ç½®è·¯ç”±ï¼Œä¸éœ€è¦åœ¨è‡ªè¡Œæ‹¼æ¥ jsx. const routerConfig = [ { path: \"/\", key: \"home\", label: \"common.nav.menu.home\", icon: \u003cHomeOutlined /\u003e, element: \u003cHome /\u003e, }, { key: \"authManageWrapper\", label: \"common.nav.menu.authManage\", icon: \u003cSolutionOutlined /\u003e, children: [ { path: \"/auth/list\", key: \"authList\", label: \"common.nav.menu.authList\", element: \u003cAuthList /\u003e, }, { path: \"/auth/add\", key: \"addAuth\", label: \"common.nav.menu.addAuth\", element: \u003cAddAuth /\u003e, }, ], }, { path: \"*\", hideInMenu: true, key: \"null\", element: \u003cNavigate to=\"/\" /\u003e, }, ] return ( \u003c\u003e {useRoutes(routerConfig)} \u003c/\u003e ) åœ¨ antd çš„ 4.20 ç‰ˆæœ¬+ä¸­ï¼Œä»–çš„ Menu å¯¼èˆªç»„ä»¶ä¹Ÿæ”¯æŒè¿™ç§å†™æ³•ï¼Œå¯ä»¥ç»´æŠ¤ä¸€ä»½ routerConfigï¼Œå¯¹å…¶æ‰©å……ä¸€äº›å±æ€§ï¼Œå°±èƒ½åŒæ—¶å† Menu ç»„ä»¶ä¸­ä½¿ç”¨ã€‚ å…¶ä»– æ–°å¢ useNavigate Hook ä»£æ›¿ useHistory Hook let navigate = useNavigate(); \u003cbutton onClick={() =\u003e { navigate(\"/invoices\" + location.search); }} \u003e jump \u003c/button\u003e å¯ä»¥åœ¨å„ä¸ªåœ°æ–¹æ¸²æŸ“å¤šç»„è·¯ç”±ï¼šç»å¸¸æœ‰ä¸€äº›éœ€æ±‚è®©æˆ‘ä»¬åœ¨æŸä¸ª state ä¸º true æ—¶å±•ç¤ºç»„ä»¶ Aï¼Œä¸º false æ—¶å±•ç¤ºç»„ä»¶ Bï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥å°è¯•åœ¨ç»„ä»¶å†…å†™ä¸€ä¸ªåµŒå¥—è·¯ç”±ã€‚ æ€»ç»“ï¼š å®šä¹‰è·¯ç”±æ—¶ Routes ç»„ä»¶å’Œ Route ç»„ä»¶æ­é…ä½¿ç”¨ï¼Œä¸”å¯ä»¥åœ¨ä¸åŒåœ°æ–¹å®šä¹‰å¤šç»„ã€‚Route ç»„ä»¶çš„å±æ€§ä¹Ÿå‘ç”Ÿäº†å˜æ›´ã€‚ æ–°å¢äº† Outlet ç»„ä»¶ï¼Œæ”¯æŒè·¯ç”±çš„åµŒå¥—ï¼Œä½¿ç”¨èµ·æ¥å¯ä»¥æ›´åŠ çš„çµæ´»ã€‚ æ–°å¢äº†ä¸€ä¸ªå¯ä»¥æŸ¥è¯¢å’Œæ›´æ–° url å‚æ•°çš„ hook useSearchParamsã€‚ æä¾›äº† useRoutes Hookï¼Œ æ”¯æŒä½¿ç”¨ js å¯¹è±¡çš„å½¢å¼æ¥å®šä¹‰è·¯ç”±ã€‚ ","date":"2022-10-23","objectID":"/myblog/react-router-v6/:0:2","tags":["react","å­¦ä¹ ç¬”è®°"],"title":"react-router v6","uri":"/myblog/react-router-v6/"},{"categories":["å‰ç«¯"],"content":"è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†åŸºæœ¬çš„ Markdown è¯­æ³•å’Œæ ¼å¼.","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"çº¢å®ä¹¦ï¼ˆå­¦ä¹ ç¬”è®°ï¼‰ ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:0:0","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"ä¸‰ã€è¯­è¨€åŸºç¡€ ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:1:0","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"null å’Œ undefinedï¼ˆ3.4ï¼‰ null: è¡¨ç¤ºä¸€ä¸ªç©ºå¯¹è±¡æŒ‡é’ˆã€‚è¿™ä¹Ÿæ˜¯ typeof null ä¼šè¿”å›â€˜objectâ€™çš„åŸå› ã€‚ undefinedï¼š undefined å€¼ç”± null æ´¾ç”Ÿè€Œæ¥ï¼Œæ‰€ä»¥è¡¨é¢ç›¸ç­‰ï¼ˆnull == undefined // trueï¼‰ å½“å£°æ˜äº†å˜é‡ä½†æœªèµ‹å€¼çš„æ—¶å€™ï¼Œå°±ç›¸å½“äºç»™å˜é‡èµ‹å€¼äº† undefinedï¼› å½“è®¿é—®å¯¹è±¡å˜é‡ä¸­ä¸å­˜åœ¨çš„å±æ€§æ—¶ä¼šè¿”å› undefinedï¼› åŒºåˆ«ï¼š åœ¨å®šä¹‰ä¸€ä¸ªå°†è¦ä¿å­˜å¯¹è±¡å€¼å¾—å˜é‡æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨ null æ¥åˆå§‹åŒ– ä½†ä¸å»ºè®®ç»™æŸä¸ªå˜é‡è®¾ç½® undefined å€¼ã€‚å­—é¢å€¼ undefined ä¸»è¦ç”¨äºæ¯”è¾ƒ ï¼ˆundefinedå¯ä»¥ç”¨æ¥**è¯»**ï¼Œnullå¯ä»¥ç”¨æ¥**è¯»å†™**ï¼‰ Number(null) return 0; Number(undefined) return NaN ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:1:1","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"Symbol ç±»å‹ï¼ˆ3.4ï¼‰ ä¹‹å‰æ²¡ä»”ç»†äº†è§£è¿‡ï¼ŒåŸæ¥ Symbol è¿˜æœ‰å‡ ä¸ª api å¦‚æœæƒ³é‡ç”¨ç¬¦å·å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡ Symbol.for()æ–¹æ³• const a = Symbol('a'); const b = Symbol('a'); console.log(a == b); //false const c = Symbol.for('a'); const d = Symbol.for('a'); console.log(a == b); //true // æ³¨ï¼š const e = Symbol('a'); const f = Symbol.for('a'); console.log(a == b); //false è¿˜å¯ä»¥å¯¹å…¶è¿›è¡ŒæŸ¥è¯¢ const g = Symbol.for('a'); console.log(Symbol.keyFor(g)); // 'a' const h = Symbol('a'); console.log(Symbol.keyFor(h)); // undefined console.log(Symbol.keyFor(123)); // TypeError 123 is not a symbol å½“ Symbol ç¬¦å·ä½œä¸ºå¯¹è±¡çš„é”®çš„æ—¶å€™ï¼Œæ˜¯ä¸ä¼šè¢« Object.keys æˆ– entries ç­‰ç›¸å…³ api éå†å‡ºæ¥çš„, å¯ä»¥é€šè¿‡ Object.getOwnPropertySymbols()ç­‰æ¥æ‹¿åˆ°å¯¹è±¡çš„ symbol ç±»å‹é”®å€¼ const a = Symbol('a'); const b = Symbol('b'); const obj = {}; obj[a] = '123'; obj[b] = '456'; obj['c'] = '789'; console.log(obj); // {c: '789', Symbol(a): '123', Symbol(b): '456'} Object.keys(obj); // ['c']; Object.values(obj); // ['789']; Object.getOwnPropertyNames(obj); // ['c']; Object.getOwnPropertySymbols(obj); // [Symbol(a), Symbol(b)]; Object.getOwnPropertyDescriptors(obj); // [Symbol(a), Symbol(b)]; // æˆ–è€…é€šè¿‡Reflect.ownKeys()æ‹¿åˆ°ä¸¤ä¸ªç±»å‹çš„é”® Reflect.ownKeys(obj); // ['c', Symbol(a), Symbol(b)]; ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:1:2","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"å››ã€å˜é‡ã€ä½œç”¨åŸŸä¸å†…å­˜ ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:2:0","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"åŸå§‹å€¼ä¸å¼•ç”¨å€¼ï¼ˆ4.1ï¼‰ å˜é‡å¯ä»¥åŒ…å«ä¸¤ç§ç±»å‹çš„æ•°æ®ï¼ŒåŸå§‹å€¼å’Œå¼•ç”¨å€¼ï¼Œ åŸå§‹å€¼å°±æ˜¯æœ€ç®€å•çš„æ•°æ®ï¼ˆstringï¼Œ numberï¼Œsymbolï¼Œundefinedï¼Œnull, booleanï¼‰ å¼•ç”¨å€¼åˆ™æ˜¯ç”±å¤šä¸ªå€¼æ„æˆçš„å¯¹è±¡ã€‚ typeof å¯ä»¥ç¡®è®¤å€¼çš„åŸå§‹å€¼ç±»å‹ï¼Œinstanceof å¯ä»¥ç”¨äºç¡®è®¤å€¼çš„å¼•ç”¨ç±»å‹ ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:2:1","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"å…­ã€é›†åˆå¼•ç”¨ç±»å‹ ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:3:0","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"array.form() (6.2.1) Array.form()é™¤äº†èƒ½å°†ç±»æ•°ç»„ç»“æ„è½¬æ¢ä¸ºæ•°ç»„å®ä¾‹å¤–ï¼Œè¿˜èƒ½è¿›è¡Œç±»ä¼¼ map æ“ä½œ Array.from()æ–¹æ³•æœ‰ä¸€ä¸ªå¯é€‰å‚æ•° mapFnï¼Œè®©ä½ å¯ä»¥åœ¨æœ€åç”Ÿæˆçš„æ•°ç»„ä¸Šå†æ‰§è¡Œä¸€æ¬¡ map æ–¹æ³•åå†è¿”å›ã€‚ä¹Ÿå°±æ˜¯è¯´` Array.from(obj, mapFn, thisArg) å°±ç›¸å½“äº Array.from(obj).map(mapFn, thisArg) ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:3:1","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"å…«ã€å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹ ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:4:0","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"ç†è§£å¯¹è±¡ï¼ˆ8.1ï¼‰ å¯¹è±¡ï¼š ä¸€ç»„å±æ€§çš„æ— åºé›†åˆï¼Œä»–çš„æ¯ä¸ªå±æ€§æˆ–æ–¹æ³•éƒ½æœ‰ä¸€ä¸ªåç§°æ¥æ ‡è¯†ï¼› å¯¹è±¡çš„å±æ€§æœ‰ä¸¤ç§ç±»å‹ï¼Œæ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§ï¼ŒECMA ä½¿ç”¨äº†ä¸€äº›å†…éƒ¨ç‰¹æ€§æ¥æè¿°å±æ€§çš„ç‰¹å¾ æ•°æ®å±æ€§ï¼šæ•°æ®å±æ€§åŒ…å«ä¸€ä¸ªä¿å­˜æ•°æ®å€¼çš„ä½ç½®ç”¨æ¥è¯»å†™ï¼Œä»–æœ‰å››ä¸ªç‰¹æ€§ [[Configurable]]: è¡¨ç¤ºå½“å‰å±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ delete åˆ é™¤ä»¥åŠæ˜¯å¦å¯ä»¥æŠŠå®ƒæ”¹ä¸ºè®¿é—®å™¨å±æ€§ï¼Œé»˜è®¤ä¸º true [[Enumberable]]: è¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ for-in å¾ªç¯è¿”å›ï¼Œé»˜è®¤ä¸º true [[Writable]]: è¡¨ç¤ºå±æ€§å€¼æ˜¯å¦æ”¯æŒä¿®æ”¹ï¼Œé»˜è®¤ä¸º true [[Value]]: åŒ…å«å±æ€§å®é™…çš„å€¼ï¼Œé»˜è®¤ä¸º undefinedã€‚ let obj = { name: 'Xiaoming' } // è¿™å°±æ„å‘³ç€objè¿™ä¸ªå¯¹è±¡çš„nameå±æ€§çš„ç‰¹æ€§[[Value]]ä¼šè¢«è®¾ç½®ä¸º'Xiaoming' //å¯ä»¥é€šè¿‡Object.defineProperty()æ–¹æ³•æ¥ä¿®æ”¹å±æ€§çš„é»˜è®¤ç‰¹æ€§ // Object.defineProperty(objName, attrName, descriptor) // objName: è¦ä¿®æ”¹çš„å¯¹è±¡åç§°ï¼› // attrName: è¦ä¿®æ”¹çš„å¯¹è±¡çš„å±æ€§åç§°ï¼› // descriptor: è¦ä¿®æ”¹çš„æè¿°ç¬¦å¯¹è±¡(Configurableã€Enumberableã€Writableã€Value)ã€‚ const person = {} // è®¾ç½®åªè¯» Object.defineProperty(person, 'name', { writable: false, value: 'Xiaoming', }) console.log(person.name) // Xiaoming; person.name = 'Xiaohong' console.log(person.name) // Xiaoming; // è®¾ç½®ä¸å¯åˆ é™¤ Object.defineProperty(person, 'name', { configurable: false, }) delete person.name; console.log(person.name) // Xiaoming; è®¿é—®å™¨å±æ€§: è®¿é—®å™¨å±æ€§ä¸åŒ…å«æ•°æ®å€¼ï¼Œç›¸åï¼Œä»–ä»¬åŒ…å«ä¸€ä¸ªè·å–å‡½æ•°ï¼ˆgetterï¼‰å’Œè®¾ç½®å‡½æ•°ï¼ˆsetterï¼‰ï¼Œåœ¨è¯»å–è®¿é—®å™¨å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨è·å–å‡½æ•°ï¼Œåœ¨å†™å…¥è®¿é—®å™¨å±æ€§æ—¶ä¼šè°ƒç”¨è®¾ç½®å‡½æ•°ã€‚åŒæ ·ä»–ä¹Ÿæœ‰ 4 ä¸ªç‰¹æ€§æ¥æè¿°ä»–çš„è¡Œä¸º: [[Configurable]]: è¡¨ç¤ºå½“å‰å±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ delete åˆ é™¤ä»¥åŠæ˜¯å¦å¯ä»¥æŠŠå®ƒæ”¹ä¸ºè®¿é—®å™¨å±æ€§ï¼Œé»˜è®¤ä¸º true [[Enumberable]]: è¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ for-in å¾ªç¯è¿”å›ï¼Œé»˜è®¤ä¸º true ã€æ³¨ã€‘è®¿é—®å™¨å±æ€§æ˜¯ä¸èƒ½ç›´æ¥å®šä¹‰çš„ï¼Œå¿…é¡»ä½¿ç”¨ Object.defineProperty() const person { age_: 28, } Object.definedProperty(person, 'age', { get() { return this.age_ + 1; } set(newValue) { this.age_ = newValue * 2; } }) console.log(person.age_) // 28; console.log(person.age) // 29; person.age = 10; console.log(person.age_) // 20; console.log(person.age) // 21; // è·å–å‡½æ•°å’Œè®¾ç½®å‡½æ•°ä¸ä¸€å®šéƒ½è¦å®šä¹‰ï¼Œåªè®¾ç½®è·å–å‡½æ•°æ„å‘³ç€å±æ€§æ˜¯åªè¯»çš„ï¼Œåªè®¾ç½®è®¾ç½®å‡½æ•°çš„å±æ€§æ„å‘³ç€å±æ€§ä¸èƒ½è¿›è¡Œè¯»å– å¯ä»¥é€šè¿‡ Object.getOwnPropertyDescriptor(objName, attrName?: string)æ–¹æ³•æ¥å–å¾—æŒ‡å®šå±æ€§çš„å±æ€§æè¿°ç¬¦ const person = {name: 'Xiaoming'} console.log(Object.getOwnDefinePropertyDescriptor(person, 'name')) // { // configurable: true, // enumerable: true, // writable: true, // value: 'Xiaoming', //} ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:4:1","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"å¯¹è±¡æ ‡è¯†åŠç›¸ç­‰åˆ¤å®šï¼ˆ8.1.5ï¼‰ é™¤äº†èƒ½é€šè¿‡ isNaNï¼ˆï¼‰æ¥åˆ¤æ–­å˜é‡æ˜¯å¦æ˜¯ NaNï¼Œè¿˜å¯ä»¥é€šè¿‡ Object.is(); console.log(NaN === NaN) // false; console.log(isNaN(NaN)) // true; console.log(Object.is(NaN, NaN)) // true; ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:4:2","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["å‰ç«¯"],"content":"åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå±æ€§ // åˆ¤æ–­å¯¹è±¡å®ä¾‹æˆ–åŸå‹æ˜¯å¦åŒ…å«æŸä¸ªå®ä¾‹ const obj = {name: 'xiaoMing'}; console.log('name' in obj) // true; console.log('age' in obj) // false; //åˆ¤æ–­å¯¹è±¡å®ä¾‹æ˜¯å¦åŒ…å«æŸä¸ªå®ä¾‹ function Person(){}; Person.prototype.name = 'xiaoMing'; let son = new Person(); console.log(son.name) // 'xiaoMing; console.log(son.hasOwnProperty('name')) // false; ","date":"2022-01-10","objectID":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:4:3","tags":["javascript","å­¦ä¹ ç¬”è®°"],"title":"jsé«˜ç¨‹å­¦ä¹ ç¬”è®°","uri":"/myblog/js%E9%AB%98%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†åŸºæœ¬çš„ Markdown è¯­æ³•å’Œæ ¼å¼.","date":"2022-01-08","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäº”ï¼‰æ’åº","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"æ’åºçš„åˆ†ç±» æ—¶é—´å¤æ‚åº¦ï¼ˆO(n^2)ï¼‰: å†’æ³¡ã€æ’å…¥ã€é€‰æ‹©ï¼› æ—¶é—´å¤æ‚åº¦ï¼ˆO(nLogn)ï¼‰: å¿«æ’ï¼Œå½’å¹¶ï¼› æ—¶é—´å¤æ‚åº¦ï¼ˆO(n)ï¼‰: æ¡¶ï¼Œè®¡æ•°ï¼ŒåŸºæ•°ï¼› ","date":"2022-01-08","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/:1:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäº”ï¼‰æ’åº","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"å¦‚ä½•åˆ†æä¸€ä¸ªæ’åºç®—æ³• ","date":"2022-01-08","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/:2:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäº”ï¼‰æ’åº","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"æ‰§è¡Œæ•ˆç‡ï¼ˆæ—¶é—´å¤æ‚åº¦ï¼‰ï¼š æœ€å¥½æƒ…å†µã€æœ€åæƒ…å†µã€å¹³å‡æƒ…å†µï¼› æ—¶é—´å¤æ‚åº¦çš„ç³»æ•°ã€å¸¸æ•°ã€ä½é˜¶ï¼šæ—¶é—´å¤æ‚åº¦åæ˜ çš„æ˜¯æ•°æ®è§„æ¨¡ n å¾ˆå¤§çš„æ—¶å€™çš„å¢é•¿è¶‹åŠ¿ï¼Œæ‰€ä»¥ä»–ä¼šå¿½ç•¥æ‰ç³»æ•°ã€å¸¸æ•°å’Œä½é˜¶ã€‚ä½†å®é™…å¼€å‘ä¸­ï¼Œé¢å¯¹ä¸€äº›è§„æ¨¡å¾ˆå°çš„æ•°æ®æ—¶ï¼Œä¸ºäº†ç›¸å¯¹ç²¾ç¡®çš„æ¯”è¾ƒä¸åŒç®—æ³•çš„æ‰§è¡Œæ•ˆç‡ï¼Œå°±éœ€è¦æŠŠç³»æ•°ã€å¸¸æ•°ã€ä½é˜¶ä¹Ÿè€ƒè™‘è¿›å»ã€‚ ","date":"2022-01-08","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/:2:1","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäº”ï¼‰æ’åº","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"å†…å­˜æ¶ˆè€—ï¼ˆç©ºé—´å¤æ‚åº¦ï¼‰ï¼› ","date":"2022-01-08","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/:2:2","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäº”ï¼‰æ’åº","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"ç¨³å®šæ€§ï¼šæŒ‡çš„æ˜¯å¦‚æœåœ¨å¾…æ’åºçš„åºåˆ—ä¸­å­˜åœ¨å€¼ç›¸ç­‰çš„å…ƒç´ ï¼Œç»è¿‡æ’åºåï¼Œç›¸ç­‰å…ƒç´ ä¹‹é—´çš„é¡ºåºæ˜¯å¦å‘ç”Ÿå˜åŒ– ","date":"2022-01-08","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/:2:3","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäº”ï¼‰æ’åº","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"å†’æ³¡æ’åº ä»ä¸‹æ ‡ 0 å¼€å§‹ï¼Œå¯¹ç›¸é‚»çš„æ•°æ®è¿›è¡Œæ¯”è¾ƒï¼Œä¸æ»¡è¶³æ¡ä»¶åˆ™äº’æ¢ä½ç½®ã€‚ ä¸€è½®å†’æ³¡ä¼šè®©è‡³å°‘ä¸€ä¸ªå…ƒç´ ç§»åŠ¨åˆ°ä»–åº”è¯¥åœ¨çš„ä½ç½®ã€‚é‡å¤ n æ¬¡ã€‚å°±å®Œæˆäº† n ä¸ªæ•°æ®çš„æ’åºã€‚ å¯ä»¥çœ‹åˆ°ï¼Œç»è¿‡ä¸€æ¬¡æ’åºåï¼Œ6 å·²ç»æŒªåˆ°äº†æœ«å°¾ã€‚æ‰§è¡Œ 6 æ¬¡åï¼Œæ’åºå®Œæˆã€‚ ä¸¤ä¸ªä¼˜åŒ–ç‚¹ï¼š å½“æŸä¸€è½®å†’æ³¡æœŸé—´ï¼Œæ²¡æœ‰æ•°æ®äº¤æ¢çš„æ“ä½œï¼Œæ„å‘³ç€å·²ç»è¾¾åˆ°å®Œå…¨æœ‰åºï¼Œå°±æ— é¡»åœ¨è¿›è¡Œåç»­çš„å†’æ³¡æ“ä½œäº†ã€‚ æ¯ä¸€è½®å†’æ³¡åï¼Œéƒ½ä¼šè‡³å°‘ç¡®è®¤ä¸€ä¸ªå…ƒç´ çš„ä½ç½®äºæœ«å°¾ã€‚å› æ­¤ï¼Œæ¯è½®å†’æ³¡ç›¸å¯¹äºä¸Šä¸€è½®éƒ½å¯ä»¥å°‘æ¯”è¾ƒä¸€æ¬¡ã€‚ï¼ˆå¦‚å›¾ä¾‹ï¼Œç¬¬ä¸€è½®å†’æ³¡éœ€è¦æ¯”è¾ƒ 6 ä¸ªå…ƒç´ ï¼Œç¬¬äºŒè½®åˆ™åªéœ€è¦æ¯”è¾ƒå‰ 5 ä¸ªå…ƒç´ ï¼‰ // å†’æ³¡æ’åº const bobbleSort = (arr) =\u003e { if (arr.length \u003c= 1) return arr; for(let i = 0; i \u003c arr.length; i++) { let flag = true; for(let j = 0; j \u003c arr.length - i; j++) { if (arr[j] \u003e arr[j + 1]) { let temp = arr[j]; arr[j] = arr[j + 1]; arr[j] = temp; flag = false; } } if (flag) break; } } ","date":"2022-01-08","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/:3:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäº”ï¼‰æ’åº","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"æ’å…¥æ’åº é¦–å…ˆå°†æ•°ç»„ä¸­çš„æ•°æ®åˆ†ä¸ºä¸¤ä¸ªåŒºé—´ï¼Œå·²æ’åºåŒºé—´å’Œæœªæ’åºåŒºé—´ã€‚ï¼ˆåˆå§‹ï¼Œå·²æ’åºåŒºé—´åªæœ‰ä¸€ä¸ªå…ƒç´ å¦‚ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ æ’å…¥æ’åºçš„æ ¸å¿ƒæ€æƒ³ï¼š éå†æœªæ’åºåŒºé—´çš„å…ƒç´ ï¼Œåœ¨å·²æ’åºåŒºé—´ä¸­æ‰¾åˆ°åˆé€‚çš„ä½ç½®ï¼Œæ’å…¥è¿›å»ï¼Œå¹¶ä¿è¯å·²æ’åºåŒºé—´ä¸€ç›´æœ‰åºã€‚çŸ¥é“æœªæ’åºåŒºé—´ä¸­çš„å…ƒç´ ä¸ºç©ºã€‚ æŠŠæ•°æ® a æ’å…¥å·²æ’åºåŒºé—´ï¼šéœ€è¦æ‹¿ a ä¸å·²æ’åºåŒºé—´çš„å…ƒç´ ä¾æ¬¡è¿›è¡Œæ¯”è¾ƒï¼Œæ‰¾åˆ°åˆé€‚çš„ä½ç½®æ’å…¥è¿›å»ã€‚ // æ’å…¥æ’åº const insertionSort = (arr) =\u003e { if (arr.length \u003c= 1) return; // 1. éå†æœªæ’åºåŒºé—´çš„å…ƒç´ ã€‚ for (let i =1; i\u003c arr.length; i++) { // 2. å½“å‰è¦è¿›è¡Œæ¯”è¾ƒæ’å…¥çš„æœªæ’åºåŒºé—´å…ƒç´  let value = a[i]; // 3. valueå…ƒç´ çš„ä¸Šä¸€ä¸ªå…ƒç´ ä¸‹æ ‡ã€‚ let j = i - 1; // 4. ä» ä¸‹æ ‡jå¼€å§‹ï¼Œå¾€ä¸‹æ ‡0ä¾æ¬¡è¿›è¡Œæ¯”è¾ƒï¼Œç›´åˆ°æ‰¾åˆ°valueåº”è¯¥æ’å…¥çš„ä½ç½® for(; j \u003e= 0; j--) { ifï¼ˆarr[j] \u003e valueï¼‰{ arr[j + 1] = arr[j]; } else { break; } } //æ’å…¥æ•°æ®valueï¼› arr[j + 1] = value; } } ","date":"2022-01-08","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/:4:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäº”ï¼‰æ’åº","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"é€‰æ‹©æ’åº ç±»ä¼¼äºæ’å…¥æ’åºï¼Œä¹Ÿæœ‰å·²æ’åºåŒºé—´å’Œæœªæ’åºåŒºé—´ï¼Œå·²æ’åºåŒºé—´é»˜è®¤ä¸ºç©ºï¼Œ åœ¨æœªæ’åºåŒºé—´æ‰¾åˆ°æœ€å°å€¼ï¼Œæ’å…¥å·²æ’åºåŒºé—´çš„æœ«å°¾ï¼› // é€‰æ‹©æ’åº const selectionSort = (arr) =\u003e { if (arr.length \u003c= 1) return; for (let i = 0; i \u003c arr.length; i++) { let minIndex = i; for (let j = i+1; j\u003c arr.length; j++) { minIndex = arr[minIndex] \u003c arr[j] ? minIndex : j; } const temp = arr[i]; arr[i] = arr[minIndex]; arr[minIndex] = temp; } console.log(arr); return arr; } ","date":"2022-01-08","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/:5:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäº”ï¼‰æ’åº","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"æ¯”è¾ƒå†’æ³¡æ’åºå’Œæ’å…¥æ’åº å†’æ³¡æ’åºçš„æ•°æ®äº¤æ¢æ¯”æ’å…¥æ’åºçš„æ•°æ®ç§»åŠ¨è¦å¤æ‚ï¼Œå†’æ³¡æ’åºéœ€è¦ä¸‰ä¸ªèµ‹å€¼æ“ä½œï¼Œè€Œæ’å…¥æ’åºåªéœ€è¦ä¸€ä¸ª // å†’æ³¡æ’åº ifï¼ˆa[j] \u003e a[j + 1]ï¼‰ { let temp = a[j]; a[j] = a[j + 1]; a[j + 1] = temp; }; //æ’å…¥æ’åº if (a[j] \u003e value) { a[j + 1] = a[j]; } else { break; }; æ€»ç»“ï¼š ","date":"2022-01-08","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/:6:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäº”ï¼‰æ’åº","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%94%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†åŸºæœ¬çš„ Markdown è¯­æ³•å’Œæ ¼å¼.","date":"2022-01-07","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆå››ï¼‰é€’å½’","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"é€’å½’ æè¿°ï¼š ä¸€ç§éå¸¸é«˜æ•ˆã€ç®€æ´çš„ç¼–ç¨‹æŠ€å·§ã€‚å‡½æ•°è°ƒç”¨è‡ªèº«çš„æ–¹å¼ç§°ä¸ºé€’å½’è°ƒç”¨ï¼Œè°ƒç”¨æˆä¸ºé€’ï¼Œè¿”å›ç§°ä¸ºå½’ï¼› æ­£ç¡®å§¿åŠ¿ï¼šæ‰¾åˆ°å¦‚ä½•å°†å¤§é—®é¢˜åˆ†è§£ä¸ºå°é—®é¢˜çš„è§„å¾‹ï¼Œå¹¶åŸºäºæ­¤å†™å‡ºé€’æ¨å…¬å¼ã€‚ç„¶åå†æ•²å®šç»ˆæ­¢æ¡ä»¶ï¼Œç”Ÿæˆé€’å½’å‡½æ•°ã€‚ ","date":"2022-01-07","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/:0:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆå››ï¼‰é€’å½’","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"ä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼šä»£ç ç®€æ´ï¼Œè¡¨è¾¾åŠ›å¼º ç¼ºç‚¹ï¼š ç©ºé—´å¤æ‚åº¦é«˜ï¼Œæœ‰å †æ ˆæº¢å‡ºé£é™©ã€å­˜åœ¨é‡å¤è®¡ç®—ã€è¿‡å¤šå‡½æ•°è°ƒç”¨ä¼šè€—æ—¶è¾ƒå¤šç­‰é—®é¢˜ã€‚ ","date":"2022-01-07","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/:1:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆå››ï¼‰é€’å½’","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"é€’å½’éœ€è¦æ»¡è¶³çš„ä¸‰ä¸ªæ¡ä»¶ï¼š ä¸€ä¸ªäººé—®é¢˜çš„è§£å¯ä»¥åˆ†è§£ä¸ºå‡ ä¸ªå­é—®é¢˜ï¼ˆæ•°æ®è§„æ¨¡æ›´å°çš„é—®é¢˜ï¼‰çš„è§£ï¼› è¿™ä¸ªé—®é¢˜ä¸åˆ†è§£åçš„å­é—®é¢˜ï¼Œé™¤äº†æ•°æ®è§„æ¨¡ä¸åŒï¼Œæ±‚è§£æ€è·¯å®Œå…¨ä¸€æ ·ï¼› å­˜åœ¨é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šæŠŠé—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜ï¼ŒæŠŠå­é—®é¢˜å†åˆ†è§£ä¸ºå­å­é—®é¢˜ï¼Œä¸€å±‚å±‚åˆ†è§£ä¸‹å»ï¼Œè¿™å°±éœ€è¦ä¸€ä¸ªç»ˆæ­¢æ¡ä»¶ï¼Œé˜²æ­¢æ— é™åˆ†è§£ï¼› ","date":"2022-01-07","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/:2:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆå››ï¼‰é€’å½’","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"ç»ƒä¹ é¢˜ï¼š å‡è®¾æœ‰ n ä¸ªå°é˜¶ï¼Œæ¯æ¬¡ä½ å¯ä»¥è·¨ä¸€ä¸ªå°é˜¶æˆ–è€… 2 ä¸ªå°é˜¶ï¼Œè¯·é—®èµ°è¿™ n ä¸ªå°é˜¶æœ‰å¤šå°‘ç§èµ°æ³•ï¼Ÿ æç¤ºï¼š å¦‚æœæœ‰ 7 ä¸ªå°é˜¶ï¼Œä½ å¯ä»¥ 2ï¼Œ2ï¼Œ2ï¼Œ1 è¿™æ ·å­ä¸Šå»ï¼Œä¹Ÿå¯ä»¥ 1ï¼Œ2ï¼Œ1ï¼Œ2ï¼Œ1 è¿™æ ·å­ä¸Šå»ã€‚ è§£ï¼š æˆ‘ä»¬å¯ä»¥æ ¹æ® ç¬¬ä¸€æ­¥ çš„èµ°æ³•æŠŠæ‰€æœ‰èµ°æ³•åˆ†ä¸ºä¸¤ç±»ï¼Œ ç¬¬ä¸€ç±»æ˜¯ç¬¬ä¸€æ­¥èµ°äº† 1 ä¸ªå°é˜¶ ç¬¬äºŒç±»æ˜¯ç¬¬ä¸€æ­¥èµ°äº† 2 ä¸ªå°é˜¶ æ‰€ä»¥ï¼Œn ä¸ªå°é˜¶çš„èµ°æ³• = å…ˆèµ° 1 ä¸ªå°é˜¶åï¼Œn-1 ä¸ªå°é˜¶çš„èµ°æ³• + å…ˆèµ° 2 ä¸ªå°é˜¶åï¼Œn-1 ä¸ªå°é˜¶çš„èµ°æ³•ã€‚ å¾—åˆ°æ±‚è§£å…¬å¼ï¼š f(n) = f(n-1) + f(n-2) æ‰¾åˆ°ç»ˆæ­¢æ¡ä»¶ï¼š å½“æœ‰ä¸€ä¸ªå°é˜¶æ—¶ï¼Œåªæœ‰ä¸€ä¸ªèµ°æ³•ï¼Œç»“æŸé€’å½’ï¼Œf(1) = 1ï¼›å½“æœ‰ä¸¤ä¸ªå°é˜¶æ—¶ï¼Œæœ‰ä¸¤ä¸ªèµ°æ³•ï¼Œç»“æŸé€’å½’ï¼Œf(2ï¼‰= 2ï¼› é€šè¿‡æ±‚è§£å…¬å¼å’Œç»ˆæ­¢æ¡ä»¶ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªé€’å½’å‡½æ•°æ±‚å‡ºæ‰€æœ‰èµ°æ³•çš„æ€»æ•° const func = (num) =\u003e { if (n === 1) return 1; if (n === 2) return 2; return f(n-1) + f(n-2); } ","date":"2022-01-07","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/:3:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆå››ï¼‰é€’å½’","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"æŠ€å·§ å¦‚æœä¸€ä¸ªé—®é¢˜ A å¯ä»¥åˆ†è§£ä¸ºè‹¥å¹²ä¸ªå­é—®é¢˜ Bã€Cã€Dï¼Œä½ å¯ä»¥å‡è®¾å­é—®é¢˜ Bã€Cã€D å·²ç»è§£å†³ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæ€è€ƒå¦‚ä½•è§£å†³é—®é¢˜ Aã€‚å±è”½æ‰é€’å½’ç»†èŠ‚ï¼ŒæŠŠå®ƒæŠ½è±¡æˆä¸€ä¸ªé€’æ¨å…¬å¼ï¼Œä¸è¦æƒ³ä¸€å±‚å±‚çš„è°ƒç”¨å…³ç³»ï¼Œä¸è¦è¯•å›¾ç”¨äººè„‘å»åˆ†è§£é€’å½’çš„æ¯ä¸ªæ­¥éª¤ã€‚ ","date":"2022-01-07","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/:4:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆå››ï¼‰é€’å½’","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"é€’å½’çš„é—®é¢˜ï¼š è¦è­¦æƒ•å †æ ˆæº¢å‡ºï¼šå‡½æ•°è°ƒç”¨ä¼šä½¿ç”¨æ ˆæ¥ä¿å­˜ä¸´æ—¶å˜é‡æ¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œéƒ½ä¼šå°†ä¸´æ—¶å˜é‡å°è£…ä¸ºæ ˆå¸§å‹å…¥å†…å­˜æ ˆï¼Œç­‰å‡½æ•°æ‰§è¡Œå®Œæˆè¿”å›æ—¶ï¼Œæ‰å‡ºæ ˆï¼Œç³»ç»Ÿæ ˆå’Œè™šæ‹Ÿæœºæ ˆç©ºé—´ä¸€èˆ¬éƒ½ä¸å¤§ï¼Œå¦‚æœé€’å½’æ±‚è§£çš„æ•°æ®è§„æ¨¡å¾ˆå¤§ï¼Œè°ƒç”¨å±‚æ¬¡å¾ˆæ·±ï¼Œä¸€ç›´å‹å…¥æ ˆï¼Œå°±ä¼šæœ‰å †æ ˆæº¢å‡ºçš„é£é™©ã€‚ è§£å†³ï¼šå°½å¯èƒ½çš„é™åˆ¶é€’å½’æ·±åº¦å’Œè¿ç®—çš„å¤æ‚åº¦ è¦è­¦æƒ•é‡å¤è®¡ç®—ï¼šå¦‚æœæŠŠä¸Šé¢˜çš„é€’å½’è¿‡ç¨‹æ‹†è§£ï¼Œå¦‚ä¸‹å›¾ï¼š æˆ‘ä»¬å¯ä»¥ç›´è§‚çš„çœ‹åˆ°ï¼Œæƒ³è¦è®¡ç®— f(5)ï¼Œéœ€è¦å…ˆè®¡ç®— f(4)å’Œ f(3)ï¼Œè€Œè®¡ç®— f(4)åŒæ ·éœ€è¦è®¡ç®— f(3)ï¼Œå› æ­¤ï¼Œf(3)å°±è¢«è®¡ç®—äº†å¾ˆå¤šæ¬¡ï¼Œè¿™å°±æ˜¯é‡å¤è®¡ç®—é—®é¢˜ã€‚ è§£å†³ï¼šå¯ä»¥å°†æ±‚è§£è¿‡çš„ f(k)ä¿å­˜èµ·æ¥ï¼Œå½“é€’å½’è°ƒç”¨åˆ° f(k)æ—¶å…ˆçœ‹ä¸‹æ˜¯å¦å·²ç»æ±‚è§£è¿‡äº†ï¼Œæ˜¯åˆ™ç›´æ¥å–å€¼è¿”å›ã€‚ const returnList = {}; const func = (num) =\u003e { if (n === 1) return 1; if (n === 2) return 2; if (returnList[n]) { return rerutnList[n] } const val = f(n-1) + f(n-2) returnList[n] = val; return val; } è¦è­¦æƒ•æ— é™é€’å½’é—®é¢˜ï¼š è§£å†³ï¼š ä¸€å®šè¦ä¿è¯ç»ˆæ­¢æ¡ä»¶æ˜¯æœ‰æ•ˆä¸”åˆç†çš„ï¼Œ ","date":"2022-01-07","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/:5:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆå››ï¼‰é€’å½’","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9B%9B%E9%80%92%E5%BD%92/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†åŸºæœ¬çš„ Markdown è¯­æ³•å’Œæ ¼å¼.","date":"2022-01-06","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%89%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆä¸‰ï¼‰æ ˆä¸é˜Ÿåˆ—","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%89%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"æ ˆ æ ˆæ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨ï¼Œåªå…è®¸åœ¨ä¸€ç«¯æ’å…¥ï¼ˆpush()ï¼‰å’Œåˆ é™¤ï¼ˆpop()ï¼‰æ•°æ®ã€‚ ç‰¹æ€§ï¼š åè¿›è€…å…ˆå‡ºï¼Œå…ˆè¿›è€…åå‡º ä½¿ç”¨åœºæ™¯ï¼š å¦‚æµè§ˆå™¨çš„å‰è¿›ã€åé€€åŠŸèƒ½ ","date":"2022-01-06","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%89%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/:0:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆä¸‰ï¼‰æ ˆä¸é˜Ÿåˆ—","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%89%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"ä½¿ç”¨æ•°ç»„å®ç°ä¸€ä¸ªç®€æ˜“çš„æ ˆç»“æ„ class CreateStack { private stack: any[] = []; public push(item: any) { this.stack.push(item); return true; } public pop() { if (this.stack.length === 0) { return null; } const tmp = this.stack[this.stack.length - 1]; this.stack.pop(); return tmp; } } é˜Ÿåˆ— é˜Ÿåˆ—å’Œæ ˆéå¸¸çš„ç›¸ä¼¼ï¼Œæœ€åŸºæœ¬çš„æ“ä½œä¹Ÿæ˜¯ä¸¤ä¸ªï¼š å…¥é˜Ÿï¼ˆenqueue()ï¼‰ï¼Œæ”¾ä¸€ä¸ªæ•°æ®åˆ°é˜Ÿåˆ—çš„å°¾éƒ¨ï¼Œå‡ºé˜Ÿï¼ˆdequeue()ï¼‰,ä»é˜Ÿå¤´å–å‡ºä¸€ä¸ªæ•°æ®ã€‚ ç‰¹æ€§ï¼š å…ˆè¿›å…ˆå‡ºã€‚ ","date":"2022-01-06","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%89%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/:1:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆä¸‰ï¼‰æ ˆä¸é˜Ÿåˆ—","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%89%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"ä½¿ç”¨æ•°ç»„å®ç°ä¸€ä¸ªç®€æ˜“çš„é˜Ÿåˆ—ç»“æ„ class CreateStack { private stack: any[] = []; private headIndex: number = 0ï¼› public enqueue(item: any) { this.stack.push(item); return true; } public dequeue() { if (this.stack.length === headIndex) { return null; } const tmp = this.stack[headIndex]; ++headIndex; return tmp; } } ","date":"2022-01-06","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%89%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/:2:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆä¸‰ï¼‰æ ˆä¸é˜Ÿåˆ—","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%89%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†åŸºæœ¬çš„ Markdown è¯­æ³•å’Œæ ¼å¼.","date":"2022-01-04","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäºŒï¼‰æ•°ç»„ä¸é“¾è¡¨","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"æ•°ç»„ æ•°ç»„æ˜¯ä¸€ç§çº¿æ€§è¡¨æ•°æ®ç»“æ„ï¼Œç”¨ä¸€ç»„è¿ç»­çš„å†…å­˜ç©ºé—´æ¥å­˜å‚¨æ•°æ® çº¿æ€§è¡¨ï¼š çº¿æ€§è¡¨å°±æ˜¯æ•°æ®æ’æˆåƒä¸€æ¡çº¿ä¸€æ ·çš„ç»“æ„ï¼Œæ¯ä¸ªçº¿æ€§è¡¨ä¸Šçš„æ•°æ®æœ€å¤šåªæœ‰å‰å’Œåä¸¤ä¸ªæ–¹å‘ï¼Œ å…¶ä»–çº¿æ€§è¡¨æ•°æ®ç»“æ„ï¼šé“¾è¡¨ã€é˜Ÿåˆ—ã€æ ˆã€‚ éçº¿æ€§è¡¨ï¼š æ•°æ®ä¹‹é—´ä¸æ˜¯ç®€å•çš„å‰åå…³ç³» é“¾è¡¨ ä¸æ•°ç»„ä¸åŒï¼Œ ä»–å¹¶ä¸éœ€è¦ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œä»–å¯ä»¥é€šè¿‡æŒ‡é’ˆå°†ä¸€ç»„é›¶æ•£çš„å†…å­˜å—ä¸²è”èµ·æ¥ä½¿ç”¨ã€‚ æœ€å¸¸è§çš„ä¸‰ç§é“¾è¡¨ç»“æ„ï¼š å•é“¾è¡¨ï¼ŒåŒå‘é“¾è¡¨ï¼Œå¾ªç¯é“¾è¡¨ã€‚ ","date":"2022-01-04","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/:0:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäºŒï¼‰æ•°ç»„ä¸é“¾è¡¨","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"å•é“¾è¡¨ é“¾è¡¨é€šè¿‡æŒ‡é’ˆå°†ä¸€ä¸²é›¶æ•£çš„å†…å­˜å—ä¸²è”åœ¨ä¸€èµ·ï¼Œå…¶ä¸­ï¼Œå†…å­˜å—ç§°ä¸ºé“¾è¡¨çš„èŠ‚ç‚¹ï¼Œä¸ºäº†æŠŠæ‰€æœ‰çš„èŠ‚ç‚¹ä¸²èµ·æ¥ï¼Œæ¯ä¸ªé“¾è¡¨çš„èŠ‚ç‚¹é™¤äº†å­˜å‚¨æ•°æ®å¤–ï¼Œè¿˜éœ€è¦è®°å½•ä¸‹ä¸€ä¸ªé“¾è¡¨çš„åœ°å€ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªè®°å½•ä¸‹ä¸ªèŠ‚ç‚¹åœ°å€çš„æŒ‡é’ˆå«åšåç»§æŒ‡é’ˆ next å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹ä¸¤ä¸ªèŠ‚ç‚¹æ¯”è¾ƒç‰¹æ®Šï¼Œ å¤´ç»“ç‚¹ç”¨æ¥è®°å½•é“¾è¡¨çš„åŸºåœ°å€ï¼Œæœ‰äº†å®ƒï¼Œå°±å¯ä»¥éå†å¾—åˆ°æ•´æ¡é“¾è¡¨ã€‚ å°¾ç»“ç‚¹åˆ™æŒ‡å‘ä¸€ä¸ªç©ºåœ°å€ nullï¼Œè¡¨ç¤ºè¿™æ˜¯é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚ ","date":"2022-01-04","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/:1:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäºŒï¼‰æ•°ç»„ä¸é“¾è¡¨","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"å¾ªç¯é“¾è¡¨ å¾ªç¯é“¾è¡¨æ˜¯ç‰¹æ®Šçš„å•é“¾è¡¨ï¼Œå’Œå•é“¾è¡¨çš„åŒºåˆ«å°±åœ¨äºå°¾ç»“ç‚¹ï¼Œå¾ªç¯é“¾è¡¨çš„å°¾ç»“ç‚¹æŒ‡å‘é“¾è¡¨çš„å¤´ç»“ç‚¹ ","date":"2022-01-04","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/:2:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäºŒï¼‰æ•°ç»„ä¸é“¾è¡¨","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"åŒå‘é“¾è¡¨ å•é“¾è¡¨åªæœ‰ä¸€ä¸ªæ–¹å‘ï¼ŒèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªåç»§æŒ‡é’ˆ next æŒ‡å‘åé¢çš„èŠ‚ç‚¹ï¼ŒåŒå‘é“¾è¡¨åˆ™å¤šäº†ä¸€ä¸ªå‰é©±æŒ‡é’ˆ prev æŒ‡å‘å‰é¢çš„èŠ‚ç‚¹ï¼Œæ”¯æŒåŒå‘éå†ï¼Œå¢åŠ äº†çµæ´»æ€§ã€‚ åŒæ ·çš„ï¼Œæ—¢ç„¶å¤šå‡ºä¸€ä¸ªç©ºé—´ç”¨æ¥å­˜å‚¨å‰é©±èŠ‚ç‚¹ï¼Œæ‰€ä»¥ï¼Œå½“å­˜å‚¨åŒæ ·å¤šçš„æ•°æ®æ—¶ï¼ŒåŒå‘é“¾è¡¨è¦æ¯”å•é“¾è¡¨å æ®æ›´å¤šçš„å†…å­˜ç©ºé—´ ","date":"2022-01-04","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/:3:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäºŒï¼‰æ•°ç»„ä¸é“¾è¡¨","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"é“¾è¡¨çš„ç›¸å…³æ“ä½œ ","date":"2022-01-04","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/:4:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäºŒï¼‰æ•°ç»„ä¸é“¾è¡¨","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"æ’å…¥èŠ‚ç‚¹ // å°†èŠ‚ç‚¹æ’å…¥åˆ°nodeåé¢ new_node-\u003enext = node-\u003enext node = new_node ","date":"2022-01-04","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/:4:1","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäºŒï¼‰æ•°ç»„ä¸é“¾è¡¨","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"åˆ é™¤èŠ‚ç‚¹ // åˆ é™¤èŠ‚ç‚¹nodeçš„åç»§èŠ‚ç‚¹ node-\u003enext = node-\u003enext-\u003enext æ€»ç»“ï¼š æ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«ï¼š å­˜å‚¨ç»“æ„ï¼š æ•°ç»„ï¼š è¿ç»­çš„å†…å­˜ç©ºé—´ï¼›å¯ä»¥å€ŸåŠ© CPU çš„ç¼“å­˜æœºåˆ¶ï¼Œé¢„è¯»æ•°ç»„ä¸­çš„æ•°æ®ï¼Œè®¿é—®æ•ˆç‡æ›´é«˜ã€‚ é“¾è¡¨ï¼š ä¸€ç»„é›¶æ•£çš„å†…å­˜å—ï¼›å¯¹ CPU ç¼“å­˜ä¸å‹å¥½ï¼Œæ²¡åŠæ³•æœ‰æ•ˆé¢„è¯»ã€‚ æ’å…¥ï¼Œåˆ é™¤æ“ä½œçš„å¤æ‚åº¦ï¼š æ•°ç»„ï¼š æ•°ç»„ç»“æ„çš„åœ¨è¿›è¡Œæ’å…¥ã€åˆ é™¤æ“ä½œæ—¶ï¼Œä¸ºäº†ä¿è¯æ•´ä½“çš„è¿ç»­æ€§ï¼Œéœ€è¦åšå¤§é‡çš„æ•°æ®è¿ç§»ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ é“¾è¡¨ï¼š é“¾è¡¨çš„å­˜å‚¨ç©ºé—´æœ¬èº«å°±æ˜¯ä¸è¿ç»­çš„ï¼Œåªéœ€è¦å…³æ³¨è€ƒè™‘ç›¸é‚»æ¥ç‚¹çš„æŒ‡é’ˆæ”¹å˜ï¼Œæ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚ ï¼ˆå»¶ä¼¸ï¼šå°½ç®¡å•çº¯çš„åˆ é™¤æ“ä½œï¼Œ æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ï¼Œä½†åˆ é™¤æŸä¸ªèŠ‚ç‚¹ qï¼Œéœ€è¦çŸ¥é“ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€ï¼Œå•é“¾è¡¨å¯»æ‰¾ä¸Šä¸€ä¸ªèŠ‚ç‚¹ä»éœ€éå†æŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œæ€»æ—¶é—´ä¸ºæ‰¾+åˆ =O(n)ï¼›ï¼‰ éšæœºè®¿é—®ï¼š æ•°ç»„ï¼š å¯ä»¥é€šè¿‡ä¸‹æ ‡è®¡ç®—å‡ºå¯¹åº”çš„å†…å­˜åœ°å€ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚ é“¾è¡¨ï¼š å› ä¸ºé“¾è¡¨æ•°æ®ä¸æ˜¯ä¸æ˜¯è¿ç»­å‚¨å­˜çš„ï¼Œæ‰€ä»¥æ— æ³•åƒæ•°ç»„ä¸€æ ·æ ¹æ®é¦–åœ°å€å’Œä¸‹æ ‡è®¡ç®—å‡ºå¯¹åº”çš„å†…å­˜åœ°å€ï¼Œåªèƒ½é€šè¿‡æŒ‡é’ˆä¸€ä¸ªä¸ªèŠ‚ç‚¹è¿›è¡Œéå†çš„æ–¹æ³•å¯»æ‰¾ç›¸åº”çš„èŠ‚ç‚¹ã€‚é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½åªçŸ¥é“è‡ªå·±çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€ï¼Œå½“æˆ‘ä»¬æƒ³çŸ¥é“ç¬¬ k ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œåªèƒ½ä»ç¬¬ä¸€ä¸ªå¼€å§‹å¾€ä¸‹æ•°ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚ ","date":"2022-01-04","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/:4:2","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆäºŒï¼‰æ•°ç»„ä¸é“¾è¡¨","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%8C%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†åŸºæœ¬çš„ Markdown è¯­æ³•å’Œæ ¼å¼.","date":"2022-01-03","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%80%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆä¸€ï¼‰æ—¶é—´å¤æ‚åº¦ä¸ç©ºé—´å¤æ‚åº¦","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%80%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"å¼€å¤´ å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸‹å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾çš„ç¬”è®° ","date":"2022-01-03","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%80%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:1:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆä¸€ï¼‰æ—¶é—´å¤æ‚åº¦ä¸ç©ºé—´å¤æ‚åº¦","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%80%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"ç®€è¿° æ•°æ®ç»“æ„æŒ‡çš„æ˜¯â€˜ä¸€ç»„æ•°æ®çš„å­˜å‚¨ç»“æ„â€™ï¼Œç®—æ³•æŒ‡çš„æ˜¯â€™æ“ä½œæ•°æ®çš„ä¸€ç§æ–¹æ³•â€˜ã€‚ æ•°æ®ç»“æ„æ˜¯ä¸ºç®—æ³•æœåŠ¡çš„ï¼Œç®—æ³•è¦ä½œç”¨åœ¨ç‰¹å®šçš„æ•°æ®ç»“æ„ä¹‹ä¸Šã€‚ ","date":"2022-01-03","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%80%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:2:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆä¸€ï¼‰æ—¶é—´å¤æ‚åº¦ä¸ç©ºé—´å¤æ‚åº¦","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%80%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"æ­£ç‰‡ ","date":"2022-01-03","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%80%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:3:0","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆä¸€ï¼‰æ—¶é—´å¤æ‚åº¦ä¸ç©ºé—´å¤æ‚åº¦","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%80%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"content":"å¤æ‚åº¦åˆ†æ æ—¶é—´å¤æ‚åº¦ ï¼ˆå¤§ O å¤æ‚åº¦è¡¨ç¤ºæ³•ï¼‰ ç®—æ³•çš„æ‰§è¡Œæ•ˆç‡ï¼Œç²—ç•¥çš„è®²ï¼Œå°±æ˜¯ç®—æ³•ä»£ç çš„æ‰§è¡Œæ—¶é—´ã€‚ const (n) =\u003e { const sum = 0; const i = 1; for (; i \u003c= n; ++i) { sum = sum + i; }; return sum } å‡è®¾æ¯è¡Œä»£ç æ‰§è¡Œçš„æ—¶é—´éƒ½ä¸€æ ·ï¼Œä¸º o,é‚£ä¹ˆ ç¬¬ 2, 3 è¡Œåˆ†åˆ«éœ€è¦ä¸€ä¸ª o çš„æ‰§è¡Œæ—¶é—´ï¼› ç¬¬ 4, 5 è¡Œéƒ½è¿è¡Œäº† n æ¬¡ï¼Œæ‰€ä»¥éœ€è¦ 2 ä¸ª n* o çš„æ‰§è¡Œæ—¶é—´ï¼› è¿™æ®µä»£ç çš„æ€»æ‰§è¡Œæ—¶é—´å°±æ˜¯ï¼šï¼ˆ2n + 2ï¼‰* oã€‚ å¯ä»¥çœ‹å‡ºï¼Œæ¯è¡Œä»£ç çš„æ‰§è¡Œæ¬¡æ•°è¶Šå¤šï¼Œæ€»æ‰§è¡Œæ—¶é—´ T(n)å°±è¶Šé«˜ã€‚æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œå†çœ‹ä¸€æ®µä»£ç  const (n) =\u003e { const sum = 0; const i = 1; for (; i \u003c= n; ++i) { const j = 1; for (; j \u003c= n; ++j) { sum = sum + i + j; } }; return sum } ç¬¬ 2ã€3ã€5 è¡Œéœ€è¦ä¸€ä¸ª o çš„æ‰§è¡Œæ—¶é—´ï¼› ç¬¬ 4ã€5 è¡Œæ‰§è¡Œäº† n éï¼Œéœ€è¦ 2 ä¸ª n * o çš„æ‰§è¡Œæ—¶é—´ï¼› ç¬¬ 7ã€8 è¡Œæ‰§è¡Œäº† n^2 éï¼Œéœ€è¦ 2 ä¸ª n^2 * o çš„æ‰§è¡Œæ—¶é—´ï¼› æ€»æ‰§è¡Œæ—¶é—´ä¸º(2n^2 + 2n + 3) * oã€‚ é€šè¿‡æ¨å¯¼ï¼Œå¾—åˆ°ä¸€ä¸ªå…¬å¼T(n) = O(f(n)) t(n)è¡¨ç¤ºä»£ç çš„æ‰§è¡Œæ—¶é—´ï¼Œf(n)è¡¨ç¤ºä»£ç æ‰§è¡Œæ¬¡æ•°çš„æ€»å’Œï¼Œæ‰€ä»¥ï¼Œç¬¬ä¸€ä¸ªä¾‹å­ä¸­çš„ T(n) = O(2n + 2)å’Œç¬¬äºŒä¸ªä¾‹å­çš„ T(n) = O(2n^2 + 2n + 3)ã€‚è¿™å°±æ˜¯å¤§ O æ—¶é—´å¤æ‚åº¦è¡¨ç¤ºæ³•ï¼Œä»–å¹¶ä¸èƒ½å…·ä½“è¡¨ç¤ºä»£ç çš„çœŸæ­£æ‰§è¡Œæ—¶é—´ï¼Œè€Œæ˜¯è¡¨ç¤ºä»£ç æ‰§è¡Œæ—¶é—´éšæ•°æ®è§„æ¨¡å¢é•¿çš„å˜åŒ–è¶‹åŠ¿ã€‚ å…¶ä¸­ï¼Œf(n)ä¸­çš„ä½é˜¶ã€å¸¸é‡ã€ç³»æ•°ã€ä¸‰éƒ¨åˆ†å¯¹å¢é•¿è¶‹åŠ¿ä¸äº§ç”Ÿç»å¯¹å½±å“ï¼ˆåœ¨ï¼ˆ2n^2 + 2n + 3ï¼‰ä¸­ï¼Œä½é˜¶æ˜¯ 2nã€å¸¸é‡æ˜¯ 3ã€ç³»æ•°æ˜¯ 2ï¼‰ï¼Œæ‰€ä»¥éƒ½å¯ä»¥çœç•¥ï¼Œæˆ‘ä»¬åªéœ€è¦è®°å½•ä¸€ä¸ªæœ€å¤§é‡çº§å°±å¯ä»¥ï¼Œå› æ­¤ï¼Œå‰ä¸¤ä¸ªä¾‹å­çš„äº‹ä»¶å¤æ‚åº¦å¯ä»¥è®°ä¸ºT(n) = O(n); T(n) = O(n^2)ã€‚ å‡ ç§å¸¸è§çš„æ—¶é—´å¤æ‚åº¦ ï¼ˆæŒ‰æ•°é‡çº§æ’åˆ—ï¼‰ å¸¸é‡é˜¶ï¼š O(1) // åªè¦ä»£ç çš„æ‰§è¡Œæ—¶é—´ä¸éšnçš„å¢å¤§è€Œå¢å¤§ï¼Œè¿™æ ·ä»£ç çš„æ—¶é—´å¤æ‚åº¦éƒ½è®°ä½œO(1) const func = (n) =\u003e { const a = 1; const b = 2; return a + b; }; å¯¹æ•°é˜¶ï¼š O(log n) let i = 1; while (i \u003c= n) { i = i * 2; } çº¿æ€§é˜¶ï¼š O(n) çº¿æ€§å¯¹æ•°é˜¶ï¼š O(n * log n) å¹³æ–¹é˜¶ï¼š O(n^2)ã€ç«‹æ–¹é˜¶ï¼š Oï¼ˆn^3ï¼‰â€¦â€¦ æŒ‡æ•°é˜¶ï¼š O(2^n) é˜¶ä¹˜é˜¶ï¼š O(n!) ç©ºé—´å¤æ‚åº¦ ä¸æ—¶é—´å¤æ‚åº¦åŒç†ï¼Œè¡¨ç¤ºç®—æ³•çš„å­˜å‚¨ç©ºé—´ä¸æ•°æ®è§„æ¨¡çš„å¢é•¿å…³ç³»ã€‚ å¸¸è§çš„ç©ºé—´å¤æ‚åº¦ O(1)ã€O(n)ã€o(n^2) ","date":"2022-01-03","objectID":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%80%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:3:1","tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","å­¦ä¹ ç¬”è®°"],"title":"æ•°æ®ç»“æ„ï¼ˆä¸€ï¼‰æ—¶é—´å¤æ‚åº¦ä¸ç©ºé—´å¤æ‚åº¦","uri":"/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%80%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":null,"content":"å…³äº LoveIt","date":"2019-08-02","objectID":"/myblog/about/","tags":null,"title":"å…³äº LoveIt","uri":"/myblog/about/"},{"categories":null,"content":" Â LoveIt æ˜¯ä¸€ä¸ªç”± â€‰Dillon å¼€å‘çš„ç®€æ´ã€ä¼˜é›…ä¸”é«˜æ•ˆçš„ Hugo åšå®¢ä¸»é¢˜ã€‚ å®ƒçš„åŸå‹åŸºäº LeaveIt ä¸»é¢˜ å’Œ KeepIt ä¸»é¢˜ã€‚ Hugo ä¸»é¢˜ LoveIt ","date":"2019-08-02","objectID":"/myblog/about/:0:0","tags":null,"title":"å…³äº LoveIt","uri":"/myblog/about/"},{"categories":null,"content":"ç‰¹æ€§ ","date":"2019-08-02","objectID":"/myblog/about/:1:0","tags":null,"title":"å…³äº LoveIt","uri":"/myblog/about/"},{"categories":null,"content":"æ€§èƒ½å’Œ SEO Â æ€§èƒ½ä¼˜åŒ–ï¼šåœ¨ Google PageSpeed Insights ä¸­ï¼Œ 99/100 çš„ç§»åŠ¨è®¾å¤‡å¾—åˆ†å’Œ 100/100 çš„æ¡Œé¢è®¾å¤‡å¾—åˆ† Â ä½¿ç”¨åŸºäº JSON-LD æ ¼å¼ çš„ SEO SCHEMA æ–‡ä»¶è¿›è¡Œ SEO ä¼˜åŒ– Â æ”¯æŒ Google Analytics Â æ”¯æŒ Fathom Analytics Â æ”¯æŒ Plausible Analytics Â æ”¯æŒ Yandex Metrica Â æ”¯æŒæœç´¢å¼•æ“çš„ç½‘ç«™éªŒè¯ (Google, Bind, Yandex and Baidu) Â æ”¯æŒæ‰€æœ‰ç¬¬ä¸‰æ–¹åº“çš„ CDN Â åŸºäº lazysizes è‡ªåŠ¨è½¬æ¢å›¾ç‰‡ä¸ºæ‡’åŠ è½½ ","date":"2019-08-02","objectID":"/myblog/about/:1:1","tags":null,"title":"å…³äº LoveIt","uri":"/myblog/about/"},{"categories":null,"content":"å¤–è§‚å’Œå¸ƒå±€ Â æ¡Œé¢ç«¯/ç§»åŠ¨ç«¯ å“åº”å¼å¸ƒå±€ Â æµ…è‰²/æ·±è‰² ä¸»é¢˜æ¨¡å¼ Â å…¨å±€ä¸€è‡´çš„è®¾è®¡è¯­è¨€ Â æ”¯æŒåˆ†é¡µ Â æ˜“ç”¨å’Œè‡ªåŠ¨å±•å¼€çš„æ–‡ç« ç›®å½• Â æ”¯æŒå¤šè¯­è¨€å’Œå›½é™…åŒ– Â ç¾è§‚çš„ CSS åŠ¨ç”» ç¤¾äº¤å’Œè¯„è®ºç³»ç»Ÿ Â æ”¯æŒ Gravatar å¤´åƒ Â æ”¯æŒæœ¬åœ°å¤´åƒ Â æ”¯æŒå¤šè¾¾ 73 ç§ç¤¾äº¤é“¾æ¥ Â æ”¯æŒå¤šè¾¾ 24 ç§ç½‘ç«™åˆ†äº« Â æ”¯æŒ Disqus è¯„è®ºç³»ç»Ÿ Â æ”¯æŒ Gitalk è¯„è®ºç³»ç»Ÿ Â æ”¯æŒ Valine è¯„è®ºç³»ç»Ÿ Â æ”¯æŒ Facebook comments è¯„è®ºç³»ç»Ÿ Â æ”¯æŒ Telegram comments è¯„è®ºç³»ç»Ÿ Â æ”¯æŒ Commento è¯„è®ºç³»ç»Ÿ Â æ”¯æŒ utterances è¯„è®ºç³»ç»Ÿ Â æ”¯æŒ giscus è¯„è®ºç³»ç»Ÿ ","date":"2019-08-02","objectID":"/myblog/about/:1:2","tags":null,"title":"å…³äº LoveIt","uri":"/myblog/about/"},{"categories":null,"content":"æ‰©å±•åŠŸèƒ½ Â æ”¯æŒåŸºäº Lunr.js æˆ– algolia çš„æœç´¢ Â æ”¯æŒ Twemoji Â æ”¯æŒä»£ç é«˜äº® Â ä¸€é”®å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ Â æ”¯æŒåŸºäº lightGallery çš„å›¾ç‰‡ç”»å»Š Â æ”¯æŒ Font Awesome å›¾æ ‡çš„æ‰©å±• Markdown è¯­æ³• Â æ”¯æŒä¸Šæ ‡æ³¨é‡Šçš„æ‰©å±• Markdown è¯­æ³• Â æ”¯æŒåˆ†æ•°çš„æ‰©å±• Markdown è¯­æ³• Â æ”¯æŒåŸºäº $\\KaTeX$ çš„æ•°å­¦å…¬å¼ Â æ”¯æŒåŸºäº mermaid çš„å›¾è¡¨ shortcode Â æ”¯æŒåŸºäº ECharts çš„äº¤äº’å¼æ•°æ®å¯è§†åŒ– shortcode Â æ”¯æŒåŸºäº Mapbox GL JS çš„ Mapbox shortcode Â æ”¯æŒåŸºäº APlayer å’Œ MetingJS çš„éŸ³ä¹æ’­æ”¾å™¨ shortcode Â æ”¯æŒ Bilibili è§†é¢‘ shortcode Â æ”¯æŒå¤šç§æ³¨é‡Šçš„ shortcode Â æ”¯æŒè‡ªå®šä¹‰æ ·å¼çš„ shortcode Â æ”¯æŒè‡ªå®šä¹‰è„šæœ¬çš„ shortcode Â æ”¯æŒåŸºäº TypeIt çš„æ‰“å­—åŠ¨ç”» shortcode Â æ”¯æŒåŸºäº cookieconsent çš„ Cookie è®¸å¯æ¨ªå¹… Â æ”¯æŒäººç‰©æ ‡ç­¾çš„ shortcode â€¦ ","date":"2019-08-02","objectID":"/myblog/about/:1:3","tags":null,"title":"å…³äº LoveIt","uri":"/myblog/about/"},{"categories":null,"content":"è®¸å¯åè®® LoveIt æ ¹æ® MIT è®¸å¯åè®®æˆæƒã€‚ æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹ LICENSE æ–‡ä»¶ã€‚ ","date":"2019-08-02","objectID":"/myblog/about/:2:0","tags":null,"title":"å…³äº LoveIt","uri":"/myblog/about/"},{"categories":null,"content":"ç‰¹åˆ«æ„Ÿè°¢ LoveIt ä¸»é¢˜ä¸­ç”¨åˆ°äº†ä»¥ä¸‹é¡¹ç›®ï¼Œæ„Ÿè°¢å®ƒä»¬çš„ä½œè€…ï¼š normalize.css Font Awesome Simple Icons Animate.css autocomplete Lunr.js algoliasearch lazysizes object-fit-images Twemoji emoji-data lightGallery clipboard.js Sharer.js TypeIt $\\KaTeX$ mermaid ECharts Mapbox GL JS APlayer MetingJS Gitalk Valine cookieconsent ","date":"2019-08-02","objectID":"/myblog/about/:3:0","tags":null,"title":"å…³äº LoveIt","uri":"/myblog/about/"}]